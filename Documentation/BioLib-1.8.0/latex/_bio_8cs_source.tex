\hypertarget{_bio_8cs_source}{}\doxysection{Bio.\+cs}
\label{_bio_8cs_source}\index{BioLib/BioLib/Source/Bio.cs@{BioLib/BioLib/Source/Bio.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00001}00001 \textcolor{keyword}{using }AForge;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00002}00002 \textcolor{keyword}{using }AForge.Imaging;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00003}00003 \textcolor{keyword}{using }AForge.Imaging.Filters;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00004}00004 \textcolor{keyword}{using }BitMiracle.LibTiff.Classic;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00005}00005 \textcolor{keyword}{using }loci.common.services;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00006}00006 \textcolor{keyword}{using }loci.formats;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00007}00007 \textcolor{keyword}{using }loci.formats.services;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00008}00008 \textcolor{keyword}{using }ome.xml.model.primitives;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00009}00009 \textcolor{keyword}{using }loci.formats.meta;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00010}00010 \textcolor{keyword}{using }System;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00011}00011 \textcolor{keyword}{using }System.Collections;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00012}00012 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00013}00013 \textcolor{keyword}{using }Newtonsoft.Json;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00014}00014 \textcolor{keyword}{using }System.Diagnostics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00015}00015 \textcolor{keyword}{using }System.Globalization;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00016}00016 \textcolor{keyword}{using }System.IO;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00017}00017 \textcolor{keyword}{using }System.Runtime.InteropServices;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00018}00018 \textcolor{keyword}{using }System.Threading;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00019}00019 \textcolor{keyword}{using }System.Runtime.Serialization;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00020}00020 \textcolor{keyword}{using }System.Text;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00021}00021 \textcolor{keyword}{using }Bitmap = AForge.Bitmap;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00022}00022 \textcolor{keyword}{using }Color = AForge.Color;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00023}00023 \textcolor{keyword}{using }loci.formats.@in;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00024}00024 \textcolor{keyword}{using }Gtk;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00025}00025 \textcolor{keyword}{using }System.Linq;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00026}00026 \textcolor{keyword}{using }NetVips;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00028}\mbox{\hyperlink{namespace_bio_lib}{00028}} \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_bio_lib}{BioLib}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00029}00029 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00030}00030     \textcolor{comment}{/* A class declaration. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00031}00031     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{class }Images}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00032}00032     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00033}00033         \textcolor{keyword}{public} \textcolor{keyword}{static} List<BioImage> images = \textcolor{keyword}{new} List<BioImage>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00043}00043         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} GetImage(\textcolor{keywordtype}{string} ids)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00044}00044         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00045}00045             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < images.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00046}00046             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00047}00047                 \textcolor{keywordflow}{if} (images[i].ID == ids || images[i].file == ids)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00048}00048                     \textcolor{keywordflow}{return} images[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00049}00049             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00050}00050             \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00051}00051         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00067}00067         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} AddImage(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} im, \textcolor{keywordtype}{bool} newtab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00068}00068         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00069}00069             \textcolor{keywordflow}{if} (images.Contains(im)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00070}00070             im.Filename = GetImageName(im.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00071}00071             im.ID = im.Filename;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00072}00072             images.Add(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00074}00074             \textcolor{comment}{//App.Image = im;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00075}00075             \textcolor{comment}{//NodeView.viewer.AddTab(im);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00076}00076         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00086}00086         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} GetImageCountByName(\textcolor{keywordtype}{string} s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00087}00087         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00088}00088             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00089}00089             \textcolor{keywordtype}{string} name = Path.GetFileNameWithoutExtension(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00090}00090             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < images.Count; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00091}00091             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00092}00092                 \textcolor{keywordflow}{if} (images[im].ID == s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00093}00093                     i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00094}00094             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00095}00095             \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00096}00096         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00106}00106         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} GetImageName(\textcolor{keywordtype}{string} s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00107}00107         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00108}00108             \textcolor{comment}{//Here we create a unique ID for an image.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00109}00109             \textcolor{keywordtype}{int} i = Images.GetImageCountByName(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00110}00110             \textcolor{keywordflow}{if} (i == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00111}00111                 \textcolor{keywordflow}{return} Path.GetFileName(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00112}00112             \textcolor{keywordtype}{string} name = Path.GetFileNameWithoutExtension(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00113}00113             \textcolor{keywordtype}{string} ext = Path.GetExtension(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00114}00114             \textcolor{keywordtype}{int} sti = name.LastIndexOf(\textcolor{stringliteral}{"{}-\/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00115}00115             \textcolor{keywordflow}{if} (sti == -\/1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00116}00116             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00117}00117                 \textcolor{keywordflow}{return} name + \textcolor{stringliteral}{"{}-\/"{}} + i + ext;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00119}00119             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00120}00120             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00121}00121             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00122}00122                 \textcolor{keywordtype}{string} stb = name.Substring(0, sti);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00123}00123                 \textcolor{keywordtype}{string} sta = name.Substring(sti + 1, name.Length -\/ sti -\/ 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00124}00124                 \textcolor{keywordtype}{int} ind;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00125}00125                 \textcolor{keywordflow}{if} (\textcolor{keywordtype}{int}.TryParse(sta, out ind))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00126}00126                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00127}00127                     \textcolor{keywordflow}{return} stb + \textcolor{stringliteral}{"{}-\/"{}} + (ind + 1).ToString() + ext;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00128}00128                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00129}00129                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00130}00130                     \textcolor{keywordflow}{return} name + \textcolor{stringliteral}{"{}-\/"{}} + i + ext;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00131}00131             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00132}00132         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00141}00141         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemoveImage(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} im)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00142}00142         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00143}00143             RemoveImage(im.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00144}00144         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00155}00155         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemoveImage(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00156}00156         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00157}00157             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} im = GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00158}00158             \textcolor{keywordflow}{if} (im == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00159}00159                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00160}00160             images.Remove(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00161}00161             im.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a25e327efa091538fe722d4de62a61e37}{Dispose}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00162}00162             im = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00163}00163         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00173}00173         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} UpdateImage(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} im)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00174}00174         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00175}00175             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < images.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00176}00176             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00177}00177                 \textcolor{keywordflow}{if} (images[i].ID == im.ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00178}00178                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00179}00179                     images[i] = im;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00180}00180                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00181}00181                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00182}00182             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00183}00183         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00184}00184     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00186}00186     \textcolor{comment}{/* A struct that is used to store the resolution of an image. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00187}\mbox{\hyperlink{struct_bio_lib_1_1_resolution}{00187}}     \textcolor{keyword}{public} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00188}00188     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00189}00189         \textcolor{keywordtype}{int} x;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00190}00190         \textcolor{keywordtype}{int} y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00191}00191         PixelFormat format;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00192}00192         \textcolor{keywordtype}{double} px, py, pz, sx, sy, sz;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00193}00193         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00194}00194         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00195}00195             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} x; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00196}00196             \textcolor{keyword}{set} \{ x = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00197}00197         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00198}00198         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00199}00199         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00200}00200             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} y; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00201}00201             \textcolor{keyword}{set} \{ y = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00202}00202         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00203}00203         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00204}00204         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00205}00205             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} px; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00206}00206             \textcolor{keyword}{set} \{ px = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00207}00207         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00208}00208         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00209}00209         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00210}00210             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} py; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00211}00211             \textcolor{keyword}{set} \{ py = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00212}00212         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00213}00213         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00214}00214         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00215}00215             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} pz; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00216}00216             \textcolor{keyword}{set} \{ pz = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00217}00217         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00218}00218         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00219}00219         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00220}00220             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sx; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00221}00221             \textcolor{keyword}{set} \{ sx = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00222}00222         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00223}00223         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00224}00224         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00225}00225             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sy; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00226}00226             \textcolor{keyword}{set} \{ sy = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00227}00227         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00228}00228         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00229}00229         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00230}00230             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sz; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00231}00231             \textcolor{keyword}{set} \{ sz = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00232}00232         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00233}00233         \textcolor{keyword}{public} \textcolor{keywordtype}{double} VolumeWidth}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00234}00234         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00235}00235             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00236}00236             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00237}00237                 \textcolor{keywordflow}{return} PhysicalSizeX * SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00238}00238             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00239}00239         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00240}00240         \textcolor{keyword}{public} \textcolor{keywordtype}{double} VolumeHeight}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00241}00241         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00242}00242             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00243}00243             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00244}00244                 \textcolor{keywordflow}{return} PhysicalSizeY * SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00245}00245             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00246}00246         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00247}00247         \textcolor{keyword}{public} PixelFormat PixelFormat}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00248}00248         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00249}00249             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} format; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00250}00250             \textcolor{keyword}{set} \{ format = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00251}00251         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00252}00252         \textcolor{keyword}{public} \textcolor{keywordtype}{int} RGBChannelsCount}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00253}00253         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00254}00254             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00255}00255             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00256}00256                 \textcolor{keywordflow}{if} (PixelFormat == PixelFormat.Format8bppIndexed || PixelFormat == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00257}00257                     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00258}00258                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (PixelFormat == PixelFormat.Format24bppRgb || PixelFormat == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00259}00259                     \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00260}00260                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00261}00261                     \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00262}00262             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00263}00263         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00264}00264         \textcolor{comment}{/* The above code is defining a property called "{}SizeInBytes"{} in C\#. This property returns the}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00265}00265 \textcolor{comment}{        size of an image in bytes based on its pixel format. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00266}00266         \textcolor{keyword}{public} \textcolor{keywordtype}{long} SizeInBytes}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00267}00267         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00268}00268             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00269}00269             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00270}00270                 \textcolor{keywordflow}{if} (format == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00271}00271                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{long})y * (long)x;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00272}00272                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00273}00273                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{long})y * (long)x * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00274}00274                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00275}00275                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{long})y * (long)x * 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00276}00276                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == PixelFormat.Format32bppRgb || format == PixelFormat.Format32bppArgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00277}00277                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{long})y * (long)x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00278}00278                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format == PixelFormat.Format48bppRgb || format == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00279}00279                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{long})y * (long)x * 6;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00280}00280                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException(format + \textcolor{stringliteral}{"{} is not supported."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00281}00281             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00282}00282         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00283}00283         \textcolor{comment}{/* The above code is defining a constructor for a class called "{}Resolution"{}. The constructor}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00284}00284 \textcolor{comment}{        takes in several parameters including the width and height of an image, the number of pixels}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00285}00285 \textcolor{comment}{        per unit of physical measurement, the number of bits per pixel, the physical dimensions of}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00286}00286 \textcolor{comment}{        the image, and the stage dimensions of the image. The constructor assigns these values to}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00287}00287 \textcolor{comment}{        the corresponding properties of the class. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00288}00288         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}(\textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} omePx, \textcolor{keywordtype}{int} bitsPerPixel, \textcolor{keywordtype}{double} physX, \textcolor{keywordtype}{double} physY, \textcolor{keywordtype}{double} physZ, \textcolor{keywordtype}{double} stageX, \textcolor{keywordtype}{double} stageY, \textcolor{keywordtype}{double} stageZ)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00289}00289         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00290}00290             x = w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00291}00291             y = h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00292}00292             sx = stageX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00293}00293             sy = stageY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00294}00294             sz = stageZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00295}00295             format = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(omePx, bitsPerPixel);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00296}00296             px = physX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00297}00297             py = physY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00298}00298             pz = physZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00299}00299         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00300}00300         \textcolor{comment}{/* The above code is defining a constructor for a class called "{}Resolution"{}. The constructor}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00301}00301 \textcolor{comment}{        takes in several parameters including width (w), height (h), pixel format (f), physical}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00302}00302 \textcolor{comment}{        dimensions (physX, physY, physZ), and stage dimensions (stageX, stageY, stageZ). The}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00303}00303 \textcolor{comment}{        constructor assigns the parameter values to corresponding class variables. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00304}00304         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}(\textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h, PixelFormat f, \textcolor{keywordtype}{double} physX, \textcolor{keywordtype}{double} physY, \textcolor{keywordtype}{double} physZ, \textcolor{keywordtype}{double} stageX, \textcolor{keywordtype}{double} stageY, \textcolor{keywordtype}{double} stageZ)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00305}00305         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00306}00306             x = w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00307}00307             y = h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00308}00308             format = f;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00309}00309             sx = stageX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00310}00310             sy = stageY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00311}00311             sz = stageZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00312}00312             px = physX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00313}00313             py = physY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00314}00314             pz = physZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00315}00315         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00316}00316         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}} Copy()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00317}00317         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00318}00318             \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}(x, y, format, px, py, pz, sx, sy, sz);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00319}00319         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00320}00320         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{string} ToString()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00321}00321         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00322}00322             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}("{}} + x + \textcolor{stringliteral}{"{}, "{}} + y + \textcolor{stringliteral}{"{}) "{}} + format.ToString() + \textcolor{stringliteral}{"{} "{}} + (SizeInBytes / 1000) + \textcolor{stringliteral}{"{} KB"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00323}00323         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00324}00324     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00325}00325     \textcolor{comment}{/* Declaring a struct named RectangleD. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00326}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{00326}}     \textcolor{keyword}{public} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00327}00327     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00328}00328         \textcolor{keyword}{private} \textcolor{keywordtype}{double} x;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00329}00329         \textcolor{keyword}{private} \textcolor{keywordtype}{double} y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00330}00330         \textcolor{keyword}{private} \textcolor{keywordtype}{double} w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00331}00331         \textcolor{keyword}{private} \textcolor{keywordtype}{double} h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00332}00332         \textcolor{keyword}{public} \textcolor{keywordtype}{double} X \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} x; \} \textcolor{keyword}{set} \{ x = value; \} \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00333}00333         \textcolor{keyword}{public} \textcolor{keywordtype}{double} Y \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} y; \} \textcolor{keyword}{set} \{ y = value; \} \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00334}00334         \textcolor{keyword}{public} \textcolor{keywordtype}{double} W \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} w; \} \textcolor{keyword}{set} \{ w = value; \} \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00335}00335         \textcolor{keyword}{public} \textcolor{keywordtype}{double} H \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} h; \} \textcolor{keyword}{set} \{ h = value; \} \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00336}00336 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00337}00337         \textcolor{comment}{/* The above code is defining a constructor for a class called RectangleD in C\#. The}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00338}00338 \textcolor{comment}{        constructor takes four parameters: X, Y, W, and H, which represent the x-\/coordinate,}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00339}00339 \textcolor{comment}{        y-\/coordinate, width, and height of the rectangle, respectively. Inside the constructor, the}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00340}00340 \textcolor{comment}{        values of these parameters are assigned to the corresponding instance variables x, y, w, and}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00341}00341 \textcolor{comment}{        h. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00342}00342         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(\textcolor{keywordtype}{double} X, \textcolor{keywordtype}{double} Y, \textcolor{keywordtype}{double} W, \textcolor{keywordtype}{double} H)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00343}00343         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00344}00344             x = X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00345}00345             y = Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00346}00346             w = W;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00347}00347             h = H;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00348}00348         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00357}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a66c89aa74abfabc118cecca688ee9748}{00357}}         \textcolor{keyword}{public} Rectangle \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a66c89aa74abfabc118cecca688ee9748}{ToRectangleInt}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00358}00358         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00359}00359             \textcolor{keywordflow}{return} \textcolor{keyword}{new} Rectangle((\textcolor{keywordtype}{int})X, (\textcolor{keywordtype}{int})Y, (\textcolor{keywordtype}{int})W, (\textcolor{keywordtype}{int})H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00360}00360         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00361}00361 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00373}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a2f08737a7d18038a252635232d8663f6}{00373}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a2f08737a7d18038a252635232d8663f6}{IntersectsWith}}(\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} rect1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00374}00374         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00375}00375             \textcolor{keywordflow}{if} (rect1.X + rect1.W < X || X + W < rect1.X ||}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00376}00376         rect1.Y + rect1.H < Y || Y + H < rect1.Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00377}00377             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00378}00378                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00379}00379             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00380}00380             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00381}00381         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00392}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a6015707be8b71d7b74613d80f9258569}{00392}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a6015707be8b71d7b74613d80f9258569}{IntersectsWith}}(PointD p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00393}00393         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00394}00394             \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a2f08737a7d18038a252635232d8663f6}{IntersectsWith}}(p.X, p.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00395}00395         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00396}00396 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00408}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a26634404764c8fcea716becaf5d3ca1d}{00408}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a26634404764c8fcea716becaf5d3ca1d}{IntersectsWith}}(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00409}00409         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00410}00410             \textcolor{keywordflow}{if} (X <= x \&\& (X + W) >= x \&\& Y <= y \&\& (Y + H) >= y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00411}00411                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00412}00412             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00413}00413                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00414}00414         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00415}00415 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00423}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a02f084d60cd82aae268ae49f1402a6e7}{00423}}         \textcolor{keyword}{public} RectangleF \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a02f084d60cd82aae268ae49f1402a6e7}{ToRectangleF}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00424}00424         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00425}00425             \textcolor{keywordflow}{return} \textcolor{keyword}{new} RectangleF((\textcolor{keywordtype}{float})X, (\textcolor{keywordtype}{float})Y, (\textcolor{keywordtype}{float})W, (\textcolor{keywordtype}{float})H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00426}00426         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00427}00427 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00438}\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a5cbfa9c3be821699cb06db75a250e862}{00438}}         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{string} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a5cbfa9c3be821699cb06db75a250e862}{ToString}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00439}00439         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00440}00440             \textcolor{keywordtype}{double} w = Math.Round(W, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00441}00441             \textcolor{keywordtype}{double} h = Math.Round(H, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00442}00442             \textcolor{keywordtype}{double} x = Math.Round(X, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00443}00443             \textcolor{keywordtype}{double} y = Math.Round(Y, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00444}00444             \textcolor{keywordflow}{return} x + \textcolor{stringliteral}{"{}, "{}} + y + \textcolor{stringliteral}{"{}, "{}} + w + \textcolor{stringliteral}{"{}, "{}} + h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00445}00445         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00446}00446 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00447}00447     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00448}00448 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00449}00449     \textcolor{comment}{/* The ROI class is a class that contains a list of points, a bounding box, and a type */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00450}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{00450}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00451}00451     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00452}00452         \textcolor{comment}{/* Defining an enum. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00453}00453         \textcolor{keyword}{public} \textcolor{keyword}{enum} Type}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00454}00454         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00455}00455             Rectangle,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00456}00456             Point,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00457}00457             Line,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00458}00458             Polygon,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00459}00459             Polyline,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00460}00460             Freeform,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00461}00461             Ellipse,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00462}00462             Label}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00463}00463         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00464}00464         \textcolor{comment}{/* A property of a class. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00465}00465         \textcolor{keyword}{public} PointD Point}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00466}00466         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00467}00467             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00468}00468             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00469}00469                 \textcolor{keywordflow}{if} (Points.Count == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00470}00470                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} PointD(0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00471}00471                 \textcolor{keywordflow}{if} (type == Type.Line || type == Type.Ellipse || type == Type.Label || type == Type.Freeform)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00472}00472                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} PointD(BoundingBox.X, BoundingBox.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00473}00473                 \textcolor{keywordflow}{return} Points[0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00474}00474             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00475}00475             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00476}00476             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00477}00477                 \textcolor{keywordflow}{if} (Points.Count == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00478}00478                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00479}00479                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00480}00480                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00481}00481                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00482}00482                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_aae7f19ceebe6fe12e22e031ec6c45b05}{UpdatePoint}}(value, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00483}00483                 \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00484}00484             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00485}00485         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00486}00486         \textcolor{comment}{/* The above code is defining a property called "{}Rect"{} of type "{}RectangleD"{}. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00487}00487         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} Rect}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00488}00488         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00489}00489             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00490}00490             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00491}00491                 \textcolor{keywordflow}{if} (Points.Count == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00492}00492                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00493}00493                 \textcolor{keywordflow}{if} (type == Type.Line || type == Type.Polyline || type == Type.Polygon || type == Type.Freeform || type == Type.Label)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00494}00494                     \textcolor{keywordflow}{return} BoundingBox;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00495}00495                 \textcolor{keywordflow}{if} (type == Type.Rectangle || type == Type.Ellipse)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00496}00496                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(Points[0].X, Points[0].Y, Points[1].X -\/ Points[0].X, Points[2].Y -\/ Points[0].Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00497}00497                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00498}00498                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(Points[0].X, Points[0].Y, 1, 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00499}00499             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00500}00500             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00501}00501             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00502}00502                 \textcolor{keywordflow}{if} (type == Type.Line || type == Type.Polyline || type == Type.Polygon || type == Type.Freeform)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00503}00503                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00504}00504                     BoundingBox = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00505}00505                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00506}00506                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00507}00507                 \textcolor{keywordflow}{if} (Points.Count < 4 \&\& (type == Type.Rectangle || type == Type.Ellipse))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00508}00508                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00509}00509                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(\textcolor{keyword}{new} PointD(value.X, value.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00510}00510                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(\textcolor{keyword}{new} PointD(value.X + value.W, value.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00511}00511                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(\textcolor{keyword}{new} PointD(value.X, value.Y + value.H));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00512}00512                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(\textcolor{keyword}{new} PointD(value.X + value.W, value.Y + value.H));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00513}00513                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00514}00514                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00515}00515                 \textcolor{keywordflow}{if} (type == Type.Rectangle || type == Type.Ellipse)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00516}00516                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00517}00517                     Points[0] = \textcolor{keyword}{new} PointD(value.X, value.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00518}00518                     Points[1] = \textcolor{keyword}{new} PointD(value.X + value.W, value.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00519}00519                     Points[2] = \textcolor{keyword}{new} PointD(value.X, value.Y + value.H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00520}00520                     Points[3] = \textcolor{keyword}{new} PointD(value.X + value.W, value.Y + value.H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00521}00521                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00522}00522                 \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00523}00523             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00524}00524         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00525}00525         \textcolor{keyword}{public} \textcolor{keywordtype}{double} X}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00526}00526         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00527}00527             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00528}00528             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00529}00529                 \textcolor{keywordflow}{return} Point.X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00530}00530             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00531}00531             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00532}00532             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00533}00533                 Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(value, Y, W, H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00534}00534             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00535}00535         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00536}00536         \textcolor{keyword}{public} \textcolor{keywordtype}{double} Y}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00537}00537         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00538}00538             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00539}00539             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00540}00540                 \textcolor{keywordflow}{return} Point.Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00541}00541             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00542}00542             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00543}00543             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00544}00544                 Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(X, value, W, H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00545}00545             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00546}00546         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00547}00547         \textcolor{keyword}{public} \textcolor{keywordtype}{double} W}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00548}00548         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00549}00549             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00550}00550             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00551}00551                 \textcolor{keywordflow}{if} (type == Type.Point)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00552}00552                     \textcolor{keywordflow}{return} strokeWidth;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00553}00553                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00554}00554                     \textcolor{keywordflow}{return} BoundingBox.W;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00555}00555             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00556}00556             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00557}00557             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00558}00558                 Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(X, Y, value, H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00559}00559             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00560}00560         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00561}00561         \textcolor{keyword}{public} \textcolor{keywordtype}{double} H}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00562}00562         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00563}00563             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00564}00564             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00565}00565                 \textcolor{keywordflow}{if} (type == Type.Point)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00566}00566                     \textcolor{keywordflow}{return} strokeWidth;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00567}00567                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00568}00568                     \textcolor{keywordflow}{return} BoundingBox.H;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00569}00569             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00570}00570             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00571}00571             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00572}00572                 Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(X, Y, W, value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00573}00573             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00574}00574         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00575}00575         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00576}00576         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00577}00577             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} resolution; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00578}00578             \textcolor{keyword}{set} \{ resolution = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00579}00579         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00580}00580         \textcolor{keyword}{public} \textcolor{keyword}{enum} CoordinateSystem}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00581}00581         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00582}00582             pixel,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00583}00583             micron}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00584}00584         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00585}00585         \textcolor{keyword}{public} Type type;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00586}00586         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{float} selectBoxSize = 8f;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00587}00587         \textcolor{keyword}{private} List<PointD> Points = \textcolor{keyword}{new} List<PointD>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00588}00588         \textcolor{keyword}{public} List<PointD> PointsD}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00589}00589         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00590}00590             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00591}00591             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00592}00592                 \textcolor{keywordflow}{return} Points;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00593}00593             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00594}00594         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00606}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a59175d3e1700e3bc7d236c68568d43fa}{00606}}         \textcolor{keyword}{public} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a59175d3e1700e3bc7d236c68568d43fa}{ImagePoints}}(\mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}} res)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00607}00607         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00608}00608             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6401453b77741f8fba333dfb3b86528f}{ToImageSpace}}(PointsD,(\textcolor{keywordtype}{int})res.StageSizeX, (\textcolor{keywordtype}{int})res.StageSizeY, (\textcolor{keywordtype}{int})res.PhysicalSizeX, (\textcolor{keywordtype}{int})res.PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00609}00609         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00610}00610         \textcolor{keyword}{private} List<RectangleD> selectBoxs = \textcolor{keyword}{new} List<RectangleD>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00611}00611         \textcolor{keyword}{public} List<int> selectedPoints = \textcolor{keyword}{new} List<int>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00612}00612         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} BoundingBox;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00613}00613         \textcolor{keyword}{public} \textcolor{keywordtype}{float} fontSize = 12;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00614}00614         \textcolor{keyword}{public} Cairo.FontSlant slant;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00615}00615         \textcolor{keyword}{public} Cairo.FontWeight weight;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00616}00616         \textcolor{keyword}{public} \textcolor{keywordtype}{string} family = \textcolor{stringliteral}{"{}Times New Roman"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00617}00617         \textcolor{keyword}{public} ZCT coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00618}00618         \textcolor{keyword}{public} Color strokeColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00619}00619         \textcolor{keyword}{public} Color fillColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00620}00620         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isFilled = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00621}00621         \textcolor{keyword}{public} \textcolor{keywordtype}{string} \textcolor{keywordtype}{id} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00622}00622         \textcolor{keyword}{public} \textcolor{keywordtype}{string} roiID = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00623}00623         \textcolor{keyword}{public} \textcolor{keywordtype}{string} roiName = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00624}00624         \textcolor{keyword}{public} \textcolor{keywordtype}{string} properties = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00625}00625         \textcolor{keyword}{public} \textcolor{keywordtype}{int} serie = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00626}00626         \textcolor{keyword}{private} \textcolor{keywordtype}{string} text = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00627}00627         \textcolor{keyword}{private} \textcolor{keywordtype}{int} resolution = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00628}00628         \textcolor{keyword}{public} \textcolor{keywordtype}{double} strokeWidth = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00629}00629         \textcolor{keyword}{public} \textcolor{keywordtype}{int} shapeIndex = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00630}00630         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} closed = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00631}00631         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} selected = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00632}00632         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} subPixel = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00633}00633 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00634}00634         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00635}00635 \textcolor{comment}{        public Size TextSize}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00636}00636 \textcolor{comment}{        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00637}00637 \textcolor{comment}{            get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00638}00638 \textcolor{comment}{            \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00639}00639 \textcolor{comment}{                return TextRenderer.MeasureText(text, font);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00640}00640 \textcolor{comment}{            \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00641}00641 \textcolor{comment}{        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00642}00642 \textcolor{comment}{        */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00649}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a57664e437c16f0d25858c5f0ab998bbc}{00649}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a57664e437c16f0d25858c5f0ab998bbc}{Copy}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00650}00650         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00651}00651             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} copy = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00652}00652             copy.id = id;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00653}00653             copy.roiID = roiID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00654}00654             copy.roiName = roiName;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00655}00655             copy.text = text;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00656}00656             copy.strokeWidth = strokeWidth;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00657}00657             copy.strokeColor = strokeColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00658}00658             copy.fillColor = fillColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00659}00659             copy.Points = Points;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00660}00660             copy.selected = selected;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00661}00661             copy.shapeIndex = shapeIndex;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00662}00662             copy.closed = closed;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00663}00663             copy.family = family;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00664}00664             copy.fontSize = fontSize;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00665}00665             copy.slant = slant;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00666}00666             copy.selectBoxs = selectBoxs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00667}00667             copy.BoundingBox = BoundingBox;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00668}00668             copy.isFilled = isFilled;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00669}00669             copy.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00670}00670             copy.selectedPoints = selectedPoints;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00671}00671 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00672}00672             \textcolor{keywordflow}{return} copy;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00673}00673         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00683}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae0cfefce85918a62eb2698d2cee76562}{00683}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae0cfefce85918a62eb2698d2cee76562}{Copy}}(ZCT cord)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00684}00684         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00685}00685             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} copy = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00686}00686             copy.type = type;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00687}00687             copy.id = id;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00688}00688             copy.roiID = roiID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00689}00689             copy.roiName = roiName;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00690}00690             copy.text = text;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00691}00691             copy.strokeWidth = strokeWidth;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00692}00692             copy.strokeColor = strokeColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00693}00693             copy.fillColor = fillColor;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00694}00694             copy.Points.AddRange(Points);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00695}00695             copy.selected = selected;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00696}00696             copy.shapeIndex = shapeIndex;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00697}00697             copy.closed = closed;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00698}00698             copy.family = family;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00699}00699             copy.fontSize = fontSize;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00700}00700             copy.slant = slant;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00701}00701             copy.selectBoxs.AddRange(selectBoxs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00702}00702             copy.BoundingBox = BoundingBox;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00703}00703             copy.isFilled = isFilled;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00704}00704             copy.coord = cord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00705}00705             copy.selectedPoints = selectedPoints;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00706}00706             \textcolor{keywordflow}{return} copy;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00707}00707         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00708}00708         \textcolor{keyword}{public} \textcolor{keywordtype}{string} Text}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00709}00709         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00710}00710             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00711}00711             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00712}00712                 \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00713}00713             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00714}00714             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00715}00715             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00716}00716                 text = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00717}00717                 \textcolor{keywordflow}{if} (type == Type.Label)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00718}00718                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00719}00719                     \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00720}00720                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00721}00721             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00722}00722         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00723}00723 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00733}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a774f5b67a1fcc788c53fb2b446a2d9b8}{00733}}         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a774f5b67a1fcc788c53fb2b446a2d9b8}{GetSelectBound}}(\textcolor{keywordtype}{double} scale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00734}00734         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00735}00735             \textcolor{keywordtype}{double} f = scale / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00736}00736             \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(BoundingBox.X -\/ f, BoundingBox.Y -\/ f, BoundingBox.W + scale, BoundingBox.H + scale);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00737}00737         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00738}00738         \textcolor{comment}{/* The above code is defining a constructor for a class called ROI. The constructor initializes}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00739}00739 \textcolor{comment}{        the coord variable with a new instance of the ZCT class, passing in the values 0, 0, and 0}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00740}00740 \textcolor{comment}{        as parameters. It also sets the strokeColor variable to the Color.Yellow value.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00741}00741 \textcolor{comment}{        Additionally, it creates a new instance of the RectangleD class, passing in the values 0, 0,}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00742}00742 \textcolor{comment}{        1, and 1 as parameters, and assigns it to the BoundingBox variable. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00743}00743         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00744}00744         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00745}00745             coord = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00746}00746             strokeColor = Color.Yellow;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00747}00747             BoundingBox = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(0, 0, 1, 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00748}00748         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00749}00749 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00758}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5fcaec65207e3bb2e292f484fd40abc1}{00758}}         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}[] \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5fcaec65207e3bb2e292f484fd40abc1}{GetSelectBoxes}}(\textcolor{keywordtype}{double} s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00759}00759         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00760}00760             \textcolor{keywordtype}{double} f = s / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00761}00761             selectBoxs.Clear();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00762}00762             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Points.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00763}00763             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00764}00764                 selectBoxs.Add(\textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}((\textcolor{keywordtype}{float})(Points[i].X -\/ f), (\textcolor{keywordtype}{float})(Points[i].Y -\/ f), (\textcolor{keywordtype}{float})s, (\textcolor{keywordtype}{float})s));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00765}00765             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00766}00766             \textcolor{keywordflow}{return} selectBoxs.ToArray();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00767}00767         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00768}00768 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00782}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a7657a66e2dbc1d6f16718189535dc5cd}{00782}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a7657a66e2dbc1d6f16718189535dc5cd}{CreatePoint}}(ZCT coord, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00783}00783         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00784}00784             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00785}00785             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00786}00786             an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(\textcolor{keyword}{new} PointD(x, y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00787}00787             an.type = Type.Point;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00788}00788             \textcolor{comment}{//Recorder.AddLine("{}ROI.CreatePoint(new ZCT("{} + coord.Z + "{},"{} + coord.C + "{},"{} + coord.T + "{}), "{} + x + "{},"{} + y + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00789}00789             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00790}00790         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00791}00791 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00808}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_af49cd9f977c5a185c85b0d7780ce4893}{00808}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_af49cd9f977c5a185c85b0d7780ce4893}{CreateLine}}(ZCT coord, PointD x1, PointD x2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00809}00809         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00810}00810             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00811}00811             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00812}00812             an.type = Type.Line;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00813}00813             an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(x1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00814}00814             an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(x2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00815}00815             \textcolor{comment}{//Recorder.AddLine("{}ROI.CreateLine(new ZCT("{} + coord.Z + "{},"{} + coord.C + "{},"{} + coord.T + "{}), new PointD("{} + x1.X + "{},"{} + x1.Y + "{}), new PointD("{} + x2.X + "{},"{} + x2.Y + "{}));"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00816}00816             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00817}00817         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00818}00818 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00834}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a27a380fa29f33bb6437668c8df70498a}{00834}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a27a380fa29f33bb6437668c8df70498a}{CreateRectangle}}(ZCT coord, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} w, \textcolor{keywordtype}{double} h)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00835}00835         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00836}00836             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00837}00837             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00838}00838             an.type = Type.Rectangle;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00839}00839             an.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(x, y, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00840}00840             \textcolor{comment}{//Recorder.AddLine("{}ROI.CreateRectangle(new ZCT("{} + coord.Z + "{},"{} + coord.C + "{},"{} + coord.T + "{}), new RectangleD("{} + x + "{},"{} + y + "{},"{} + w + "{},"{} + h + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00841}00841             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00842}00842         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00843}00843 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00859}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a783576203c68c81a0a67d802a092fcb4}{00859}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a783576203c68c81a0a67d802a092fcb4}{CreateEllipse}}(ZCT coord, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} w, \textcolor{keywordtype}{double} h)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00860}00860         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00861}00861             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00862}00862             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00863}00863             an.type = Type.Ellipse;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00864}00864             an.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(x, y, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00865}00865             \textcolor{comment}{//Recorder.AddLine("{}ROI.CreateEllipse(new ZCT("{} + coord.Z + "{},"{} + coord.C + "{},"{} + coord.T + "{}), new RectangleD("{} + x + "{},"{} + y + "{},"{} + w + "{},"{} + h + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00866}00866             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00867}00867         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00868}00868 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00881}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a25f64199e67b74d0a206fd5f1063e5a0}{00881}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a25f64199e67b74d0a206fd5f1063e5a0}{CreatePolygon}}(ZCT coord, PointD[] pts)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00882}00882         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00883}00883             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00884}00884             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00885}00885             an.type = Type.Polygon;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00886}00886             an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_adf4c7167c4ac9a63e0177e97a6ee030a}{AddPoints}}(pts);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00887}00887             an.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00888}00888             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00889}00889         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00890}00890 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00904}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae25fcd9dd6a359d7c913aacda6ac32a6}{00904}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae25fcd9dd6a359d7c913aacda6ac32a6}{CreateFreeform}}(ZCT coord, PointD[] pts)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00905}00905         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00906}00906             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00907}00907             an.coord = coord;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00908}00908             an.type = Type.Freeform;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00909}00909             an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_adf4c7167c4ac9a63e0177e97a6ee030a}{AddPoints}}(pts);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00910}00910             an.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00911}00911             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00912}00912         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00913}00913 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00923}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_aae7f19ceebe6fe12e22e031ec6c45b05}{00923}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_aae7f19ceebe6fe12e22e031ec6c45b05}{UpdatePoint}}(PointD p, \textcolor{keywordtype}{int} i)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00924}00924         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00925}00925             \textcolor{keywordflow}{if} (i < Points.Count)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00926}00926             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00927}00927                 Points[i] = p;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00928}00928             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00929}00929             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00930}00930         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00931}00931 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00941}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{00941}}         \textcolor{keyword}{public} PointD \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{GetPoint}}(\textcolor{keywordtype}{int} i)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00942}00942         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00943}00943             \textcolor{keywordflow}{return} Points[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00944}00944         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00945}00945 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00952}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a46ac91df835d2cfa668e6c6b1fb25382}{00952}}         \textcolor{keyword}{public} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a46ac91df835d2cfa668e6c6b1fb25382}{GetPoints}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00953}00953         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00954}00954             \textcolor{keywordflow}{return} Points.ToArray();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00955}00955         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00956}00956 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00963}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a620e255c103d996123b48ff3f4a12f81}{00963}}         \textcolor{keyword}{public} PointF[] \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a620e255c103d996123b48ff3f4a12f81}{GetPointsF}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00964}00964         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00965}00965             PointF[] pfs = \textcolor{keyword}{new} PointF[Points.Count];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00966}00966             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Points.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00967}00967             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00968}00968                 pfs[i].X = (float)Points[i].X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00969}00969                 pfs[i].Y = (float)Points[i].Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00970}00970             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00971}00971             \textcolor{keywordflow}{return} pfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00972}00972         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00973}00973 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00979}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{00979}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6e12da5318b335a2c6140f7c58b8a740}{AddPoint}}(PointD p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00980}00980         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00981}00981             Points.Add(p);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00982}00982             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00983}00983         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00984}00984 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00989}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_adf4c7167c4ac9a63e0177e97a6ee030a}{00989}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_adf4c7167c4ac9a63e0177e97a6ee030a}{AddPoints}}(PointD[] p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00990}00990         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00991}00991             Points.AddRange(p);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00992}00992             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00993}00993         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l00994}00994 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01003}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae8a8e293de02334b5da67696bf84065d}{01003}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_ae8a8e293de02334b5da67696bf84065d}{AddPoints}}(\textcolor{keywordtype}{int}[] xp, \textcolor{keywordtype}{int}[] yp)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01004}01004         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01005}01005             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < xp.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01006}01006             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01007}01007                 Points.Add(\textcolor{keyword}{new} PointD(xp[i], yp[i]));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01008}01008             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01009}01009             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01010}01010         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01011}01011 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01019}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a8e7b265a0250ddfd5f2155c854727db7}{01019}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a8e7b265a0250ddfd5f2155c854727db7}{AddPoints}}(\textcolor{keywordtype}{float}[] xp, \textcolor{keywordtype}{float}[] yp)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01020}01020         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01021}01021             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < xp.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01022}01022             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01023}01023                 Points.Add(\textcolor{keyword}{new} PointD(xp[i], yp[i]));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01024}01024             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01025}01025             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01026}01026         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01027}01027 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01033}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a98852b020240a785122ffbc50f615652}{01033}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a98852b020240a785122ffbc50f615652}{RemovePoints}}(\textcolor{keywordtype}{int}[] indexs)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01034}01034         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01035}01035             List<PointD> inds = \textcolor{keyword}{new} List<PointD>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01036}01036             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Points.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01037}01037             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01038}01038                 \textcolor{keywordtype}{bool} found = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01039}01039                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ind = 0; ind < indexs.Length; ind++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01040}01040                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01041}01041                     \textcolor{keywordflow}{if} (indexs[ind] == i)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01042}01042                         found = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01043}01043                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01044}01044                 \textcolor{keywordflow}{if} (!found)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01045}01045                     inds.Add(Points[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01046}01046             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01047}01047             Points = inds;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01048}01048             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01049}01049         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01050}01050 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01057}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a332f4bc59ed2081effc14f9424f092ab}{01057}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a332f4bc59ed2081effc14f9424f092ab}{GetPointCount}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01058}01058         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01059}01059             \textcolor{keywordflow}{return} Points.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01060}01060         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01061}01061 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01072}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6b33717a4c97372d0a94d7c5c8080169}{01072}}         \textcolor{keyword}{public} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6b33717a4c97372d0a94d7c5c8080169}{stringToPoints}}(\textcolor{keywordtype}{string} s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01073}01073         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01074}01074             List<PointD> pts = \textcolor{keyword}{new} List<PointD>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01075}01075             \textcolor{keywordtype}{string}[] ints = s.Split(\textcolor{charliteral}{' '});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01076}01076             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < ints.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01077}01077             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01078}01078                 \textcolor{keywordtype}{string}[] sints;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01079}01079                 \textcolor{keywordflow}{if} (s.Contains(\textcolor{stringliteral}{"{}\(\backslash\)t"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01080}01080                     sints = ints[i].Split(\textcolor{charliteral}{'\(\backslash\)t'});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01081}01081                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01082}01082                     sints = ints[i].Split(\textcolor{charliteral}{','});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01083}01083                 \textcolor{keywordtype}{double} x = \textcolor{keywordtype}{double}.Parse(sints[0], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01084}01084                 \textcolor{keywordtype}{double} y = \textcolor{keywordtype}{double}.Parse(sints[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01085}01085                 pts.Add(\textcolor{keyword}{new} PointD(x, y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01086}01086             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01087}01087             \textcolor{keywordflow}{return} pts.ToArray();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01088}01088         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01089}01089 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01099}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_af3c1a3d4d37ddbc1c49a89a6ed4c762a}{01099}}         \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_af3c1a3d4d37ddbc1c49a89a6ed4c762a}{PointsToString}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01100}01100         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01101}01101             \textcolor{keywordtype}{string} pts = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01102}01102             PointD[] ps = b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6401453b77741f8fba333dfb3b86528f}{ToImageSpace}}(Points);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01103}01103             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < ps.Length; j++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01104}01104             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01105}01105                 \textcolor{keywordflow}{if} (j == ps.Length -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01106}01106                     pts += ps[j].X.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{},"{}} + ps[j].Y.ToString(CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01107}01107                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01108}01108                     pts += ps[j].X.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{},"{}} + ps[j].Y.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01109}01109             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01110}01110             \textcolor{keywordflow}{return} pts;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01111}01111         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01112}01112 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01117}\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{01117}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a5b46e97d3eabf635b8b9cf037b368a95}{UpdateBoundingBox}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01118}01118         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01119}01119             PointD min = \textcolor{keyword}{new} PointD(\textcolor{keywordtype}{double}.MaxValue, \textcolor{keywordtype}{double}.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01120}01120             PointD max = \textcolor{keyword}{new} PointD(\textcolor{keywordtype}{double}.MinValue, \textcolor{keywordtype}{double}.MinValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01121}01121             \textcolor{keywordflow}{foreach} (PointD p \textcolor{keywordflow}{in} Points)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01122}01122             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01123}01123                 \textcolor{keywordflow}{if} (min.X > p.X)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01124}01124                     min.X = p.X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01125}01125                 \textcolor{keywordflow}{if} (min.Y > p.Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01126}01126                     min.Y = p.Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01127}01127 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01128}01128                 \textcolor{keywordflow}{if} (max.X < p.X)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01129}01129                     max.X = p.X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01130}01130                 \textcolor{keywordflow}{if} (max.Y < p.Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01131}01131                     max.Y = p.Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01132}01132             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01133}01133             \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} r = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01134}01134             r.X = min.X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01135}01135             r.Y = min.Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01136}01136             r.W = max.X -\/ min.X;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01137}01137             r.H = max.Y -\/ min.Y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01138}01138             \textcolor{keywordflow}{if} (r.W == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01139}01139                 r.W = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01140}01140             \textcolor{keywordflow}{if} (r.H == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01141}01141                 r.H = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01142}01142             BoundingBox = r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01143}01143         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01144}01144 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01145}01145         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{string} ToString()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01146}01146         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01147}01147             \textcolor{keywordtype}{double} w = Math.Round(W, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01148}01148             \textcolor{keywordtype}{double} h = Math.Round(H, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01149}01149             \textcolor{keywordtype}{double} x = Math.Round(Point.X, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01150}01150             \textcolor{keywordtype}{double} y = Math.Round(Point.Y, 2, MidpointRounding.ToZero);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01151}01151             \textcolor{keywordflow}{return} type.\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d_a5cbfa9c3be821699cb06db75a250e862}{ToString}}() + \textcolor{stringliteral}{"{}, "{}} + Text + \textcolor{stringliteral}{"{} ("{}} + w + \textcolor{stringliteral}{"{}, "{}} + h + \textcolor{stringliteral}{"{}) "{}} + \textcolor{stringliteral}{"{} ("{}} + x + \textcolor{stringliteral}{"{}, "{}} + y + \textcolor{stringliteral}{"{}) "{}} + coord.ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01152}01152         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01153}01153     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01154}01154 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01155}01155     \textcolor{comment}{/* It's a class that holds a string, an IFilter, and a Type */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01156}\mbox{\hyperlink{class_bio_lib_1_1_filt}{01156}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_bio_lib_1_1_filt}{Filt}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01157}01157     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01158}01158         \textcolor{comment}{/* Defining an enum. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01159}01159         \textcolor{keyword}{public} \textcolor{keyword}{enum} Type}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01160}01160         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01161}01161             Base = 0,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01162}01162             Base2 = 1,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01163}01163             InPlace = 2,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01164}01164             InPlace2 = 3,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01165}01165             InPlacePartial = 4,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01166}01166             Resize = 5,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01167}01167             Rotate = 6,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01168}01168             Transformation = 7,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01169}01169             Copy = 8}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01170}01170         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01171}01171         \textcolor{keyword}{public} \textcolor{keywordtype}{string} name;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01172}01172         \textcolor{keyword}{public} IFilter filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01173}01173         \textcolor{keyword}{public} Type type;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01174}01174         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_filt}{Filt}}(\textcolor{keywordtype}{string} s, IFilter f, Type t)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01175}01175         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01176}01176             name = s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01177}01177             filt = f;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01178}01178             type = t;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01179}01179         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01180}01180     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01181}01181     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{class }Filters}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01182}01182     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01183}01183         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int}[,] indexs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01184}01184 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01193}01193         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_filt}{Filt}} GetFilter(\textcolor{keywordtype}{string} name)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01194}01194         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01195}01195             \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_filt}{Filt}} item \textcolor{keywordflow}{in} filters)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01196}01196             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01197}01197                 \textcolor{keywordflow}{if} (item.name == name)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01198}01198                     \textcolor{keywordflow}{return} item;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01199}01199             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01200}01200             \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01201}01201         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01202}01202 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01213}01213         \textcolor{keyword}{public} \textcolor{keyword}{static} Filt GetFilter(\textcolor{keywordtype}{int} type, \textcolor{keywordtype}{int} index)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01214}01214         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01215}01215             \textcolor{keywordflow}{return} filters[indexs[type, index]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01216}01216         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01217}01217         \textcolor{keyword}{public} \textcolor{keyword}{static} List<Filt> filters = \textcolor{keyword}{new} List<Filt>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01218}01218 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01233}01233         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Base(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01234}01234         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01235}01235             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01236}01236             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01237}01237                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01238}01238             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01239}01239             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01240}01240                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01241}01241                 BaseFilter fi = (BaseFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01242}01242                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01243}01243                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01244}01244                     Bitmap bm = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01245}01245                     img.Buffers[i] = bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01246}01246                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01247}01247                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01248}01248                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01249}01249                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01250}01250                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01251}01251                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Base("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01252}01252                 \textcolor{comment}{//    '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01253}01253             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01254}01254             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01255}01255             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01256}01256                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01257}01257                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01258}01258             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01259}01259             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01260}01260         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01261}01261 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01279}01279         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Base2(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} id2, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01280}01280         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01281}01281             BioImage c2 = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01282}01282             BioImage img = Images.GetImage(id2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01283}01283             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01284}01284                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01285}01285             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01286}01286             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01287}01287                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01288}01288                 BaseFilter2 fi = (BaseFilter2)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01289}01289                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01290}01290                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01291}01291                     fi.OverlayImage = c2.Buffers[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01292}01292                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01293}01293                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01294}01294                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01295}01295                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01296}01296                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01297}01297                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01298}01298                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Base2("{} + '"{}' + id + '"{}' + "{},"{} +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01299}01299                 \textcolor{comment}{//   '"{}' + id2 + '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01300}01300                 \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01301}01301             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01302}01302             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01303}01303             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01304}01304                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01305}01305                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01306}01306             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01307}01307             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01308}01308         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01309}01309 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01325}01325         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage InPlace(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01326}01326         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01327}01327             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01328}01328             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01329}01329                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01330}01330             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01331}01331             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01332}01332                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01333}01333                 BaseInPlaceFilter fi = (BaseInPlaceFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01334}01334                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01335}01335                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01336}01336                     img.Buffers[i] = fi.Apply((Bitmap)img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01337}01337                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01338}01338                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01339}01339                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01340}01340                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01341}01341                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01342}01342                 \textcolor{comment}{//Recorder.AddLine("{}Filters.InPlace("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01343}01343                 \textcolor{comment}{//    '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01344}01344                 \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01345}01345             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01346}01346             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01347}01347             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01348}01348                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01349}01349                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01350}01350             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01351}01351             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01352}01352         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01353}01353 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01371}01371         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage InPlace2(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} id2, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01372}01372         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01373}01373             BioImage c2 = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01374}01374             BioImage img = Images.GetImage(id2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01375}01375             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01376}01376                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01377}01377             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01378}01378             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01379}01379                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01380}01380                 BaseInPlaceFilter2 fi = (BaseInPlaceFilter2)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01381}01381                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01382}01382                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01383}01383                     fi.OverlayImage = c2.Buffers[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01384}01384                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01385}01385                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01386}01386                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01387}01387                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01388}01388                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01389}01389                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01390}01390                 \textcolor{comment}{//Recorder.AddLine("{}Filters.InPlace2("{} + '"{}' + id + '"{}' + "{},"{} +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01391}01391                  \textcolor{comment}{//  '"{}' + id2 + '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01392}01392                 \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01393}01393             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01394}01394             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01395}01395             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01396}01396                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01397}01397                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01398}01398             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01399}01399             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01400}01400         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01401}01401 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01418}01418         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage InPlacePartial(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01419}01419         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01420}01420             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01421}01421             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01422}01422                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01423}01423             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01424}01424             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01425}01425                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01426}01426                 BaseInPlacePartialFilter fi = (BaseInPlacePartialFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01427}01427                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01428}01428                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01429}01429                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01430}01430                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01431}01431                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01432}01432                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01433}01433                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01434}01434                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01435}01435                 \textcolor{comment}{//Recorder.AddLine("{}Filters.InPlacePartial("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01436}01436                 \textcolor{comment}{//    '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01437}01437                 \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01438}01438             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01439}01439             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01440}01440             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01441}01441                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01442}01442                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01443}01443             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01444}01444             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01445}01445         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01446}01446 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01466}01466         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Resize(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace, \textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01467}01467         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01468}01468             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01469}01469             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01470}01470                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01471}01471             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01472}01472             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01473}01473                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01474}01474                 BaseResizeFilter fi = (BaseResizeFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01475}01475                 fi.NewHeight = h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01476}01476                 fi.NewWidth = w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01477}01477                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01478}01478                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01479}01479                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01480}01480                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01481}01481                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01482}01482                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01483}01483                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01484}01484                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01485}01485                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Resize("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01486}01486                 \textcolor{comment}{//    '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{},"{} + w + "{},"{} + h + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01487}01487             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01488}01488             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01489}01489             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01490}01490                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01491}01491                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01492}01492             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01493}01493             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01494}01494         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01495}01495 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01523}01523         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Rotate(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace, \textcolor{keywordtype}{float} angle, \textcolor{keywordtype}{int} a, \textcolor{keywordtype}{int} r, \textcolor{keywordtype}{int} g, \textcolor{keywordtype}{int} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01524}01524         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01525}01525             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01526}01526             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01527}01527                 img = BioImage.Copy(Images.GetImage(\textcolor{keywordtype}{id}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01528}01528             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01529}01529             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01530}01530                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01531}01531                 BaseRotateFilter fi = (BaseRotateFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01532}01532                 fi.Angle = angle;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01533}01533                 fi.FillColor = Color.FromArgb(a, r, g, b);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01534}01534                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01535}01535                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01536}01536                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01537}01537                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01538}01538                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01539}01539                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01540}01540                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01541}01541                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01542}01542                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Rotate("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01543}01543                 \textcolor{comment}{//    '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{},"{} + angle.ToString() + "{},"{} +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01544}01544                 \textcolor{comment}{//    a + "{},"{} + r + "{},"{} + g + "{},"{} + b + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01545}01545             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01546}01546             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01547}01547             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01548}01548                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01549}01549                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01550}01550             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01551}01551             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01552}01552 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01553}01553         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01554}01554 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01574}01574         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Transformation(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace, \textcolor{keywordtype}{float} angle)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01575}01575         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01576}01576             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01577}01577             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01578}01578                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01579}01579             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01580}01580             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01581}01581                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01582}01582                 BaseTransformationFilter fi = (BaseTransformationFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01583}01583                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01584}01584                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01585}01585                     img.Buffers[i] = fi.Apply(img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01586}01586                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01587}01587                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01588}01588                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01589}01589                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01590}01590                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01591}01591                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Transformation("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01592}01592                 \textcolor{comment}{//        '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{},"{} + angle + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01593}01593             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01594}01594             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01595}01595             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01596}01596                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01597}01597                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01598}01598             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01599}01599             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01600}01600         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01601}01601 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01618}01618         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Copy(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{string} name, \textcolor{keywordtype}{bool} inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01619}01619         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01620}01620             BioImage img = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01621}01621             \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01622}01622                 img = BioImage.Copy(img);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01623}01623             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01624}01624             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01625}01625                 Filt f = GetFilter(name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01626}01626                 BaseUsingCopyPartialFilter fi = (BaseUsingCopyPartialFilter)f.filt;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01627}01627                 for (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01628}01628                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01629}01629                     img.Buffers[i] = fi.Apply((Bitmap)img.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01630}01630                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01631}01631                 \textcolor{keywordflow}{if} (!inPlace)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01632}01632                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01633}01633                     Images.AddImage(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01634}01634                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01635}01635                 \textcolor{comment}{//Recorder.AddLine("{}Filters.Copy("{} + '"{}' + id +}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01636}01636                 \textcolor{comment}{//        '"{}' + "{},"{} + '"{}' + name + '"{}' + "{},"{} + inPlace.ToString().ToLower() + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01637}01637             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01638}01638             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01639}01639             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01640}01640                 MessageDialog dialog = \textcolor{keyword}{new} MessageDialog(\textcolor{keyword}{null}, DialogFlags.Modal, MessageType.Info, ButtonsType.Ok, e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01641}01641                 dialog.Show();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01642}01642             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01643}01643             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01644}01644         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01645}01645 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01662}01662         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Crop(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} w, \textcolor{keywordtype}{double} h)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01663}01663         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01664}01664             BioImage c = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01665}01665             RectangleF r = c.ToImageSpace(\textcolor{keyword}{new} RectangleD(x, y, w, h));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01666}01666             Rectangle rec = \textcolor{keyword}{new} Rectangle((\textcolor{keywordtype}{int})r.X, (\textcolor{keywordtype}{int})r.Y, (\textcolor{keywordtype}{int})Math.Abs(r.Width), (\textcolor{keywordtype}{int})Math.Abs(r.Height));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01667}01667             BioImage img = BioImage.Copy(c, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01668}01668             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < img.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01669}01669             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01670}01670                 img.Buffers[i].Crop(rec);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01671}01671             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01672}01672             BioImage.AutoThreshold(img, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01673}01673             \textcolor{keywordflow}{if} (img.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01674}01674                 img.StackThreshold(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01675}01675             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01676}01676                 img.StackThreshold(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01677}01677             \textcolor{comment}{//Recorder.AddLine("{}Filters.Crop("{} + '"{}' + id + '"{}' + "{},"{} + x + "{},"{} + y + "{},"{} + w + "{},"{} + h + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01678}01678             \textcolor{comment}{//App.tabsView.AddTab(img);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01679}01679             \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01680}01680         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01681}01681 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01693}01693         \textcolor{keyword}{public} \textcolor{keyword}{static} BioImage Crop(\textcolor{keywordtype}{string} \textcolor{keywordtype}{id}, RectangleD r)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01694}01694         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01695}01695             \textcolor{keywordflow}{return} Crop(\textcolor{keywordtype}{id}, r.X, r.Y, r.W, r.H);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01696}01696         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01697}01697 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01698}01698 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01702}01702         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} Init()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01703}01703         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01704}01704             \textcolor{comment}{//Base Filters}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01705}01705             indexs = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[9, 32];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01706}01706             indexs[0, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01707}01707             Filt f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}AdaptiveSmoothing"{}}, \textcolor{keyword}{new} AdaptiveSmoothing(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01708}01708             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01709}01709             indexs[0, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01710}01710             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BayerFilter"{}}, \textcolor{keyword}{new} BayerFilter(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01711}01711             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01712}01712             indexs[0, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01713}01713             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BayerFilterOptimized"{}}, \textcolor{keyword}{new} BayerFilterOptimized(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01714}01714             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01715}01715             indexs[0, 3] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01716}01716             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BayerDithering"{}}, \textcolor{keyword}{new} BayerDithering(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01717}01717             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01718}01718             indexs[0, 4] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01719}01719             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ConnectedComponentsLabeling"{}}, \textcolor{keyword}{new} ConnectedComponentsLabeling(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01720}01720             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01721}01721             indexs[0, 5] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01722}01722             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ExtractChannel"{}}, \textcolor{keyword}{new} ExtractChannel(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01723}01723             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01724}01724             indexs[0, 6] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01725}01725             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ExtractNormalizedRGBChannel"{}}, \textcolor{keyword}{new} ExtractNormalizedRGBChannel(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01726}01726             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01727}01727             indexs[0, 7] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01728}01728             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Grayscale"{}}, \textcolor{keyword}{new} Grayscale(0.2125, 0.7154, 0.0721), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01729}01729             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01730}01730             \textcolor{comment}{//f = new Filt("{}TexturedFilter"{}, new TexturedFilter());}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01731}01731             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01732}01732             indexs[0, 8] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01733}01733             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}WaterWave"{}}, \textcolor{keyword}{new} WaterWave(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01734}01734             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01735}01735             indexs[0, 9] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01736}01736             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}YCbCrExtractChannel"{}}, \textcolor{keyword}{new} YCbCrExtractChannel(), Filt.Type.Base);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01737}01737             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01738}01738             indexs[0, 10] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01739}01739             \textcolor{comment}{//BaseFilter2}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01740}01740 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01741}01741             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ThresholdedDifference"{}}, \textcolor{keyword}{new} ThresholdedDifference(), Filt.Type.Base2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01742}01742             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01743}01743             indexs[1, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01744}01744             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ThresholdedEuclideanDifference"{}}, \textcolor{keyword}{new} ThresholdedEuclideanDifference(), Filt.Type.Base2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01745}01745             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01746}01746             indexs[1, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01747}01747 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01748}01748             \textcolor{comment}{//BaseInPlaceFilter}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01749}01749             indexs[2, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01750}01750             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BackwardQuadrilateralTransformation"{}}, \textcolor{keyword}{new} BackwardQuadrilateralTransformation(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01751}01751             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01752}01752             indexs[2, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01753}01753             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BlobsFiltering"{}}, \textcolor{keyword}{new} BlobsFiltering(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01754}01754             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01755}01755             indexs[2, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01756}01756             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BottomHat"{}}, \textcolor{keyword}{new} BottomHat(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01757}01757             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01758}01758             indexs[2, 3] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01759}01759             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BradleyLocalThresholding"{}}, \textcolor{keyword}{new} BradleyLocalThresholding(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01760}01760             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01761}01761             indexs[2, 4] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01762}01762             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}CanvasCrop"{}}, \textcolor{keyword}{new} CanvasCrop(\textcolor{keyword}{new} Rectangle(0, 0, 0, 0)), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01763}01763             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01764}01764             indexs[2, 5] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01765}01765             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}CanvasFill"{}}, \textcolor{keyword}{new} CanvasFill(\textcolor{keyword}{new} Rectangle(0, 0, 0, 0)), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01766}01766             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01767}01767             indexs[2, 6] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01768}01768             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}CanvasMove"{}}, \textcolor{keyword}{new} CanvasMove(\textcolor{keyword}{new} IntPoint()), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01769}01769             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01770}01770             indexs[2, 7] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01771}01771             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}FillHoles"{}}, \textcolor{keyword}{new} FillHoles(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01772}01772             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01773}01773             indexs[2, 8] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01774}01774             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}FlatFieldCorrection"{}}, \textcolor{keyword}{new} FlatFieldCorrection(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01775}01775             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01776}01776             indexs[2, 9] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01777}01777             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}TopHat"{}}, \textcolor{keyword}{new} TopHat(), Filt.Type.InPlace);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01778}01778             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01779}01779 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01780}01780             \textcolor{comment}{//BaseInPlaceFilter2}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01781}01781             indexs[3, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01782}01782             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Add"{}}, \textcolor{keyword}{new} Add(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01783}01783             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01784}01784             indexs[3, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01785}01785             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Difference"{}}, \textcolor{keyword}{new} Difference(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01786}01786             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01787}01787             indexs[3, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01788}01788             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Intersect"{}}, \textcolor{keyword}{new} Intersect(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01789}01789             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01790}01790             indexs[3, 3] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01791}01791             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Merge"{}}, \textcolor{keyword}{new} Merge(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01792}01792             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01793}01793             indexs[3, 4] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01794}01794             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Morph"{}}, \textcolor{keyword}{new} Morph(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01795}01795             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01796}01796             indexs[3, 5] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01797}01797             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}MoveTowards"{}}, \textcolor{keyword}{new} MoveTowards(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01798}01798             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01799}01799             indexs[3, 6] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01800}01800             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}StereoAnaglyph"{}}, \textcolor{keyword}{new} StereoAnaglyph(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01801}01801             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01802}01802             indexs[3, 7] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01803}01803             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Subtract"{}}, \textcolor{keyword}{new} Subtract(), Filt.Type.InPlace2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01804}01804             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01805}01805             \textcolor{comment}{//f = new Filt("{}Add"{}, new TexturedMerge(), Filt.Type.InPlace2);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01806}01806             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01807}01807 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01808}01808             \textcolor{comment}{//BaseInPlacePartialFilter}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01809}01809             indexs[4, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01810}01810             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}AdditiveNoise"{}}, \textcolor{keyword}{new} AdditiveNoise(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01811}01811             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01812}01812             \textcolor{comment}{//f = new Filt("{}ApplyMask"{}, new ApplyMask(), Filt.Type.InPlacePartial2);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01813}01813             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01814}01814             indexs[4, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01815}01815             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BrightnessCorrection"{}}, \textcolor{keyword}{new} BrightnessCorrection(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01816}01816             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01817}01817             indexs[4, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01818}01818             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ChannelFiltering"{}}, \textcolor{keyword}{new} ChannelFiltering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01819}01819             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01820}01820             indexs[4, 3] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01821}01821             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ColorFiltering"{}}, \textcolor{keyword}{new} ColorFiltering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01822}01822             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01823}01823             indexs[4, 4] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01824}01824             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ColorRemapping"{}}, \textcolor{keyword}{new} ColorRemapping(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01825}01825             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01826}01826             indexs[4, 5] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01827}01827             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ContrastCorrection"{}}, \textcolor{keyword}{new} ContrastCorrection(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01828}01828             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01829}01829             indexs[4, 6] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01830}01830             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ContrastStretch"{}}, \textcolor{keyword}{new} ContrastStretch(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01831}01831             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01832}01832 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01833}01833             \textcolor{comment}{//f = new Filt("{}ErrorDiffusionDithering"{}, new ErrorDiffusionDithering(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01834}01834             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01835}01835             indexs[4, 7] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01836}01836             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}EuclideanColorFiltering"{}}, \textcolor{keyword}{new} EuclideanColorFiltering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01837}01837             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01838}01838             indexs[4, 8] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01839}01839             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}GammaCorrection"{}}, \textcolor{keyword}{new} GammaCorrection(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01840}01840             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01841}01841             indexs[4, 9] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01842}01842             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}HistogramEqualization"{}}, \textcolor{keyword}{new} HistogramEqualization(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01843}01843             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01844}01844             indexs[4, 10] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01845}01845             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}HorizontalRunLengthSmoothing"{}}, \textcolor{keyword}{new} HorizontalRunLengthSmoothing(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01846}01846             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01847}01847             indexs[4, 11] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01848}01848             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}HSLFiltering"{}}, \textcolor{keyword}{new} HSLFiltering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01849}01849             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01850}01850             indexs[4, 12] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01851}01851             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}HueModifier"{}}, \textcolor{keyword}{new} HueModifier(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01852}01852             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01853}01853             indexs[4, 13] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01854}01854             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Invert"{}}, \textcolor{keyword}{new} Invert(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01855}01855             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01856}01856             indexs[4, 14] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01857}01857             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}LevelsLinear"{}}, \textcolor{keyword}{new} LevelsLinear(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01858}01858             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01859}01859             indexs[4, 15] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01860}01860             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}LevelsLinear16bpp"{}}, \textcolor{keyword}{new} LevelsLinear16bpp(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01861}01861             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01862}01862             \textcolor{comment}{//indexs[4, 16] = 46;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01863}01863             \textcolor{comment}{//f = new Filt("{}MaskedFilter"{}, new MaskedFilter(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01864}01864             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01865}01865             \textcolor{comment}{//f = new Filt("{}Mirror"{}, new Mirror(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01866}01866             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01867}01867             indexs[4, 16] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01868}01868             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}OrderedDithering"{}}, \textcolor{keyword}{new} OrderedDithering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01869}01869             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01870}01870             indexs[4, 17] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01871}01871             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}OtsuThreshold"{}}, \textcolor{keyword}{new} OtsuThreshold(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01872}01872             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01873}01873             indexs[4, 19] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01874}01874             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Pixellate"{}}, \textcolor{keyword}{new} Pixellate(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01875}01875             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01876}01876             indexs[4, 20] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01877}01877             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}PointedColorFloodFill"{}}, \textcolor{keyword}{new} PointedColorFloodFill(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01878}01878             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01879}01879             indexs[4, 21] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01880}01880             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}PointedMeanFloodFill"{}}, \textcolor{keyword}{new} PointedMeanFloodFill(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01881}01881             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01882}01882             indexs[4, 22] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01883}01883             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ReplaceChannel"{}}, \textcolor{keyword}{new} Invert(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01884}01884             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01885}01885             indexs[4, 23] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01886}01886             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}RotateChannels"{}}, \textcolor{keyword}{new} LevelsLinear(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01887}01887             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01888}01888             indexs[4, 24] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01889}01889             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}SaltAndPepperNoise"{}}, \textcolor{keyword}{new} LevelsLinear16bpp(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01890}01890             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01891}01891             indexs[4, 25] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01892}01892             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}SaturationCorrection"{}}, \textcolor{keyword}{new} SaturationCorrection(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01893}01893             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01894}01894             indexs[4, 26] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01895}01895             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Sepia"{}}, \textcolor{keyword}{new} Sepia(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01896}01896             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01897}01897             indexs[4, 26] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01898}01898             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}SimplePosterization"{}}, \textcolor{keyword}{new} SimplePosterization(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01899}01899             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01900}01900             indexs[4, 27] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01901}01901             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}SISThreshold"{}}, \textcolor{keyword}{new} SISThreshold(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01902}01902             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01903}01903             \textcolor{comment}{//f = new Filt("{}Texturer"{}, new Texturer(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01904}01904             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01905}01905             \textcolor{comment}{//f = new Filt("{}Threshold"{}, new Threshold(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01906}01906             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01907}01907             indexs[4, 28] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01908}01908             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ThresholdWithCarry"{}}, \textcolor{keyword}{new} ThresholdWithCarry(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01909}01909             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01910}01910             indexs[4, 29] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01911}01911             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}VerticalRunLengthSmoothing"{}}, \textcolor{keyword}{new} VerticalRunLengthSmoothing(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01912}01912             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01913}01913             indexs[4, 30] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01914}01914             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}YCbCrFiltering"{}}, \textcolor{keyword}{new} YCbCrFiltering(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01915}01915             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01916}01916             indexs[4, 31] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01917}01917             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}YCbCrLinear"{}}, \textcolor{keyword}{new} YCbCrLinear(), Filt.Type.InPlacePartial);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01918}01918             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01919}01919             \textcolor{comment}{//f = new Filt("{}YCbCrReplaceChannel"{}, new YCbCrReplaceChannel(), Filt.Type.InPlacePartial);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01920}01920             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01921}01921 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01922}01922             \textcolor{comment}{//BaseResizeFilter}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01923}01923             indexs[5, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01924}01924             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ResizeBicubic"{}}, \textcolor{keyword}{new} ResizeBicubic(0, 0), Filt.Type.Resize);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01925}01925             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01926}01926             indexs[5, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01927}01927             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ResizeBilinear"{}}, \textcolor{keyword}{new} ResizeBilinear(0, 0), Filt.Type.Resize);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01928}01928             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01929}01929             indexs[5, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01930}01930             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}ResizeNearestNeighbor"{}}, \textcolor{keyword}{new} ResizeNearestNeighbor(0, 0), Filt.Type.Resize);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01931}01931             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01932}01932 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01933}01933             \textcolor{comment}{//BaseRotateFilter}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01934}01934             indexs[6, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01935}01935             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}RotateBicubic"{}}, \textcolor{keyword}{new} RotateBicubic(0), Filt.Type.Rotate);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01936}01936             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01937}01937             indexs[6, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01938}01938             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}RotateBilinear"{}}, \textcolor{keyword}{new} RotateBilinear(0), Filt.Type.Rotate);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01939}01939             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01940}01940             indexs[6, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01941}01941             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}RotateNearestNeighbor"{}}, \textcolor{keyword}{new} RotateNearestNeighbor(0), Filt.Type.Rotate);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01942}01942             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01943}01943 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01944}01944             \textcolor{comment}{//Transformation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01945}01945             indexs[7, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01946}01946             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Crop"{}}, \textcolor{keyword}{new} Crop(\textcolor{keyword}{new} Rectangle(0, 0, 0, 0)), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01947}01947             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01948}01948             indexs[7, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01949}01949             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}QuadrilateralTransformation"{}}, \textcolor{keyword}{new} QuadrilateralTransformation(), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01950}01950             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01951}01951             \textcolor{comment}{//f = new Filt("{}QuadrilateralTransformationBilinear"{}, new QuadrilateralTransformationBilinear(), Filt.Type.Transformation);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01952}01952             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01953}01953             \textcolor{comment}{//f = new Filt("{}QuadrilateralTransformationNearestNeighbor"{}, new QuadrilateralTransformationNearestNeighbor(), Filt.Type.Transformation);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01954}01954             \textcolor{comment}{//filters.Add(f);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01955}01955             indexs[7, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01956}01956             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}Shrink"{}}, \textcolor{keyword}{new} Shrink(), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01957}01957             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01958}01958             indexs[7, 3] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01959}01959             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}SimpleQuadrilateralTransformation"{}}, \textcolor{keyword}{new} SimpleQuadrilateralTransformation(), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01960}01960             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01961}01961             indexs[7, 4] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01962}01962             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}TransformFromPolar"{}}, \textcolor{keyword}{new} TransformFromPolar(), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01963}01963             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01964}01964             indexs[7, 5] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01965}01965             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}TransformToPolar"{}}, \textcolor{keyword}{new} TransformToPolar(), Filt.Type.Transformation);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01966}01966             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01967}01967 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01968}01968             \textcolor{comment}{//BaseUsingCopyPartialFilter}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01969}01969             indexs[8, 0] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01970}01970             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BinaryDilatation3x3"{}}, \textcolor{keyword}{new} BinaryDilatation3x3(), Filt.Type.Copy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01971}01971             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01972}01972             indexs[8, 1] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01973}01973             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BilateralSmoothing "{}}, \textcolor{keyword}{new} BilateralSmoothing(), Filt.Type.Copy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01974}01974             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01975}01975             indexs[8, 2] = filters.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01976}01976             f = \textcolor{keyword}{new} Filt(\textcolor{stringliteral}{"{}BinaryErosion3x3 "{}}, \textcolor{keyword}{new} BinaryErosion3x3(), Filt.Type.Copy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01977}01977             filters.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01978}01978 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01979}01979         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01980}01980     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01981}\mbox{\hyperlink{class_bio_lib_1_1_image_info}{01981}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01982}01982     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01983}01983         \textcolor{keywordtype}{bool} HasPhysicalXY = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01984}01984         \textcolor{keywordtype}{bool} HasPhysicalXYZ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01985}01985         \textcolor{keyword}{private} \textcolor{keywordtype}{double} physicalSizeX = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01986}01986         \textcolor{keyword}{private} \textcolor{keywordtype}{double} physicalSizeY = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01987}01987         \textcolor{keyword}{private} \textcolor{keywordtype}{double} physicalSizeZ = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01988}01988         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01989}01989         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01990}01990             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} physicalSizeX; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01991}01991             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01992}01992             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01993}01993                 physicalSizeX = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01994}01994                 HasPhysicalXY = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01995}01995             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01996}01996         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01997}01997         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01998}01998         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l01999}01999             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} physicalSizeY; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02000}02000             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02001}02001             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02002}02002                 physicalSizeY = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02003}02003                 HasPhysicalXY = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02004}02004             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02005}02005         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02006}02006         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02007}02007         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02008}02008             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} physicalSizeZ; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02009}02009             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02010}02010             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02011}02011                 physicalSizeZ = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02012}02012                 HasPhysicalXYZ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02013}02013             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02014}02014         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02015}02015 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02016}02016         \textcolor{keywordtype}{bool} HasStageXY = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02017}02017         \textcolor{keywordtype}{bool} HasStageXYZ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02018}02018         \textcolor{keyword}{public} \textcolor{keywordtype}{double} stageSizeX = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02019}02019         \textcolor{keyword}{public} \textcolor{keywordtype}{double} stageSizeY = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02020}02020         \textcolor{keyword}{public} \textcolor{keywordtype}{double} stageSizeZ = -\/1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02021}02021         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02022}02022         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02023}02023             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} stageSizeX; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02024}02024             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02025}02025             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02026}02026                 stageSizeX = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02027}02027                 HasStageXY = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02028}02028             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02029}02029         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02030}02030         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02031}02031         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02032}02032             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} stageSizeY; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02033}02033             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02034}02034             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02035}02035                 stageSizeY = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02036}02036                 HasStageXY = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02037}02037             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02038}02038         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02039}02039         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02040}02040         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02041}02041             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} stageSizeZ; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02042}02042             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02043}02043             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02044}02044                 stageSizeZ = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02045}02045                 HasStageXYZ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02046}02046             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02047}02047         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02048}02048 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02049}02049         \textcolor{keyword}{private} \textcolor{keywordtype}{int} series = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02050}02050         \textcolor{keyword}{public} \textcolor{keywordtype}{int} Series}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02051}02051         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02052}02052             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} series; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02053}02053             \textcolor{keyword}{set} \{ series = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02054}02054         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02055}02055 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02063}\mbox{\hyperlink{class_bio_lib_1_1_image_info_a036c5f6dcf772340cc75f319f90e40d6}{02063}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}} \mbox{\hyperlink{class_bio_lib_1_1_image_info_a036c5f6dcf772340cc75f319f90e40d6}{Copy}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02064}02064         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02065}02065             \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}} inf = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02066}02066             inf.PhysicalSizeX = PhysicalSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02067}02067             inf.PhysicalSizeY = PhysicalSizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02068}02068             inf.PhysicalSizeZ = PhysicalSizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02069}02069             inf.StageSizeX = StageSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02070}02070             inf.StageSizeY = StageSizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02071}02071             inf.StageSizeZ = StageSizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02072}02072             inf.HasPhysicalXY = HasPhysicalXY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02073}02073             inf.HasPhysicalXYZ = HasPhysicalXYZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02074}02074             inf.StageSizeX = StageSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02075}02075             inf.StageSizeY = StageSizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02076}02076             inf.StageSizeZ = StageSizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02077}02077             inf.HasStageXY = HasStageXY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02078}02078             inf.HasStageXYZ = HasStageXYZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02079}02079             \textcolor{keywordflow}{return} inf;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02080}02080         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02081}02081 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02082}02082     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02083}\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{02083}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} : IDisposable}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02084}02084     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02085}02085         \textcolor{keyword}{public} \textcolor{keywordtype}{int}[,,] Coords;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02086}02086         \textcolor{keyword}{private} ZCT coordinate;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02087}02087         \textcolor{keyword}{public} ZCT Coordinate}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02088}02088         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02089}02089             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02090}02090             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02091}02091                 \textcolor{keywordflow}{return} coordinate;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02092}02092             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02093}02093             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02094}02094             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02095}02095                 coordinate = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02096}02096             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02097}02097         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02098}02098 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02099}02099         \textcolor{keyword}{private} \textcolor{keywordtype}{string} id;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02100}02100         \textcolor{keyword}{public} List<Channel> Channels = \textcolor{keyword}{new} List<Channel>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02101}02101         \textcolor{keyword}{public} List<Resolution> Resolutions = \textcolor{keyword}{new} List<Resolution>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02102}02102         \textcolor{keyword}{public} List<AForge.Bitmap> Buffers = \textcolor{keyword}{new} List<AForge.Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02103}02103         \textcolor{keyword}{public} List<NetVips.Image> vipPages = \textcolor{keyword}{new} List<NetVips.Image>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02104}02104         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02105}02105         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02106}02106             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} resolution; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02107}02107             \textcolor{keyword}{set} \{ resolution = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02108}02108         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02109}02109         \textcolor{keyword}{public} VolumeD Volume;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02110}02110         \textcolor{keyword}{public} List<ROI> Annotations = \textcolor{keyword}{new} List<ROI>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02111}02111         \textcolor{keyword}{public} \textcolor{keywordtype}{string} filename = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02112}02112         \textcolor{keyword}{public} \textcolor{keywordtype}{string} script = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02113}02113         \textcolor{keyword}{public} \textcolor{keywordtype}{string} Filename}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02114}02114         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02115}02115             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02116}02116             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02117}02117                 \textcolor{keywordflow}{return} filename;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02118}02118             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02119}02119             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02120}02120             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02121}02121                 filename = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02122}02122             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02123}02123         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02124}02124         \textcolor{keyword}{public} \textcolor{keywordtype}{int}[] rgbChannels = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02125}02125         \textcolor{keyword}{public} \textcolor{keywordtype}{int} RGBChannelCount}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02126}02126         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02127}02127             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02128}02128             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02129}02129                 \textcolor{keywordflow}{return} Buffers[0].RGBChannelsCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02130}02130             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02131}02131         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02132}02132         \textcolor{keyword}{public} \textcolor{keywordtype}{int} bitsPerPixel;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02133}02133         \textcolor{keyword}{public} \textcolor{keywordtype}{int} imagesPerSeries = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02134}02134         \textcolor{keyword}{public} \textcolor{keywordtype}{int} seriesCount = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02135}02135         \textcolor{keyword}{public} \textcolor{keywordtype}{double} frameInterval = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02136}02136         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} littleEndian = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02137}02137         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isGroup = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02138}02138         \textcolor{keyword}{public} \textcolor{keywordtype}{long} loadTimeMS = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02139}02139         \textcolor{keyword}{public} \textcolor{keywordtype}{long} loadTimeTicks = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02140}02140         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} selected = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02141}02141         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} ispyramidal = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02142}02142         \textcolor{keyword}{public} Statistics Statistics}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02143}02143         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02144}02144             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02145}02145             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02146}02146                 \textcolor{keywordflow}{return} statistics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02147}02147             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02148}02148             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02149}02149             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02150}02150                 statistics = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02151}02151             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02152}02152         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02153}02153         \textcolor{keyword}{private} \textcolor{keywordtype}{int} sizeZ, sizeC, sizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02154}02154         \textcolor{keyword}{private} Statistics statistics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02155}02155         \textcolor{keyword}{private} \textcolor{keywordtype}{int} resolution = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02156}02156         \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}} imageInfo = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02168}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa245d9abb0948c913aa1b426740719c7}{02168}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa245d9abb0948c913aa1b426740719c7}{Copy}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, \textcolor{keywordtype}{bool} rois)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02169}02169         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02170}02170             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(b.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02171}02171             \textcolor{keywordflow}{if} (rois)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02172}02172                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} b.Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02173}02173                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02174}02174                     bi.Annotations.Add(an);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02175}02175                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02176}02176             \textcolor{keywordflow}{foreach} (Bitmap bf \textcolor{keywordflow}{in} b.Buffers)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02177}02177             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02178}02178                 bi.Buffers.Add(bf.Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02179}02179             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02180}02180             \textcolor{keywordflow}{foreach} (Channel c \textcolor{keywordflow}{in} b.Channels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02181}02181             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02182}02182                 bi.Channels.Add(c);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02183}02183             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02184}02184             bi.Volume = b.Volume;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02185}02185             bi.Coords = b.Coords;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02186}02186             bi.sizeZ = b.sizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02187}02187             bi.sizeC = b.sizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02188}02188             bi.sizeT = b.sizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02189}02189             bi.series = b.series;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02190}02190             bi.seriesCount = b.seriesCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02191}02191             bi.frameInterval = b.frameInterval;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02192}02192             bi.littleEndian = b.littleEndian;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02193}02193             bi.isGroup = b.isGroup;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02194}02194             bi.imageInfo = b.imageInfo;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02195}02195             bi.bitsPerPixel = b.bitsPerPixel;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02196}02196             bi.file = b.file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02197}02197             bi.filename = b.filename;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02198}02198             bi.Resolutions = b.Resolutions;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02199}02199             bi.statistics = b.statistics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02200}02200             \textcolor{keywordflow}{return} bi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02201}02201         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02202}02202 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02212}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af551f75355ee37b8e4253c322eb32220}{02212}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af551f75355ee37b8e4253c322eb32220}{Copy}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02213}02213         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02214}02214             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{Copy}}(b, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02215}02215         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02216}02216 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02227}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad9fa7619dfe1414bb682d83a1f8e050b}{02227}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad9fa7619dfe1414bb682d83a1f8e050b}{Copy}}(\textcolor{keywordtype}{bool} rois)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02228}02228         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02229}02229             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa245d9abb0948c913aa1b426740719c7}{Copy}}(\textcolor{keyword}{this}, rois);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02230}02230         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02231}02231 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02239}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{02239}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{Copy}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02240}02240         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02241}02241             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa245d9abb0948c913aa1b426740719c7}{Copy}}(\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02242}02242         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02243}02243 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02258}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{02258}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, \textcolor{keywordtype}{bool} copyAnnotations, \textcolor{keywordtype}{bool} copyChannels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02259}02259         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02260}02260             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(b.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02261}02261             \textcolor{keywordflow}{if} (copyAnnotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02262}02262                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} b.Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02263}02263                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02264}02264                     bi.Annotations.Add(an);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02265}02265                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02266}02266             \textcolor{keywordflow}{if} (copyChannels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02267}02267                 \textcolor{keywordflow}{foreach} (Channel c \textcolor{keywordflow}{in} b.Channels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02268}02268                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02269}02269                     bi.Channels.Add(c.Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02270}02270                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02271}02271 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02272}02272             bi.Coords = b.Coords;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02273}02273             bi.Volume = b.Volume;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02274}02274             bi.sizeZ = b.sizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02275}02275             bi.sizeC = b.sizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02276}02276             bi.sizeT = b.sizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02277}02277             bi.series = b.series;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02278}02278             bi.seriesCount = b.seriesCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02279}02279             bi.frameInterval = b.frameInterval;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02280}02280             bi.littleEndian = b.littleEndian;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02281}02281             bi.isGroup = b.isGroup;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02282}02282             bi.imageInfo = b.imageInfo;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02283}02283             bi.bitsPerPixel = b.bitsPerPixel;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02284}02284             bi.Resolutions = b.Resolutions;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02285}02285             bi.Coordinate = b.Coordinate;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02286}02286             bi.file = b.file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02287}02287             bi.Filename = b.Filename;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02288}02288             bi.ID = Images.GetImageName(b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02289}02289             bi.statistics = b.statistics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02290}02290             \textcolor{keywordflow}{return} bi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02291}02291         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02292}02292         \textcolor{keyword}{public} \textcolor{keywordtype}{string} ID}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02293}02293         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02294}02294             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} id; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02295}02295             \textcolor{keyword}{set} \{ \textcolor{keywordtype}{id} = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02296}02296         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02297}02297         \textcolor{keyword}{public} \textcolor{keywordtype}{int} ImageCount}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02298}02298         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02299}02299             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02300}02300             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02301}02301                 \textcolor{keywordflow}{return} Buffers.Count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02302}02302             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02303}02303         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02304}02304         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02305}02305         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02306}02306             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} Resolutions[Resolution].PhysicalSizeX; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02307}02307         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02308}02308         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02309}02309         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02310}02310             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} Resolutions[Resolution].PhysicalSizeY; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02311}02311         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02312}02312         \textcolor{keyword}{public} \textcolor{keywordtype}{double} PhysicalSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02313}02313         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02314}02314             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} Resolutions[Resolution].PhysicalSizeZ; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02315}02315         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02316}02316         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02317}02317         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02318}02318             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02319}02319             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02320}02320                 \textcolor{keywordflow}{return} Resolutions[Resolution].StageSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02321}02321             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02322}02322             \textcolor{keyword}{set} \{ imageInfo.StageSizeX = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02323}02323         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02324}02324         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02325}02325         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02326}02326             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} Resolutions[Resolution].StageSizeY; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02327}02327             \textcolor{keyword}{set} \{ imageInfo.StageSizeY = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02328}02328         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02329}02329         \textcolor{keyword}{public} \textcolor{keywordtype}{double} StageSizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02330}02330         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02331}02331             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} Resolutions[Resolution].StageSizeZ; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02332}02332             \textcolor{keyword}{set} \{ imageInfo.StageSizeZ = value; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02333}02333         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02334}02334 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02335}02335         \textcolor{keyword}{public} \textcolor{keywordtype}{int} series}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02336}02336         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02337}02337             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02338}02338             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02339}02339                 \textcolor{keywordflow}{return} imageInfo.Series;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02340}02340             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02341}02341             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02342}02342             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02343}02343                 imageInfo.Series = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02344}02344             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02345}02345         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02346}02346 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02347}02347         \textcolor{keyword}{static} \textcolor{keywordtype}{bool} initialized = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02348}02348         \textcolor{keyword}{public} Channel RChannel}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02349}02349         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02350}02350             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02351}02351             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02352}02352                 \textcolor{keywordflow}{if} (Channels[0].range.Length == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02353}02353                     \textcolor{keywordflow}{return} Channels[rgbChannels[0]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02354}02354                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02355}02355                     \textcolor{keywordflow}{return} Channels[0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02356}02356             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02357}02357         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02358}02358         \textcolor{comment}{/* The above code is defining a property called "{}GChannel"{} in C\#. This property returns a}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02359}02359 \textcolor{comment}{        Channel object. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02360}02360         \textcolor{keyword}{public} Channel GChannel}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02361}02361         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02362}02362             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02363}02363             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02364}02364                 \textcolor{keywordflow}{if} (Channels[0].range.Length == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02365}02365                     \textcolor{keywordflow}{return} Channels[rgbChannels[1]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02366}02366                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02367}02367                     \textcolor{keywordflow}{return} Channels[0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02368}02368             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02369}02369         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02370}02370         \textcolor{comment}{/* The above code is defining a property called "{}BChannel"{} in C\#. This property returns a}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02371}02371 \textcolor{comment}{        Channel object. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02372}02372         \textcolor{keyword}{public} Channel BChannel}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02373}02373         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02374}02374             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02375}02375             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02376}02376                 \textcolor{keywordflow}{if} (Channels[0].range.Length == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02377}02377                     \textcolor{keywordflow}{return} Channels[rgbChannels[2]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02378}02378                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02379}02379                     \textcolor{keywordflow}{return} Channels[0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02380}02380             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02381}02381         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02382}02382 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02383}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{02383}}         \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02384}02384         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02385}02385             \textcolor{keyword}{public} \textcolor{keywordtype}{string} ImageJ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02386}02386             \textcolor{keyword}{public} \textcolor{keywordtype}{int} images = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02387}02387             \textcolor{keyword}{public} \textcolor{keywordtype}{int} channels = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02388}02388             \textcolor{keyword}{public} \textcolor{keywordtype}{int} slices = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02389}02389             \textcolor{keyword}{public} \textcolor{keywordtype}{int} frames = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02390}02390             \textcolor{keyword}{public} \textcolor{keywordtype}{bool} hyperstack;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02391}02391             \textcolor{keyword}{public} \textcolor{keywordtype}{string} mode;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02392}02392             \textcolor{keyword}{public} \textcolor{keywordtype}{string} unit;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02393}02393             \textcolor{keyword}{public} \textcolor{keywordtype}{double} finterval = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02394}02394             \textcolor{keyword}{public} \textcolor{keywordtype}{double} spacing = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02395}02395             \textcolor{keyword}{public} \textcolor{keywordtype}{bool} loop;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02396}02396             \textcolor{keyword}{public} \textcolor{keywordtype}{double} min = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02397}02397             \textcolor{keyword}{public} \textcolor{keywordtype}{double} max = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02398}02398             \textcolor{keyword}{public} \textcolor{keywordtype}{int} count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02399}02399             \textcolor{keyword}{public} \textcolor{keywordtype}{bool} bit8color = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02400}02400 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02412}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_aaea5eb8a8f0d2936a957279ac02d8fa2}{02412}}             \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_aaea5eb8a8f0d2936a957279ac02d8fa2}{FromImage}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02413}02413             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02414}02414                 ImageJ = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02415}02415                 images = b.ImageCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02416}02416                 channels = b.SizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02417}02417                 slices = b.SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02418}02418                 frames = b.SizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02419}02419                 hyperstack = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02420}02420                 mode = \textcolor{stringliteral}{"{}grayscale"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02421}02421                 unit = \textcolor{stringliteral}{"{}micron"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02422}02422                 finterval = b.frameInterval;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02423}02423                 spacing = b.PhysicalSizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02424}02424                 loop = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02425}02425                 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02426}02426 \textcolor{comment}{                double dmax = double.MinValue;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02427}02427 \textcolor{comment}{                double dmin = double.MaxValue;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02428}02428 \textcolor{comment}{                foreach (Channel c in b.Channels)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02429}02429 \textcolor{comment}{                \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02430}02430 \textcolor{comment}{                    if(dmax < c.Max)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02431}02431 \textcolor{comment}{                        dmax = c.Max;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02432}02432 \textcolor{comment}{                    if(dmin > c.Min)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02433}02433 \textcolor{comment}{                        dmin = c.Min;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02434}02434 \textcolor{comment}{                \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02435}02435 \textcolor{comment}{                min = dmin;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02436}02436 \textcolor{comment}{                max = dmax;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02437}02437 \textcolor{comment}{                */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02438}02438                 min = b.Channels[0].RangeR.Min;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02439}02439                 max = b.Channels[0].RangeR.Max;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02440}02440                 \textcolor{keywordflow}{return} \textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02441}02441             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02442}02442 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02450}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a769699da2cfbb75de65253396682fc02}{02450}}             \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a769699da2cfbb75de65253396682fc02}{GetString}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02451}02451             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02452}02452                 \textcolor{keywordtype}{string} s = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02453}02453                 s += \textcolor{stringliteral}{"{}ImageJ="{}} + ImageJ + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02454}02454                 s += \textcolor{stringliteral}{"{}images="{}} + images + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02455}02455                 s += \textcolor{stringliteral}{"{}channels="{}} + channels.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02456}02456                 s += \textcolor{stringliteral}{"{}slices="{}} + slices.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02457}02457                 s += \textcolor{stringliteral}{"{}frames="{}} + frames.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02458}02458                 s += \textcolor{stringliteral}{"{}hyperstack="{}} + hyperstack.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02459}02459                 s += \textcolor{stringliteral}{"{}mode="{}} + mode.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02460}02460                 s += \textcolor{stringliteral}{"{}unit="{}} + unit.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02461}02461                 s += \textcolor{stringliteral}{"{}finterval="{}} + finterval.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02462}02462                 s += \textcolor{stringliteral}{"{}spacing="{}} + spacing.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02463}02463                 s += \textcolor{stringliteral}{"{}loop="{}} + loop.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02464}02464                 s += \textcolor{stringliteral}{"{}min="{}} + min.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02465}02465                 s += \textcolor{stringliteral}{"{}max="{}} + max.ToString() + \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02466}02466                 \textcolor{keywordflow}{return} s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02467}02467             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02468}02468 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02481}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a21784c589545287873a2bf687727ab7a}{02481}}             \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a21784c589545287873a2bf687727ab7a}{SetString}}(\textcolor{keywordtype}{string} desc)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02482}02482             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02483}02483                 \textcolor{keywordtype}{string}[] lines = desc.Split(\textcolor{keyword}{new} \textcolor{keywordtype}{string}[] \{ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}}, \textcolor{stringliteral}{"{}\(\backslash\)r"{}}, \textcolor{stringliteral}{"{}\(\backslash\)n"{}} \}, StringSplitOptions.None);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02484}02484                 \textcolor{keywordtype}{int} maxlen = 20;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02485}02485                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < lines.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02486}02486                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02487}02487                     \textcolor{keywordflow}{if} (i < maxlen)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02488}02488                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02489}02489                         \textcolor{keywordtype}{string}[] sp = lines[i].Split(\textcolor{charliteral}{'='});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02490}02490                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}ImageJ"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02491}02491                             ImageJ = sp[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02492}02492                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}images"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02493}02493                             images = \textcolor{keywordtype}{int}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02494}02494                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}channels"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02495}02495                             channels = \textcolor{keywordtype}{int}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02496}02496                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}slices"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02497}02497                             slices = \textcolor{keywordtype}{int}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02498}02498                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}frames"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02499}02499                             frames = \textcolor{keywordtype}{int}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02500}02500                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}hyperstack"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02501}02501                             hyperstack = \textcolor{keywordtype}{bool}.Parse(sp[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02502}02502                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}mode"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02503}02503                             mode = sp[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02504}02504                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}unit"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02505}02505                             unit = sp[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02506}02506                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}finterval"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02507}02507                             finterval = \textcolor{keywordtype}{double}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02508}02508                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}spacing"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02509}02509                             spacing = \textcolor{keywordtype}{double}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02510}02510                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}loop"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02511}02511                             loop = \textcolor{keywordtype}{bool}.Parse(sp[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02512}02512                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}min"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02513}02513                             min = \textcolor{keywordtype}{double}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02514}02514                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}max"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02515}02515                             max = \textcolor{keywordtype}{double}.Parse(sp[1], CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02516}02516                         \textcolor{keywordflow}{if} (sp[0] == \textcolor{stringliteral}{"{}8bitcolor"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02517}02517                             bit8color = \textcolor{keywordtype}{bool}.Parse(sp[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02518}02518                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02519}02519                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02520}02520                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02521}02521                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02522}02522 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02523}02523             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02524}02524         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02525}02525         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeX}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02526}02526         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02527}02527             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02528}02528             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02529}02529                 \textcolor{keywordflow}{if} (Buffers.Count > 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02530}02530                     \textcolor{keywordflow}{return} Buffers[0].SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02531}02531                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02532}02532             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02533}02533         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02534}02534         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeY}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02535}02535         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02536}02536             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02537}02537             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02538}02538                 \textcolor{keywordflow}{if} (Buffers.Count > 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02539}02539                     \textcolor{keywordflow}{return} Buffers[0].SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02540}02540                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02541}02541             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02542}02542         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02543}02543         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeZ}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02544}02544         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02545}02545             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sizeZ; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02546}02546         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02547}02547         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeC}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02548}02548         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02549}02549             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sizeC; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02550}02550         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02551}02551         \textcolor{keyword}{public} \textcolor{keywordtype}{int} SizeT}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02552}02552         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02553}02553             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} sizeT; \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02554}02554         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02555}02555         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} Planes = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02556}02556         \textcolor{keyword}{public} IntRange RRange}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02557}02557         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02558}02558             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02559}02559             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02560}02560                 \textcolor{keywordflow}{return} RChannel.RangeR;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02561}02561             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02562}02562         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02563}02563         \textcolor{keyword}{public} IntRange GRange}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02564}02564         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02565}02565             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02566}02566             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02567}02567                 \textcolor{keywordflow}{return} GChannel.RangeG;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02568}02568             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02569}02569         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02570}02570         \textcolor{keyword}{public} IntRange BRange}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02571}02571         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02572}02572             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02573}02573             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02574}02574                 \textcolor{keywordflow}{return} BChannel.RangeB;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02575}02575             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02576}02576         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02577}02577         \textcolor{keyword}{public} Bitmap SelectedBuffer}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02578}02578         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02579}02579             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02580}02580             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02581}02581                 \textcolor{keywordflow}{return} Buffers[Coords[Coordinate.Z, Coordinate.C, Coordinate.T]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02582}02582             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02583}02583         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02584}02584         \textcolor{keyword}{public} Stopwatch watch = \textcolor{keyword}{new} Stopwatch();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02585}02585         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isRGB}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02586}02586         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02587}02587             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02588}02588             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02589}02589                 \textcolor{keywordflow}{if} (RGBChannelCount == 3 || RGBChannelCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02590}02590                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02591}02591                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02592}02592                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02593}02593             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02594}02594         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02595}02595         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isTime}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02596}02596         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02597}02597             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02598}02598             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02599}02599                 \textcolor{keywordflow}{if} (SizeT > 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02600}02600                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02601}02601                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02602}02602                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02603}02603             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02604}02604         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02605}02605         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isSeries}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02606}02606         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02607}02607             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02608}02608             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02609}02609                 \textcolor{keywordflow}{if} (seriesCount > 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02610}02610                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02611}02611                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02612}02612                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02613}02613             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02614}02614         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02615}02615         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isPyramidal}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02616}02616         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02617}02617             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02618}02618             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02619}02619                 \textcolor{keywordflow}{return} ispyramidal;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02620}02620             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02621}02621             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02622}02622             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02623}02623                 ispyramidal = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02624}02624             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02625}02625         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02626}02626         \textcolor{keyword}{public} \textcolor{keywordtype}{string} file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02627}02627         \textcolor{keyword}{static} \textcolor{keywordtype}{int} progress = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02628}02628         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} progressValue}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02629}02629         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02630}02630             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02631}02631             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02632}02632                 \textcolor{keywordflow}{return} progress;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02633}02633             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02634}02634             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02635}02635             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02636}02636                 progress = value;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02637}02637             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02638}02638         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02639}02639         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} status;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02640}02640         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} progFile;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02641}02641         \textcolor{comment}{/* The above code is defining a public static property called "{}Initialized"{} in C\#. The property}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02642}02642 \textcolor{comment}{        has a getter method that returns the value of a private static boolean variable called}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02643}02643 \textcolor{comment}{        "{}initialized"{}. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02644}02644         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} Initialized}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02645}02645         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02646}02646             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02647}02647             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02648}02648                 \textcolor{keywordflow}{return} initialized;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02649}02649             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02650}02650         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02651}02651 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02659}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac45987a87a2afca5861cb1da8eaec417}{02659}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac45987a87a2afca5861cb1da8eaec417}{To8Bit}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02660}02660         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02661}02661             \textcolor{keywordflow}{if} (Buffers[0].RGBChannelsCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02662}02662                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02663}02663             PixelFormat px = Buffers[0].PixelFormat;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02664}02664             \textcolor{keywordflow}{if} (px == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02665}02665                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02666}02666             \textcolor{keywordflow}{if} (px == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02667}02667             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02668}02668                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02669}02669                 List<AForge.Bitmap> bfs = \textcolor{keyword}{new} List<AForge.Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02670}02670                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02671}02671                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02672}02672                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02673}02673                     Bitmap[] bs = Bitmap.RGB24To8(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02674}02674                     Bitmap br = \textcolor{keyword}{new} Bitmap(ID, bs[2], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), index, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02675}02675                     Bitmap bg = \textcolor{keyword}{new} Bitmap(ID, bs[1], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 1, Buffers[i].Coordinate.T), index + 1, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02676}02676                     Bitmap bb = \textcolor{keyword}{new} Bitmap(ID, bs[0], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 2, Buffers[i].Coordinate.T), index + 2, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02677}02677                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02678}02678                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02679}02679                         bs[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02680}02680                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02681}02681                     bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02682}02682                     GC.Collect();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02683}02683                     Statistics.CalcStatistics(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02684}02684                     Statistics.CalcStatistics(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02685}02685                     Statistics.CalcStatistics(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02686}02686                     bfs.Add(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02687}02687                     bfs.Add(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02688}02688                     bfs.Add(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02689}02689                     index += 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02690}02690                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02691}02691                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02692}02692                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 3, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02693}02693             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02694}02694             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (px == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02695}02695             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02696}02696                 List<Bitmap> bfs = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02697}02697                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02698}02698                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02699}02699                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02700}02700                     Bitmap[] bs = Bitmap.RGB24To8(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02701}02701                     Bitmap br = \textcolor{keyword}{new} Bitmap(ID, bs[2], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), index, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02702}02702                     Bitmap bg = \textcolor{keyword}{new} Bitmap(ID, bs[1], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 1, Buffers[i].Coordinate.T), index + 1, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02703}02703                     Bitmap bb = \textcolor{keyword}{new} Bitmap(ID, bs[0], \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 2, Buffers[i].Coordinate.T), index + 2, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02704}02704                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02705}02705                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02706}02706                         bs[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02707}02707                         bs[b] = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02708}02708                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02709}02709                     bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02710}02710                     GC.Collect();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02711}02711                     Statistics.CalcStatistics(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02712}02712                     Statistics.CalcStatistics(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02713}02713                     Statistics.CalcStatistics(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02714}02714                     bfs.Add(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02715}02715                     bfs.Add(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02716}02716                     bfs.Add(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02717}02717                     index += 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02718}02718                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02719}02719                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02720}02720                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 3, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02721}02721             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02722}02722             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02723}02723             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02724}02724                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02725}02725                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02726}02726                     Bitmap b = AForge.Imaging.Image.Convert16bppTo8bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02727}02727                     Buffers[i] = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02728}02728                     Statistics.CalcStatistics(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02729}02729                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02730}02730                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02731}02731                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02732}02732                     Channels[c].BitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02733}02733                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[c].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02734}02734                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02735}02735                         Channels[c].range[i].Min = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Min / (\textcolor{keywordtype}{float})ushort.MaxValue) * \textcolor{keywordtype}{byte}.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02736}02736                         Channels[c].range[i].Max = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Max / (float)ushort.MaxValue) * \textcolor{keywordtype}{byte}.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02737}02737                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02738}02738                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02739}02739 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02740}02740             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02741}02741             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02742}02742             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02743}02743             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02744}02744                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02745}02745             \} \textcolor{keywordflow}{while} (Buffers[Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02746}02746             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02747}02747             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(\textcolor{keyword}{this}, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02748}02748             bitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02749}02749         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02750}02750 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02757}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a28e7c9ed5cb2f75bacdcf49bc339ee7e}{02757}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a28e7c9ed5cb2f75bacdcf49bc339ee7e}{To16Bit}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02758}02758         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02759}02759             \textcolor{keywordflow}{if} (Buffers[0].RGBChannelsCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02760}02760                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02761}02761             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02762}02762                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02763}02763             bitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02764}02764             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02765}02765             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02766}02766                 List<Bitmap> bfs = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02767}02767                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02768}02768                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02769}02769                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02770}02770                     Array.Reverse(Buffers[i].Bytes);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02771}02771                     Bitmap[] bs = Bitmap.RGB48To16(ID, SizeX, SizeY, Buffers[i].Stride, Buffers[i].Bytes, Buffers[i].Coordinate, index, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02772}02772                     bfs.AddRange(bs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02773}02773                     index += 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02774}02774                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02775}02775                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02776}02776                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, SizeC * 3, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02777}02777                 \textcolor{keywordflow}{if} (Channels[0].SamplesPerPixel == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02778}02778                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02779}02779                     Channel c = Channels[0].Copy();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02780}02780                     c.SamplesPerPixel = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02781}02781                     c.range = \textcolor{keyword}{new} IntRange[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02782}02782                     Channels.Clear();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02783}02783                     Channels.Add(c);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02784}02784                     Channels.Add(c.Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02785}02785                     Channels.Add(c.Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02786}02786                     Channels[1].Index = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02787}02787                     Channels[2].Index = 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02788}02788                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02789}02789             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02790}02790             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02791}02791             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02792}02792                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02793}02793                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02794}02794                     Buffers[i].Image = AForge.Imaging.Image.Convert8bppTo16bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02795}02795                     Statistics.CalcStatistics(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02796}02796                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02797}02797                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02798}02798                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02799}02799                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[c].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02800}02800                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02801}02801                         Channels[c].range[i].Min = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Min / (\textcolor{keywordtype}{float})\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02802}02802                         Channels[c].range[i].Max = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Max / (float)\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02803}02803                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02804}02804                     Channels[c].BitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02805}02805                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02806}02806             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02807}02807             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02808}02808             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02809}02809                 List<Bitmap> bfs = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02810}02810                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02811}02811                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02812}02812                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02813}02813                     Bitmap[] bs = Bitmap.RGB24To8(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02814}02814                     Bitmap br = \textcolor{keyword}{new} Bitmap(ID, bs[2].Image, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), index, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02815}02815                     Bitmap bg = \textcolor{keyword}{new} Bitmap(ID, bs[1].Image, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 1, Buffers[i].Coordinate.T), index + 1, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02816}02816                     Bitmap bb = \textcolor{keyword}{new} Bitmap(ID, bs[0].Image, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 2, Buffers[i].Coordinate.T), index + 2, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02817}02817                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02818}02818                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02819}02819                         bs[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02820}02820                         bs[b] = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02821}02821                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02822}02822                     bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02823}02823                     GC.Collect();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02824}02824                     br.To16Bit();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02825}02825                     bg.To16Bit();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02826}02826                     bb.To16Bit();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02827}02827                     Statistics.CalcStatistics(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02828}02828                     Statistics.CalcStatistics(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02829}02829                     Statistics.CalcStatistics(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02830}02830                     bfs.Add(br);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02831}02831                     bfs.Add(bg);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02832}02832                     bfs.Add(bb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02833}02833                     index += 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02834}02834                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02835}02835                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02836}02836                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 3, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02837}02837                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02838}02838                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02839}02839                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[c].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02840}02840                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02841}02841                         Channels[c].range[i].Min = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Min / (\textcolor{keywordtype}{float})\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02842}02842                         Channels[c].range[i].Max = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Max / (float)\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02843}02843                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02844}02844                     Channels[c].BitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02845}02845                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02846}02846             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02847}02847             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02848}02848             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02849}02849             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02850}02850                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02851}02851             \} \textcolor{keywordflow}{while} (Buffers[Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02852}02852             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02853}02853             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(\textcolor{keyword}{this}, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02854}02854             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02855}02855         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02856}02856 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02864}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{02864}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02865}02865         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02866}02866             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02867}02867                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02868}02868             bitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02869}02869             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format32bppArgb || Buffers[0].PixelFormat == PixelFormat.Format32bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02870}02870             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02871}02871                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02872}02872                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02873}02873                     Buffers[i] = Bitmap.To24Bit(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02874}02874                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02875}02875                 \textcolor{keywordflow}{if} (Channels.Count == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02876}02876                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02877}02877                     Channels.RemoveAt(0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02878}02878                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02879}02879                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02880}02880                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02881}02881                     Channels[0].SamplesPerPixel = 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02882}02882                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02883}02883             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02884}02884             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02885}02885             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02886}02886             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02887}02887                 \textcolor{comment}{//We run 8bit so we get 24 bit rgb.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02888}02888                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02889}02889                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02890}02890                     Buffers[i].Image = AForge.Imaging.Image.Convert16bppTo8bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02891}02891                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02892}02892             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02893}02893             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02894}02894             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format16bppGrayScale || Buffers[0].PixelFormat == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02895}02895             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02896}02896                 \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02897}02897                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02898}02898                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02899}02899                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02900}02900                         Buffers[i].Image = AForge.Imaging.Image.Convert16bppTo8bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02901}02901                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02902}02902                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02903}02903                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02904}02904                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[c].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02905}02905                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02906}02906                             Channels[c].range[i].Min = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Min / (\textcolor{keywordtype}{float})ushort.MaxValue) * \textcolor{keywordtype}{byte}.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02907}02907                             Channels[c].range[i].Max = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Max / (float)ushort.MaxValue) * \textcolor{keywordtype}{byte}.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02908}02908                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02909}02909                         Channels[c].BitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02910}02910                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02911}02911                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02912}02912                 List<Bitmap> bfs = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02913}02913                 \textcolor{keywordflow}{if} (Buffers.Count \% 3 != 0 \&\& Buffers.Count \% 2 != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02914}02914                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02915}02915                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02916}02916                         Bitmap bs = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i].PixelFormat, Buffers[i].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), i, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02917}02917                         Bitmap bbs = Bitmap.RGB16To48(bs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02918}02918                         bs.Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02919}02919                         bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02920}02920                         bfs.Add(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02921}02921                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02922}02922                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02923}02923                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i += Channels.Count)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02924}02924                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02925}02925                         Bitmap[] bs = \textcolor{keyword}{new} Bitmap[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02926}02926                         bs[2] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i].PixelFormat, Buffers[i].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), i, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02927}02927                         bs[1] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i + 1].PixelFormat, Buffers[i + 1].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i + 1].Coordinate.Z, 0, Buffers[i + 1].Coordinate.T), i + 1, Buffers[i + 1].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02928}02928                         \textcolor{keywordflow}{if} (Channels.Count > 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02929}02929                             bs[0] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i + 2].PixelFormat, Buffers[i + 2].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i + 2].Coordinate.Z, 0, Buffers[i + 2].Coordinate.T), i + 2, Buffers[i + 2].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02930}02930                         Bitmap bbs = Bitmap.RGB8To24(bs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02931}02931                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02932}02932                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02933}02933                             \textcolor{keywordflow}{if} (bs[b] != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02934}02934                                 bs[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02935}02935                             bs[b] = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02936}02936                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02937}02937                         bfs.Add(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02938}02938                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02939}02939                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02940}02940                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 1, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02941}02941             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02942}02942 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02943}02943             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02944}02944             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02945}02945         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02946}02946 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02955}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a48e7d8a8f48aba2bc81f7beccb512095}{02955}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a48e7d8a8f48aba2bc81f7beccb512095}{To32Bit}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02956}02956         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02957}02957             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format32bppArgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02958}02958                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02959}02959             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat != PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02960}02960             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02961}02961                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02962}02962             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02963}02963             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02964}02964             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02965}02965                 UnmanagedImage b = Bitmap.To32Bit(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02966}02966                 Buffers[i].Image = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02967}02967             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02968}02968             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02969}02969         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02970}02970 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02978}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa75e64419a13b10b6b53b50c03b8afc5}{02978}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa75e64419a13b10b6b53b50c03b8afc5}{To48Bit}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02979}02979         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02980}02980             \textcolor{keywordflow}{if} (Buffers[0].RGBChannelsCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02981}02981                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5e0878a96b68b5e34f760fb4c106c849}{To24Bit}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02982}02982             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02983}02983                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02984}02984             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format8bppIndexed || Buffers[0].PixelFormat == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02985}02985             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02986}02986                 \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02987}02987                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02988}02988                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02989}02989                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02990}02990                         Buffers[i].Image = AForge.Imaging.Image.Convert8bppTo16bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02991}02991                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02992}02992                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02993}02993                 List<Bitmap> bfs = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02994}02994                 \textcolor{keywordflow}{if} (Buffers.Count \% 3 != 0 \&\& Buffers.Count \% 2 != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02995}02995                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02996}02996                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02997}02997                         Bitmap bs = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i].PixelFormat, Buffers[i].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), i, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02998}02998                         Bitmap bbs = Bitmap.RGB16To48(bs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l02999}02999                         Statistics.CalcStatistics(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03000}03000                         bs.Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03001}03001                         bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03002}03002                         bfs.Add(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03003}03003                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03004}03004                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03005}03005                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i += Channels.Count)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03006}03006                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03007}03007                         Bitmap[] bs = \textcolor{keyword}{new} Bitmap[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03008}03008                         bs[0] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i].PixelFormat, Buffers[i].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i].Coordinate.Z, 0, Buffers[i].Coordinate.T), i, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03009}03009                         bs[1] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i + 1].PixelFormat, Buffers[i + 1].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i + 1].Coordinate.Z, 0, Buffers[i + 1].Coordinate.T), i + 1, Buffers[i + 1].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03010}03010                         \textcolor{keywordflow}{if} (Channels.Count > 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03011}03011                             bs[2] = \textcolor{keyword}{new} Bitmap(ID, SizeX, SizeY, Buffers[i + 2].PixelFormat, Buffers[i + 2].Bytes, \textcolor{keyword}{new} ZCT(Buffers[i + 2].Coordinate.Z, 0, Buffers[i + 2].Coordinate.T), i + 2, Buffers[i + 2].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03012}03012                         Bitmap bbs = Bitmap.RGB16To48(bs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03013}03013                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03014}03014                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03015}03015                             \textcolor{keywordflow}{if} (bs[b] != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03016}03016                                 bs[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03017}03017                             bs[b] = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03018}03018                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03019}03019                         Statistics.CalcStatistics(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03020}03020                         bfs.Add(bbs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03021}03021                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03022}03022                 GC.Collect();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03023}03023                 Buffers = bfs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03024}03024                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 1, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03025}03025                 Channel c = Channels[0].Copy();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03026}03026                 c.SamplesPerPixel = 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03027}03027                 rgbChannels[0] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03028}03028                 rgbChannels[1] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03029}03029                 rgbChannels[2] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03030}03030                 Channels.Clear();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03031}03031                 Channels.Add(c);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03032}03032             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03033}03033             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03034}03034             \textcolor{keywordflow}{if} (Buffers[0].PixelFormat == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03035}03035             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03036}03036                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03037}03037                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03038}03038                     Buffers[i].Image = AForge.Imaging.Image.Convert8bppTo16bpp(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03039}03039                     Statistics.CalcStatistics(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03040}03040                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03041}03041                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03042}03042                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03043}03043                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[c].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03044}03044                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03045}03045                         Channels[c].range[i].Min = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Min / (\textcolor{keywordtype}{float})\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03046}03046                         Channels[c].range[i].Max = (int)(((\textcolor{keywordtype}{float})Channels[c].range[i].Max / (float)\textcolor{keywordtype}{byte}.MaxValue) * ushort.MaxValue);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03047}03047                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03048}03048                     Channels[c].BitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03049}03049                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03050}03050             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03051}03051             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03052}03052             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03053}03053                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03054}03054                 List<Bitmap> buffers = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03055}03055                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i += 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03056}03056                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03057}03057                     Bitmap[] bf = \textcolor{keyword}{new} Bitmap[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03058}03058                     bf[0] = Buffers[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03059}03059                     bf[1] = Buffers[i + 1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03060}03060                     bf[2] = Buffers[i + 2];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03061}03061                     Bitmap inf = Bitmap.RGB16To48(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03062}03062                     buffers.Add(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03063}03063                     Statistics.CalcStatistics(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03064}03064                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} b = 0; b < 3; b++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03065}03065                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03066}03066                         bf[b].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03067}03067                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03068}03068                     index++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03069}03069                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03070}03070                 Buffers = buffers;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03071}03071                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(SizeZ, 1, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03072}03072             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03073}03073             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03074}03074             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03075}03075             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03076}03076                 Thread.Sleep(50);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03077}03077             \} \textcolor{keywordflow}{while} (Buffers[Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03078}03078             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03079}03079             bitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03080}03080             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(\textcolor{keyword}{this}, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03081}03081             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03082}03082         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03083}03083 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03091}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a17d36c9b5b19331cf6b4e91e4d2c2225}{03091}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a17d36c9b5b19331cf6b4e91e4d2c2225}{RotateFlip}}(AForge.RotateFlipType rot)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03092}03092         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03093}03093             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03094}03094             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03095}03095                 Buffers[i].RotateFlip(rot);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03096}03096             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03097}03097             Volume = \textcolor{keyword}{new} VolumeD(\textcolor{keyword}{new} Point3D(StageSizeX, StageSizeY, StageSizeZ), \textcolor{keyword}{new} Point3D(PhysicalSizeX * SizeX, PhysicalSizeY * SizeY, PhysicalSizeZ * SizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03098}03098         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03099}03099 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03114}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aaa610cad0e747b07b92c222997161ab9}{03114}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aaa610cad0e747b07b92c222997161ab9}{Bake}}(\textcolor{keywordtype}{int} rmin, \textcolor{keywordtype}{int} rmax, \textcolor{keywordtype}{int} gmin, \textcolor{keywordtype}{int} gmax, \textcolor{keywordtype}{int} bmin, \textcolor{keywordtype}{int} bmax)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03115}03115         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03116}03116             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aaa610cad0e747b07b92c222997161ab9}{Bake}}(\textcolor{keyword}{new} IntRange(rmin, rmax), \textcolor{keyword}{new} IntRange(gmin, gmax), \textcolor{keyword}{new} IntRange(bmin, bmax));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03117}03117         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03118}03118 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03134}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab1900705ea16319e2c9d56a2b582ac83}{03134}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab1900705ea16319e2c9d56a2b582ac83}{Bake}}(IntRange rf, IntRange gf, IntRange bf)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03135}03135         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03136}03136             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bm = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(Images.GetImageName(ID));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03137}03137             bm = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(\textcolor{keyword}{this}, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03138}03138             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03139}03139             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03140}03140                 ZCT co = Buffers[i].Coordinate;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03141}03141                 UnmanagedImage b = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88de4f8cd75fa175ccc3dea96359fb6}{GetFiltered}}(i, rf, gf, bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03142}03142                 Bitmap inf = \textcolor{keyword}{new} Bitmap(bm.ID, b, co, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03143}03143                 Statistics.CalcStatistics(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03144}03144                 bm.Coords[co.Z, co.C, co.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03145}03145                 bm.Buffers.Add(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03146}03146             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03147}03147             \textcolor{keywordflow}{foreach} (Channel item \textcolor{keywordflow}{in} bm.Channels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03148}03148             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03149}03149                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < item.range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03150}03150                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03151}03151                     item.range[i].Min = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03152}03152                     \textcolor{keywordflow}{if} (bm.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03153}03153                         item.range[i].Max = ushort.MaxValue;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03154}03154                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03155}03155                         item.range[i].Max = 255;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03156}03156                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03157}03157             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03158}03158             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03159}03159             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03160}03160             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03161}03161                 Thread.Sleep(50);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03162}03162             \} \textcolor{keywordflow}{while} (Buffers[Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03163}03163             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(bm, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03164}03164             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03165}03165             Images.AddImage(bm, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03166}03166         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03167}03167 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03172}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{03172}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03173}03173         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03174}03174             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03175}03175             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03176}03176             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03177}03177             Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[SizeZ, SizeC, SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03178}03178             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < Buffers.Count; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03179}03179             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03180}03180                 ZCT co = \textcolor{keyword}{new} ZCT(z, c, t);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03181}03181                 Coords[co.Z, co.C, co.T] = im;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03182}03182                 Buffers[im].Coordinate = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03183}03183                 \textcolor{keywordflow}{if} (c < SizeC -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03184}03184                     c++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03185}03185                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03186}03186                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03187}03187                     c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03188}03188                     \textcolor{keywordflow}{if} (z < SizeZ -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03189}03189                         z++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03190}03190                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03191}03191                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03192}03192                         z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03193}03193                         \textcolor{keywordflow}{if} (t < SizeT -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03194}03194                             t++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03195}03195                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03196}03196                             t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03197}03197                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03198}03198                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03199}03199             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03200}03200         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03201}03201 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03213}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88dfe30482003d163513997a55d70ae}{03213}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88dfe30482003d163513997a55d70ae}{UpdateCoords}}(\textcolor{keywordtype}{int} sz, \textcolor{keywordtype}{int} sc, \textcolor{keywordtype}{int} st)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03214}03214         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03215}03215             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03216}03216             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03217}03217             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03218}03218             sizeZ = sz;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03219}03219             sizeC = sc;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03220}03220             sizeT = st;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03221}03221             Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[sz, sc, st];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03222}03222             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < Buffers.Count; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03223}03223             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03224}03224                 ZCT co = \textcolor{keyword}{new} ZCT(z, c, t);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03225}03225                 Coords[co.Z, co.C, co.T] = im;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03226}03226                 Buffers[im].Coordinate = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03227}03227                 \textcolor{keywordflow}{if} (c < SizeC -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03228}03228                     c++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03229}03229                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03230}03230                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03231}03231                     c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03232}03232                     \textcolor{keywordflow}{if} (z < SizeZ -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03233}03233                         z++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03234}03234                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03235}03235                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03236}03236                         z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03237}03237                         \textcolor{keywordflow}{if} (t < SizeT -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03238}03238                             t++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03239}03239                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03240}03240                             t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03241}03241                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03242}03242                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03243}03243             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03244}03244         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03245}03245 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03258}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a56f25305c050c15fb4127dfda36f178c}{03258}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a56f25305c050c15fb4127dfda36f178c}{UpdateCoords}}(\textcolor{keywordtype}{int} sz, \textcolor{keywordtype}{int} sc, \textcolor{keywordtype}{int} st, \textcolor{keywordtype}{string} order)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03259}03259         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03260}03260             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03261}03261             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03262}03262             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03263}03263             sizeZ = sz;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03264}03264             sizeC = sc;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03265}03265             sizeT = st;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03266}03266             Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[sz, sc, st];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03267}03267             \textcolor{keywordflow}{if} (order == \textcolor{stringliteral}{"{}XYCZT"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03268}03268             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03269}03269                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < Buffers.Count; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03270}03270                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03271}03271                     ZCT co = \textcolor{keyword}{new} ZCT(z, c, t);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03272}03272                     Coords[co.Z, co.C, co.T] = im;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03273}03273                     Buffers[im].Coordinate = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03274}03274                     \textcolor{keywordflow}{if} (c < SizeC -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03275}03275                         c++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03276}03276                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03277}03277                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03278}03278                         c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03279}03279                         \textcolor{keywordflow}{if} (z < SizeZ -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03280}03280                             z++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03281}03281                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03282}03282                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03283}03283                             z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03284}03284                             \textcolor{keywordflow}{if} (t < SizeT -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03285}03285                                 t++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03286}03286                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03287}03287                                 t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03288}03288                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03289}03289                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03290}03290                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03291}03291             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03292}03292             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (order == \textcolor{stringliteral}{"{}XYZCT"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03293}03293             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03294}03294                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < Buffers.Count; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03295}03295                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03296}03296                     ZCT co = \textcolor{keyword}{new} ZCT(z, c, t);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03297}03297                     Coords[co.Z, co.C, co.T] = im;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03298}03298                     Buffers[im].Coordinate = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03299}03299                     \textcolor{keywordflow}{if} (z < SizeZ -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03300}03300                         z++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03301}03301                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03302}03302                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03303}03303                         z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03304}03304                         \textcolor{keywordflow}{if} (c < SizeC -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03305}03305                             c++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03306}03306                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03307}03307                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03308}03308                             c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03309}03309                             \textcolor{keywordflow}{if} (t < SizeT -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03310}03310                                 t++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03311}03311                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03312}03312                                 t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03313}03313                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03314}03314                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03315}03315                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03316}03316             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03317}03317         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03318}03318 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03327}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1754da6acc548b23bc76a89ddb02933b}{03327}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1754da6acc548b23bc76a89ddb02933b}{ToImageSizeX}}(\textcolor{keywordtype}{double} d)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03328}03328         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03329}03329             \textcolor{keywordflow}{return} d / PhysicalSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03330}03330         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03331}03331 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03340}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aaf3d8756fdaa542fe2055e9f61a89536}{03340}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aaf3d8756fdaa542fe2055e9f61a89536}{ToImageSizeY}}(\textcolor{keywordtype}{double} d)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03341}03341         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03342}03342             \textcolor{keywordflow}{return} d / PhysicalSizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03343}03343         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03344}03344 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03353}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_adb4e82483e6761032b052bf0e4c1d3a6}{03353}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_adb4e82483e6761032b052bf0e4c1d3a6}{ToImageSpaceX}}(\textcolor{keywordtype}{double} x)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03354}03354         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03355}03355             \textcolor{keywordflow}{if} (isPyramidal)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03356}03356                 \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03357}03357             \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})((x -\/ StageSizeX) / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03358}03358         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03359}03359 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03368}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0ba31cee0b1f99a4c69e0dcf40096c31}{03368}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0ba31cee0b1f99a4c69e0dcf40096c31}{ToImageSpaceY}}(\textcolor{keywordtype}{double} y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03369}03369         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03370}03370             \textcolor{keywordflow}{if} (isPyramidal)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03371}03371                 \textcolor{keywordflow}{return} y;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03372}03372             \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})((y -\/ StageSizeY) / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03373}03373         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03374}03374 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03384}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6401453b77741f8fba333dfb3b86528f}{03384}}         \textcolor{keyword}{public} PointD \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6401453b77741f8fba333dfb3b86528f}{ToImageSpace}}(PointD p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03385}03385         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03386}03386             PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03387}03387             pp.X = (float)((p.X -\/ StageSizeX) / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03388}03388             pp.Y = (float)((p.Y -\/ StageSizeY) / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03389}03389             \textcolor{keywordflow}{return} pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03390}03390         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03391}03391 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03401}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af37851b582f44af7e47713b1be4023f4}{03401}}         \textcolor{keyword}{public} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af37851b582f44af7e47713b1be4023f4}{ToImageSpace}}(List<PointD> p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03402}03402         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03403}03403             PointD[] ps = \textcolor{keyword}{new} PointD[p.Count];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03404}03404             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < p.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03405}03405             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03406}03406                 PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03407}03407                 pp.X = ((p[i].X -\/ StageSizeX) / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03408}03408                 pp.Y = ((p[i].Y -\/ StageSizeY) / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03409}03409                 ps[i] = pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03410}03410             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03411}03411             \textcolor{keywordflow}{return} ps;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03412}03412         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03428}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac2fb94371a3dd45cde341149e7b0cc49}{03428}}         \textcolor{keyword}{public} \textcolor{keyword}{static} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac2fb94371a3dd45cde341149e7b0cc49}{ToImageSpace}}(List<PointD> p, \textcolor{keywordtype}{int} stageSizeX,\textcolor{keywordtype}{int} stageSizeY, \textcolor{keywordtype}{int} physicalSizeX,\textcolor{keywordtype}{int} physicalSizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03429}03429         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03430}03430             PointD[] ps = \textcolor{keyword}{new} PointD[p.Count];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03431}03431             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < p.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03432}03432             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03433}03433                 PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03434}03434                 pp.X = ((p[i].X -\/ stageSizeX) / physicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03435}03435                 pp.Y = ((p[i].Y -\/ stageSizeY) / physicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03436}03436                 ps[i] = pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03437}03437             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03438}03438             \textcolor{keywordflow}{return} ps;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03439}03439         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03440}03440 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03449}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1c5ae915a6fb724bc7dfd158ed6e7ec4}{03449}}         \textcolor{keyword}{public} PointF[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1c5ae915a6fb724bc7dfd158ed6e7ec4}{ToImageSpace}}(PointF[] p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03450}03450         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03451}03451             PointF[] ps = \textcolor{keyword}{new} PointF[p.Length];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03452}03452             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < p.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03453}03453             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03454}03454                 PointF pp = \textcolor{keyword}{new} PointF();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03455}03455                 pp.X = (float)((p[i].X -\/ StageSizeX) / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03456}03456                 pp.Y = (float)((p[i].Y -\/ StageSizeY) / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03457}03457                 ps[i] = pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03458}03458             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03459}03459             \textcolor{keywordflow}{return} ps;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03460}03460         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03461}03461 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03471}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a76282062abca79b65a7f6882899aa0ff}{03471}}         \textcolor{keyword}{public} RectangleF \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a76282062abca79b65a7f6882899aa0ff}{ToImageSpace}}(\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03472}03472         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03473}03473             RectangleF r = \textcolor{keyword}{new} RectangleF();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03474}03474             Point pp = \textcolor{keyword}{new} Point();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03475}03475             r.X = (int)((p.X -\/ StageSizeX) / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03476}03476             r.Y = (int)((p.Y -\/ StageSizeY) / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03477}03477             r.Width = (int)(p.W / PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03478}03478             r.Height = (int)(p.H / PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03479}03479             \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03480}03480         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03481}03481 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03490}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{03490}}         \textcolor{keyword}{public} PointD \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(PointD p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03491}03491         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03492}03492             PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03493}03493             \textcolor{keywordflow}{if} (isPyramidal)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03494}03494             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03495}03495                 pp.X = ((p.X * Resolutions[resolution].PhysicalSizeX) + Volume.Location.X);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03496}03496                 pp.Y = ((p.Y * Resolutions[resolution].PhysicalSizeY) + Volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03497}03497                 \textcolor{keywordflow}{return} pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03498}03498             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03499}03499             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03500}03500             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03501}03501                 pp.X = ((p.X * PhysicalSizeX) + Volume.Location.X);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03502}03502                 pp.Y = ((p.Y * PhysicalSizeY) + Volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03503}03503                 \textcolor{keywordflow}{return} pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03504}03504             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03505}03505         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03506}03506 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03519}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af190637e073ff93b35089506d67f06fe}{03519}}         \textcolor{keyword}{public} PointD \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af190637e073ff93b35089506d67f06fe}{ToStageSpace}}(PointD p, \textcolor{keywordtype}{int} resolution)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03520}03520         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03521}03521             PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03522}03522             pp.X = ((p.X * Resolutions[resolution].PhysicalSizeX) + Volume.Location.X);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03523}03523             pp.Y = ((p.Y * Resolutions[resolution].PhysicalSizeY) + Volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03524}03524             \textcolor{keywordflow}{return} pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03525}03525         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03526}03526 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03545}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a9ab6b4c5e154079b186c55cc2b2fcc}{03545}}         \textcolor{keyword}{public} \textcolor{keyword}{static} PointD \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a9ab6b4c5e154079b186c55cc2b2fcc}{ToStageSpace}}(PointD p, \textcolor{keywordtype}{double} physicalSizeX, \textcolor{keywordtype}{double} physicalSizeY, \textcolor{keywordtype}{double} volumeX, \textcolor{keywordtype}{double} volumeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03546}03546         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03547}03547             PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03548}03548             pp.X = ((p.X * physicalSizeX) + volumeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03549}03549             pp.Y = ((p.Y * physicalSizeY) + volumeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03550}03550             \textcolor{keywordflow}{return} pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03551}03551         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03552}03552 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03564}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5c7674d46f9087925e6f8221b3eebe63}{03564}}         \textcolor{keyword}{public} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5c7674d46f9087925e6f8221b3eebe63}{ToStageSpace}}(\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03565}03565         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03566}03566             \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} r = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03567}03567             r.X = ((p.X * PhysicalSizeX) + Volume.Location.X);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03568}03568             r.Y = ((p.Y * PhysicalSizeY) + Volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03569}03569             r.W = (p.W * PhysicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03570}03570             r.H = (p.H * PhysicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03571}03571             \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03572}03572         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03573}03573 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03592}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3a10f3ce10f5cba3fd867deb1f42b174}{03592}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3a10f3ce10f5cba3fd867deb1f42b174}{ToStageSpace}}(\mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} p, \textcolor{keywordtype}{double} physicalSizeX, \textcolor{keywordtype}{double} physicalSizeY, \textcolor{keywordtype}{double} volumeX, \textcolor{keywordtype}{double} volumeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03593}03593         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03594}03594             \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}} r = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03595}03595             r.X = ((p.X * physicalSizeX) + volumeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03596}03596             r.Y = ((p.Y * physicalSizeY) + volumeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03597}03597             r.W = (p.W * physicalSizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03598}03598             r.H = (p.H * physicalSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03599}03599             \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03600}03600         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03601}03601 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03611}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a63bb17d31e6371a9c2508d1b1cfa47eb}{03611}}         \textcolor{keyword}{public} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a63bb17d31e6371a9c2508d1b1cfa47eb}{ToStageSpace}}(PointD[] p)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03612}03612         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03613}03613             PointD[] ps = \textcolor{keyword}{new} PointD[p.Length];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03614}03614             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < p.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03615}03615             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03616}03616                 PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03617}03617                 pp.X = ((p[i].X * PhysicalSizeX) + Volume.Location.X);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03618}03618                 pp.Y = ((p[i].Y * PhysicalSizeY) + Volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03619}03619                 ps[i] = pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03620}03620             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03621}03621             \textcolor{keywordflow}{return} ps;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03622}03622         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03623}03623 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03641}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a74b6bbd8eeff6f2ae2489b563a1d1c9e}{03641}}         \textcolor{keyword}{public} \textcolor{keyword}{static} PointD[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a74b6bbd8eeff6f2ae2489b563a1d1c9e}{ToStageSpace}}(PointD[] p, \textcolor{keywordtype}{double} physicalSizeX, \textcolor{keywordtype}{double} physicalSizeY, \textcolor{keywordtype}{double} volumeX, \textcolor{keywordtype}{double} volumeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03642}03642         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03643}03643             PointD[] ps = \textcolor{keyword}{new} PointD[p.Length];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03644}03644             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < p.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03645}03645             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03646}03646                 PointD pp = \textcolor{keyword}{new} PointD();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03647}03647                 pp.X = ((p[i].X * physicalSizeX) + volumeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03648}03648                 pp.Y = ((p[i].Y * physicalSizeY) + volumeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03649}03649                 ps[i] = pp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03650}03650             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03651}03651             \textcolor{keywordflow}{return} ps;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03652}03652         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03653}03653         \textcolor{comment}{/* The above code is defining a constructor for the BioImage class in C\#. The constructor takes}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03654}03654 \textcolor{comment}{        a string parameter called "{}file"{}. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03655}03655         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03656}03656         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03657}03657             \textcolor{keywordtype}{id} = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03658}03658             this.file = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03659}03659             filename = Images.GetImageName(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03660}03660             Coordinate = \textcolor{keyword}{new} ZCT();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03661}03661             rgbChannels[0] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03662}03662             rgbChannels[1] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03663}03663             rgbChannels[2] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03664}03664         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03665}03665 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03688}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7212327484af53ba88a87c0ae6f2dc7b}{03688}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7212327484af53ba88a87c0ae6f2dc7b}{Substack}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} orig, \textcolor{keywordtype}{int} ser, \textcolor{keywordtype}{int} zs, \textcolor{keywordtype}{int} ze, \textcolor{keywordtype}{int} cs, \textcolor{keywordtype}{int} ce, \textcolor{keywordtype}{int} ts, \textcolor{keywordtype}{int} te)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03689}03689         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03690}03690             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(orig, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03691}03691             b.ID = Images.GetImageName(orig.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03692}03692             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03693}03693             b.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[ze -\/ zs, ce -\/ cs, te -\/ ts];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03694}03694             b.sizeZ = ze -\/ zs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03695}03695             b.sizeC = ce -\/ cs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03696}03696             b.sizeT = te -\/ ts;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03697}03697             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ti = 0; ti < b.SizeT; ti++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03698}03698             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03699}03699                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} zi = 0; zi < b.SizeZ; zi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03700}03700                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03701}03701                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ci = 0; ci < b.SizeC; ci++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03702}03702                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03703}03703                         \textcolor{keywordtype}{int} ind = orig.Coords[zs + zi, cs + ci, ts + ti];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03704}03704                         Bitmap bf = \textcolor{keyword}{new} Bitmap(Images.GetImageName(orig.id), orig.SizeX, orig.SizeY, orig.Buffers[0].PixelFormat, orig.Buffers[ind].Bytes, \textcolor{keyword}{new} ZCT(zi, ci, ti), i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03705}03705                         Statistics.CalcStatistics(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03706}03706                         b.Buffers.Add(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03707}03707                         b.Coords[zi, ci, ti] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03708}03708                         i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03709}03709                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03710}03710                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03711}03711             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03712}03712             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ci = cs; ci < ce; ci++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03713}03713             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03714}03714                 b.Channels.Add(orig.Channels[ci]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03715}03715             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03716}03716             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03717}03717             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03718}03718             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03719}03719                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03720}03720             \} \textcolor{keywordflow}{while} (b.Buffers[b.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03721}03721             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03722}03722             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(b, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03723}03723             \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03724}03724                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03725}03725             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03726}03726                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03727}03727             Images.AddImage(b, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03728}03728             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.Substack("{} + '"{}' + orig.Filename + '"{}' + "{},"{} + ser + "{},"{} + zs + "{},"{} + ze + "{},"{} + cs + "{},"{} + ce + "{},"{} + ts + "{},"{} + te + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03729}03729             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03730}03730         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03731}03731 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03747}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2f9f043ab37ab9db0b581fa5e5d49742}{03747}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2f9f043ab37ab9db0b581fa5e5d49742}{MergeChannels}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b2, \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03748}03748         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03749}03749             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} res = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(b2.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03750}03750             res.ID = Images.GetImageName(b2.ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03751}03751             res.series = b2.series;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03752}03752             res.sizeZ = b2.SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03753}03753             \textcolor{keywordtype}{int} cOrig = b2.SizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03754}03754             res.sizeC = b2.SizeC + b.SizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03755}03755             res.sizeT = b2.SizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03756}03756             res.bitsPerPixel = b2.bitsPerPixel;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03757}03757             res.imageInfo = b2.imageInfo;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03758}03758             res.littleEndian = b2.littleEndian;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03759}03759             res.seriesCount = b2.seriesCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03760}03760             res.imagesPerSeries = res.ImageCount / res.seriesCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03761}03761             res.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[res.SizeZ, res.SizeC, res.SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03762}03762 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03763}03763             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03764}03764             \textcolor{keywordtype}{int} cc = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03765}03765             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ti = 0; ti < res.SizeT; ti++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03766}03766             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03767}03767                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} zi = 0; zi < res.SizeZ; zi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03768}03768                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03769}03769                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ci = 0; ci < res.SizeC; ci++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03770}03770                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03771}03771                         ZCT co = \textcolor{keyword}{new} ZCT(zi, ci, ti);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03772}03772                         \textcolor{keywordflow}{if} (ci < cOrig)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03773}03773                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03774}03774                             \textcolor{comment}{//If this channel is part of the image b1 we add planes from it.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03775}03775                             Bitmap copy = \textcolor{keyword}{new} Bitmap(b2.id, b2.SizeX, b2.SizeY, b2.Buffers[0].PixelFormat, b2.Buffers[i].Bytes, co, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03776}03776                             \textcolor{keywordflow}{if} (b2.littleEndian)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03777}03777                                 copy.RotateFlip(AForge.RotateFlipType.Rotate180FlipNone);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03778}03778                             res.Coords[zi, ci, ti] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03779}03779                             res.Buffers.Add(b2.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03780}03780                             res.Buffers.Add(copy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03781}03781                             \textcolor{comment}{//Lets copy the ROI's from the original image.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03782}03782                             List<ROI> anns = b2.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3fb23646bc87d986149dabc74b6425b0}{GetAnnotations}}(zi, ci, ti);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03783}03783                             \textcolor{keywordflow}{if} (anns.Count > 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03784}03784                                 res.Annotations.AddRange(anns);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03785}03785                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03786}03786                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03787}03787                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03788}03788                             \textcolor{comment}{//This plane is not part of b1 so we add the planes from b2 channels.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03789}03789                             Bitmap copy = \textcolor{keyword}{new} Bitmap(b.id, b.SizeX, b.SizeY, b.Buffers[0].PixelFormat, b.Buffers[i].Bytes, co, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03790}03790                             \textcolor{keywordflow}{if} (b2.littleEndian)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03791}03791                                 copy.RotateFlip(AForge.RotateFlipType.Rotate180FlipNone);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03792}03792                             res.Coords[zi, ci, ti] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03793}03793                             res.Buffers.Add(b.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03794}03794                             res.Buffers.Add(copy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03795}03795 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03796}03796                             \textcolor{comment}{//Lets copy the ROI's from the original image.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03797}03797                             List<ROI> anns = b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3fb23646bc87d986149dabc74b6425b0}{GetAnnotations}}(zi, cc, ti);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03798}03798                             \textcolor{keywordflow}{if} (anns.Count > 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03799}03799                                 res.Annotations.AddRange(anns);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03800}03800                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03801}03801                         i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03802}03802                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03803}03803                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03804}03804             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03805}03805             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ci = 0; ci < res.SizeC; ci++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03806}03806             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03807}03807                 \textcolor{keywordflow}{if} (ci < cOrig)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03808}03808                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03809}03809                     res.Channels.Add(b2.Channels[ci].Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03810}03810                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03811}03811                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03812}03812                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03813}03813                     res.Channels.Add(b.Channels[cc].Copy());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03814}03814                     res.Channels[cOrig + cc].Index = ci;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03815}03815                     cc++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03816}03816                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03817}03817             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03818}03818             Images.AddImage(res, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03819}03819             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03820}03820             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03821}03821             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03822}03822                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03823}03823             \} \textcolor{keywordflow}{while} (res.Buffers[res.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03824}03824             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(res, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03825}03825             \textcolor{keywordflow}{if} (res.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03826}03826                 res.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03827}03827             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03828}03828                 res.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03829}03829             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.MergeChannels("{} + '"{}' + b.ID + '"{}' + "{},"{} + '"{}' + b2.ID + '"{}' + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03830}03830             \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03831}03831         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03832}03832 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03844}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2717b03645d478b23b00ff85a7db9081}{03844}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2717b03645d478b23b00ff85a7db9081}{MergeChannels}}(\textcolor{keywordtype}{string} bname, \textcolor{keywordtype}{string} b2name)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03845}03845         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03846}03846             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = Images.GetImage(bname);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03847}03847             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b2 = Images.GetImage(b2name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03848}03848             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2f9f043ab37ab9db0b581fa5e5d49742}{MergeChannels}}(b, b2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03849}03849         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03850}03850 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03861}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af19fc5a7110429564765c3e56b8f55d7}{03861}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af19fc5a7110429564765c3e56b8f55d7}{MergeZ}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03862}03862         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03863}03863             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(b, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03864}03864             \textcolor{keywordtype}{int} ind = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03865}03865             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < b.SizeC; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03866}03866             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03867}03867                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} t = 0; t < b.sizeT; t++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03868}03868                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03869}03869                     Merge m = \textcolor{keyword}{new} Merge(b.Buffers[b.Coords[0, c, t]]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03870}03870                     Bitmap bm = \textcolor{keyword}{new} Bitmap(b.SizeX, b.SizeY, b.Buffers[0].PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03871}03871                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < b.sizeZ; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03872}03872                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03873}03873                         m.OverlayImage = bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03874}03874                         bm = m.Apply(b.Buffers[b.Coords[i, c, t]]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03875}03875                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03876}03876                     Bitmap bf = \textcolor{keyword}{new} Bitmap(b.file, bm, \textcolor{keyword}{new} ZCT(0, c, t), ind);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03877}03877                     bi.Buffers.Add(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03878}03878                     Statistics.CalcStatistics(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03879}03879                     ind++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03880}03880                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03881}03881             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03882}03882             Images.AddImage(bi, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03883}03883             bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(1, b.SizeC, b.SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03884}03884             bi.Coordinate = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03885}03885             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03886}03886             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03887}03887             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03888}03888                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03889}03889             \} \textcolor{keywordflow}{while} (bi.Buffers[bi.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03890}03890             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03891}03891             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(bi, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03892}03892             \textcolor{keywordflow}{if} (bi.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03893}03893                 bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03894}03894             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03895}03895                 bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03896}03896             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.MergeZ("{} + '"{}' + b.ID + '"{}' + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03897}03897             \textcolor{keywordflow}{return} bi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03898}03898         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03899}03899 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03910}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1185afc031247994022bc52e0d5f6834}{03910}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1185afc031247994022bc52e0d5f6834}{MergeT}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03911}03911         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03912}03912             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(b, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03913}03913             \textcolor{keywordtype}{int} ind = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03914}03914             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < b.SizeC; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03915}03915             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03916}03916                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z = 0; z < b.sizeZ; z++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03917}03917                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03918}03918                     Merge m = \textcolor{keyword}{new} Merge(b.Buffers[b.Coords[z, c, 0]]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03919}03919                     Bitmap bm = \textcolor{keyword}{new} Bitmap(b.SizeX, b.SizeY, b.Buffers[0].PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03920}03920                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < b.sizeT; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03921}03921                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03922}03922                         m.OverlayImage = bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03923}03923                         bm = m.Apply(b.Buffers[b.Coords[z, c, i]]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03924}03924                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03925}03925                     Bitmap bf = \textcolor{keyword}{new} Bitmap(b.file, bm, \textcolor{keyword}{new} ZCT(z, c, 0), ind);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03926}03926                     bi.Buffers.Add(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03927}03927                     Statistics.CalcStatistics(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03928}03928                     ind++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03929}03929                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03930}03930             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03931}03931             Images.AddImage(bi, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03932}03932             bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(1, b.SizeC, b.SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03933}03933             bi.Coordinate = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03934}03934             \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03935}03935             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03936}03936             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03937}03937                 Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03938}03938             \} \textcolor{keywordflow}{while} (bi.Buffers[bi.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03939}03939             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03940}03940             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(bi, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03941}03941             \textcolor{keywordflow}{if} (bi.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03942}03942                 bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03943}03943             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03944}03944                 bi.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03945}03945             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.MergeT("{} + '"{}' + b.ID + '"{}' + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03946}03946             \textcolor{keywordflow}{return} bi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03947}03947         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03948}03948 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03956}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a937c5e39b170b54a73a1a16012955a75}{03956}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a937c5e39b170b54a73a1a16012955a75}{SplitChannels}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03957}03957         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03958}03958             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bms;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03959}03959             \textcolor{keywordflow}{if} (isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03960}03960             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03961}03961                 bms = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03962}03962                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} ri = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(Path.GetFileNameWithoutExtension(ID) + \textcolor{stringliteral}{"{}-\/1"{}} + Path.GetExtension(ID));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03963}03963                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} gi = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(Path.GetFileNameWithoutExtension(ID) + \textcolor{stringliteral}{"{}-\/2"{}} + Path.GetExtension(ID));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03964}03964                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(Path.GetFileNameWithoutExtension(ID) + \textcolor{stringliteral}{"{}-\/3"{}} + Path.GetExtension(ID));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03965}03965 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03966}03966                 ri.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03967}03967                 gi.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03968}03968                 bi.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03969}03969                 ri.sizeZ = SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03970}03970                 gi.sizeZ = SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03971}03971                 bi.sizeZ = SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03972}03972                 ri.sizeT = SizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03973}03973                 gi.sizeT = SizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03974}03974                 bi.sizeT = SizeT;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03975}03975 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03976}03976                 ri.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[SizeZ, 1, SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03977}03977                 gi.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[SizeZ, 1, SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03978}03978                 bi.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[SizeZ, 1, SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03979}03979                 \textcolor{keywordtype}{int} ind = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03980}03980                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < ImageCount; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03981}03981                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03982}03982                     \textcolor{keywordflow}{if} (Buffers[i].PixelFormat == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03983}03983                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03984}03984                         \textcolor{comment}{//For 48bit images we need to use our own function as AForge won't give us a proper image.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03985}03985                         Bitmap[] bfs = Bitmap.RGB48To16(ID, SizeX, SizeY, Buffers[i].Stride, Buffers[i].Bytes, Buffers[i].Coordinate, ind, Buffers[i].Plane);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03986}03986                         ind += 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03987}03987                         ri.Buffers.Add(bfs[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03988}03988                         gi.Buffers.Add(bfs[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03989}03989                         bi.Buffers.Add(bfs[2]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03990}03990                         Statistics.CalcStatistics(bfs[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03991}03991                         Statistics.CalcStatistics(bfs[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03992}03992                         Statistics.CalcStatistics(bfs[2]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03993}03993                         ri.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03994}03994                         gi.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03995}03995                         bi.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03996}03996                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03997}03997                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03998}03998                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l03999}03999 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04000}04000                         Bitmap rImage = extractR.Apply(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04001}04001                         Bitmap rbf = \textcolor{keyword}{new} Bitmap(ri.ID, rImage, Buffers[i].Coordinate, ind++);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04002}04002                         Statistics.CalcStatistics(rbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04003}04003                         ri.Buffers.Add(rbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04004}04004                         ri.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04005}04005 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04006}04006                         Bitmap gImage = extractG.Apply(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04007}04007                         Bitmap gbf = \textcolor{keyword}{new} Bitmap(gi.ID, gImage, Buffers[i].Coordinate, ind++);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04008}04008                         Statistics.CalcStatistics(gbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04009}04009                         gi.Buffers.Add(gbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04010}04010                         gi.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04011}04011 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04012}04012                         Bitmap bImage = extractB.Apply(Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04013}04013                         \textcolor{comment}{//Clipboard.SetImage(bImage);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04014}04014                         Bitmap bbf = \textcolor{keyword}{new} Bitmap(bi.ID, bImage, Buffers[i].Coordinate, ind++);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04015}04015                         Statistics.CalcStatistics(bbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04016}04016                         bi.Buffers.Add(bbf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04017}04017                         bi.Coords[Buffers[i].Coordinate.Z, Buffers[i].Coordinate.C, Buffers[i].Coordinate.T] = i;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04018}04018 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04019}04019                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04020}04020                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04021}04021                 \textcolor{comment}{//We wait for threshold image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04022}04022                 \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04023}04023                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04024}04024                     Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04025}04025                 \} \textcolor{keywordflow}{while} (bi.Buffers[bi.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04026}04026 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04027}04027                 ri.Channels.Add(Channels[0].\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{Copy}}());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04028}04028                 gi.Channels.Add(Channels[0].\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{Copy}}());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04029}04029                 bi.Channels.Add(Channels[0].\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21eb4abf0bfa7bdd33da0ea405bf4479}{Copy}}());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04030}04030                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(ri, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04031}04031                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(gi, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04032}04032                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(bi, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04033}04033                 Images.AddImage(ri, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04034}04034                 Images.AddImage(gi, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04035}04035                 Images.AddImage(bi, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04036}04036                 Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04037}04037                 bms[0] = ri;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04038}04038                 bms[1] = gi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04039}04039                 bms[2] = bi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04040}04040             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04041}04041             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04042}04042             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04043}04043                 bms = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[SizeC];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04044}04044                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < SizeC; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04045}04045                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04046}04046                     \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7212327484af53ba88a87c0ae6f2dc7b}{Substack}}(\textcolor{keyword}{this}, 0, 0, SizeZ, c, c + 1, 0, SizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04047}04047                     bms[c] = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04048}04048                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04049}04049             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04050}04050 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04051}04051             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04052}04052             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.SplitChannels("{} + '"{}' + Filename + '"{}' + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04053}04053             \textcolor{keywordflow}{return} bms;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04054}04054         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04055}04055 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04066}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4b804f9bdabd385463a198818e7df6f1}{04066}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4b804f9bdabd385463a198818e7df6f1}{SplitChannels}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04067}04067         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04068}04068             \textcolor{keywordflow}{return} bb.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a937c5e39b170b54a73a1a16012955a75}{SplitChannels}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04069}04069         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04079}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab02f8f4228443c5dd98a51f21c06c823}{04079}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab02f8f4228443c5dd98a51f21c06c823}{SplitChannels}}(\textcolor{keywordtype}{string} name)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04080}04080         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04081}04081             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a937c5e39b170b54a73a1a16012955a75}{SplitChannels}}(Images.GetImage(name));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04082}04082         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04083}04083 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04084}04084         \textcolor{comment}{/* Creating a new instance of the LevelsLinear class. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04085}04085         \textcolor{keyword}{public} \textcolor{keyword}{static} LevelsLinear filter8 = \textcolor{keyword}{new} LevelsLinear();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04086}04086         \textcolor{keyword}{public} \textcolor{keyword}{static} LevelsLinear16bpp filter16 = \textcolor{keyword}{new} LevelsLinear16bpp();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04087}04087         \textcolor{keyword}{private} \textcolor{keyword}{static} ExtractChannel extractR = \textcolor{keyword}{new} ExtractChannel(AForge.Imaging.RGB.R);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04088}04088         \textcolor{keyword}{private} \textcolor{keyword}{static} ExtractChannel extractG = \textcolor{keyword}{new} ExtractChannel(AForge.Imaging.RGB.G);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04089}04089         \textcolor{keyword}{private} \textcolor{keyword}{static} ExtractChannel extractB = \textcolor{keyword}{new} ExtractChannel(AForge.Imaging.RGB.B);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04090}04090 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04091}04091 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04104}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa5f011ffa9683aaa1d88dce84010382a}{04104}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa5f011ffa9683aaa1d88dce84010382a}{GetImageByCoord}}(\textcolor{keywordtype}{int} z, \textcolor{keywordtype}{int} c, \textcolor{keywordtype}{int} t)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04105}04105         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04106}04106             \textcolor{keywordflow}{return} Buffers[Coords[z, c, t]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04107}04107         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04108}04108 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04121}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae429842b2086fa562ed54f7e11a5015c}{04121}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae429842b2086fa562ed54f7e11a5015c}{GetBitmap}}(\textcolor{keywordtype}{int} z, \textcolor{keywordtype}{int} c, \textcolor{keywordtype}{int} t)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04122}04122         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04123}04123             \textcolor{keywordflow}{return} Buffers[Coords[z, c, t]];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04124}04124         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04125}04125 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04136}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7d43a4955b9f9f8b7f1864eb509fcddb}{04136}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7d43a4955b9f9f8b7f1864eb509fcddb}{GetIndex}}(\textcolor{keywordtype}{int} ix, \textcolor{keywordtype}{int} iy)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04137}04137         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04138}04138             \textcolor{keywordflow}{if} (ix > SizeX || iy > SizeY || ix < 0 || iy < 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04139}04139                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04140}04140             \textcolor{keywordtype}{int} stridex = SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04141}04141             \textcolor{keywordtype}{int} x = ix;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04142}04142             \textcolor{keywordtype}{int} y = iy;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04143}04143             \textcolor{keywordflow}{if} (bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04144}04144             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04145}04145                 \textcolor{keywordflow}{return} (y * stridex + x) * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04146}04146             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04147}04147             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04148}04148             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04149}04149                 \textcolor{keywordflow}{return} (y * stridex + x);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04150}04150             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04151}04151         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04167}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae5d0c1a3935684e1caee1bdd5f371c8e}{04167}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae5d0c1a3935684e1caee1bdd5f371c8e}{GetIndexRGB}}(\textcolor{keywordtype}{int} ix, \textcolor{keywordtype}{int} iy, \textcolor{keywordtype}{int} index)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04168}04168         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04169}04169             \textcolor{keywordtype}{int} stridex = SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04170}04170             \textcolor{comment}{//For 16bit (2*8bit) images we multiply buffer index by 2}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04171}04171             \textcolor{keywordtype}{int} x = ix;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04172}04172             \textcolor{keywordtype}{int} y = iy;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04173}04173             \textcolor{keywordflow}{if} (bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04174}04174             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04175}04175                 \textcolor{keywordflow}{return} (y * stridex + x) * 2 * index;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04176}04176             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04177}04177             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04178}04178             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04179}04179                 \textcolor{keywordflow}{return} (y * stridex + x) * index;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04180}04180             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04181}04181         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04182}04182 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04192}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_afebe6f4818c94896e68622ffc985d01e}{04192}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afebe6f4818c94896e68622ffc985d01e}{GetValue}}(ZCTXY coord)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04193}04193         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04194}04194             \textcolor{keywordflow}{if} (coord.X < 0 || coord.Y < 0 || coord.X > SizeX || coord.Y > SizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04195}04195             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04196}04196                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04197}04197             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04198}04198             \textcolor{keywordflow}{if} (isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04199}04199             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04200}04200                 \textcolor{keywordflow}{if} (coord.C == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04201}04201                     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(coord, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04202}04202                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (coord.C == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04203}04203                     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(coord, 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04204}04204                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (coord.C == 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04205}04205                     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(coord, 2);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04206}04206             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04207}04207             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04208}04208                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(coord, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04209}04209             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04210}04210         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04211}04211 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04225}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{04225}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(ZCTXY coord, \textcolor{keywordtype}{int} index)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04226}04226         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04227}04227             \textcolor{keywordtype}{int} ind = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04228}04228             \textcolor{keywordflow}{if} (coord.C >= SizeC)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04229}04229             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04230}04230                 coord.C = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04231}04231             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04232}04232             ind = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04233}04233             ColorS c = Buffers[ind].GetPixel(coord.X, coord.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04234}04234             \textcolor{keywordflow}{if} (index == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04235}04235                 \textcolor{keywordflow}{return} c.R;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04236}04236             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04237}04237             \textcolor{keywordflow}{if} (index == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04238}04238                 \textcolor{keywordflow}{return} c.G;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04239}04239             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04240}04240             \textcolor{keywordflow}{if} (index == 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04241}04241                 \textcolor{keywordflow}{return} c.B;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04242}04242             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} IndexOutOfRangeException();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04243}04243         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04244}04244 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04259}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a95dce270d5d63f09d9136daa46dc42c6}{04259}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a95dce270d5d63f09d9136daa46dc42c6}{GetValue}}(ZCT coord, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04260}04260         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04261}04261             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(\textcolor{keyword}{new} ZCTXY(coord.Z, coord.C, coord.T, x, y), 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04262}04262         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04263}04263 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04278}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0eaa6ed4817bb5f9a6e0e2e930008c97}{04278}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0eaa6ed4817bb5f9a6e0e2e930008c97}{GetValue}}(\textcolor{keywordtype}{int} z, \textcolor{keywordtype}{int} c, \textcolor{keywordtype}{int} t, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04279}04279         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04280}04280             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afebe6f4818c94896e68622ffc985d01e}{GetValue}}(\textcolor{keyword}{new} ZCTXY(z, c, t, x, y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04281}04281         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04282}04282 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04299}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc5a4f7b413d0ca4977d5a61a12fcbb0}{04299}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc5a4f7b413d0ca4977d5a61a12fcbb0}{GetValueRGB}}(ZCT coord, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} RGBindex)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04300}04300         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04301}04301             ZCTXY c = \textcolor{keyword}{new} ZCTXY(coord.Z, coord.C, coord.T, x, y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04302}04302             \textcolor{keywordflow}{if} (isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04303}04303             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04304}04304                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(c, RGBindex);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04305}04305             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04306}04306             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04307}04307                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afebe6f4818c94896e68622ffc985d01e}{GetValue}}(coord, x, y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04308}04308         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04330}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_abfcff36a59230c73730d7a44d165fbd8}{04330}}         \textcolor{keyword}{public} ushort \mbox{\hyperlink{class_bio_lib_1_1_bio_image_abfcff36a59230c73730d7a44d165fbd8}{GetValueRGB}}(\textcolor{keywordtype}{int} z, \textcolor{keywordtype}{int} c, \textcolor{keywordtype}{int} t, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} RGBindex)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04331}04331         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04332}04332             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1ba63c4562ed8df9091f8de2b5111b48}{GetValueRGB}}(\textcolor{keyword}{new} ZCT(z, c, t), x, y, RGBindex);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04333}04333         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04334}04334 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04342}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aeaaf33e144132783510a46a936435afc}{04342}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aeaaf33e144132783510a46a936435afc}{SetValue}}(ZCTXY coord, ushort value)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04343}04343         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04344}04344             \textcolor{keywordtype}{int} i = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04345}04345             Buffers[i].SetValue(coord.X, coord.Y, value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04346}04346         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04359}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a45fc83d26405ce652d59090ce98bdc99}{04359}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a45fc83d26405ce652d59090ce98bdc99}{SetValue}}(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} ind, ushort value)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04360}04360         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04361}04361             Buffers[ind].SetValue(x, y, value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04362}04362         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04363}04363 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04377}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a8423ff32b2dee856c909d11acd623087}{04377}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a8423ff32b2dee856c909d11acd623087}{SetValue}}(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, ZCT coord, ushort value)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04378}04378         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04379}04379             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aeaaf33e144132783510a46a936435afc}{SetValue}}(x, y, Coords[coord.Z, coord.C, coord.T], value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04380}04380         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04381}04381 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04393}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab9d23fdd7fbd4a962b386878ec085b6d}{04393}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab9d23fdd7fbd4a962b386878ec085b6d}{SetValueRGB}}(ZCTXY coord, \textcolor{keywordtype}{int} RGBindex, ushort value)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04394}04394         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04395}04395             \textcolor{keywordtype}{int} ind = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04396}04396             Buffers[ind].SetValueRGB(coord.X, coord.Y, RGBindex, value);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04397}04397         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04398}04398 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04407}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae38ef9a9dbc9388e46b364502ad9b52a}{04407}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae38ef9a9dbc9388e46b364502ad9b52a}{GetBitmap}}(ZCT coord)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04408}04408         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04409}04409             \textcolor{keywordflow}{return} (Bitmap)\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa5f011ffa9683aaa1d88dce84010382a}{GetImageByCoord}}(coord.Z, coord.C, coord.T);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04410}04410         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04411}04411 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04431}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88de4f8cd75fa175ccc3dea96359fb6}{04431}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88de4f8cd75fa175ccc3dea96359fb6}{GetFiltered}}(ZCT coord, IntRange r, IntRange g, IntRange b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04432}04432         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04433}04433             \textcolor{keywordtype}{int} index = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04434}04434             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ab88de4f8cd75fa175ccc3dea96359fb6}{GetFiltered}}(index, r, g, b);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04435}04435         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04436}04436 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04458}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_afc2f9ae374a0bbff5aedd6aae98effea}{04458}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afc2f9ae374a0bbff5aedd6aae98effea}{GetFiltered}}(\textcolor{keywordtype}{int} ind, IntRange r, IntRange g, IntRange b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04459}04459         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04460}04460             \textcolor{keywordflow}{if} (Buffers[ind].BitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04461}04461             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04462}04462                 BioImage.filter16.InRed = r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04463}04463                 BioImage.filter16.InGreen = g;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04464}04464                 BioImage.filter16.InBlue = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04465}04465                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.filter16.Apply(Buffers[ind]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04466}04466             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04467}04467             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04468}04468             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04469}04469                 \textcolor{comment}{// set ranges}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04470}04470                 BioImage.filter8.InRed = r;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04471}04471                 BioImage.filter8.InGreen = g;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04472}04472                 BioImage.filter8.InBlue = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04473}04473                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.filter8.Apply(Buffers[ind]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04474}04474             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04475}04475         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04476}04476 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04489}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7a7ce8f73f4ce13c1e668fb15fdcbdb3}{04489}}         \textcolor{keyword}{public} UnmanagedImage \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7a7ce8f73f4ce13c1e668fb15fdcbdb3}{GetChannelImage}}(\textcolor{keywordtype}{int} ind, \textcolor{keywordtype}{short} s)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04490}04490         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04491}04491             Bitmap bf = Buffers[ind];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04492}04492             \textcolor{keywordflow}{if} (bf.isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04493}04493             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04494}04494                 \textcolor{keywordflow}{if} (s == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04495}04495                     \textcolor{keywordflow}{return} extractR.Apply(Buffers[ind].Image);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04496}04496                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04497}04497                 \textcolor{keywordflow}{if} (s == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04498}04498                     \textcolor{keywordflow}{return} extractG.Apply(Buffers[ind].Image);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04499}04499                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04500}04500                     \textcolor{keywordflow}{return} extractB.Apply(Buffers[ind].Image);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04501}04501             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04502}04502             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04503}04503                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} InvalidOperationException();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04504}04504         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04505}04505 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04528}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2fa0e69cf9c22f1e738255c14ba333b4}{04528}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2fa0e69cf9c22f1e738255c14ba333b4}{GetEmission}}(ZCT coord, IntRange rf, IntRange gf, IntRange bf)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04529}04529         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04530}04530             \textcolor{keywordflow}{if} (RGBChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04531}04531             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04532}04532                 Bitmap[] bs = \textcolor{keyword}{new} Bitmap[Channels.Count];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04533}04533                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04534}04534                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04535}04535                     \textcolor{keywordtype}{int} index = Coords[coord.Z, c, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04536}04536                     bs[c] = Buffers[index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04537}04537                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04538}04538                 Bitmap bm = (Bitmap)Bitmap.GetEmissionBitmap(bs, Channels.ToArray());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04539}04539                 \textcolor{keywordflow}{return} bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04540}04540             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04541}04541             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04542}04542             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04543}04543                 \textcolor{keywordtype}{int} index = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04544}04544                 \textcolor{keywordflow}{return} Buffers[index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04545}04545             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04546}04546         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04547}04547 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04570}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3d54353f96e0f604e1d33934eb4b45e8}{04570}}         \textcolor{keyword}{public} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3d54353f96e0f604e1d33934eb4b45e8}{GetRGBBitmap}}(ZCT coord, IntRange rf, IntRange gf, IntRange bf)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04571}04571         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04572}04572             \textcolor{keywordtype}{int} index = Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04573}04573             \textcolor{keywordflow}{if} (Buffers[0].RGBChannelsCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04574}04574             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04575}04575                 \textcolor{keywordflow}{if} (Channels.Count >= 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04576}04576                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04577}04577                     Bitmap[] bs = \textcolor{keyword}{new} Bitmap[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04578}04578                     bs[2] = Buffers[index + RChannel.Index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04579}04579                     bs[1] = Buffers[index + GChannel.Index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04580}04580                     bs[0] = Buffers[index + BChannel.Index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04581}04581                     \textcolor{keywordflow}{return} Bitmap.GetRGBBitmap(bs, rf, gf, bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04582}04582                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04583}04583                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04584}04584                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04585}04585                     Bitmap[] bs = \textcolor{keyword}{new} Bitmap[3];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04586}04586                     bs[2] = Buffers[index + RChannel.Index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04587}04587                     bs[1] = Buffers[index + RChannel.Index + 1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04588}04588                     bs[0] = Buffers[index + RChannel.Index + 2];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04589}04589                     \textcolor{keywordflow}{return} Bitmap.GetRGBBitmap(bs, rf, gf, bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04590}04590                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04591}04591             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04592}04592             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04593}04593                 \textcolor{keywordflow}{return} Buffers[index];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04594}04594         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04595}04595 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04611}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6c9e8c51dc7be4ec6e04810f83e154d6}{04611}}         \textcolor{keyword}{public} \textcolor{keyword}{static} unsafe Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6c9e8c51dc7be4ec6e04810f83e154d6}{GetBitmapRGB}}(\textcolor{keywordtype}{int} w, \textcolor{keywordtype}{int} h, PixelFormat px, \textcolor{keywordtype}{byte}[] bts)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04612}04612         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04613}04613             \textcolor{keywordflow}{if} (px == PixelFormat.Format32bppArgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04614}04614             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04615}04615                 \textcolor{comment}{//opening a 8 bit per pixel jpg image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04616}04616                 Bitmap bmp = \textcolor{keyword}{new} Bitmap(w, h, PixelFormat.Format32bppArgb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04617}04617                 \textcolor{comment}{//creating the bitmapdata and lock bits}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04618}04618                 AForge.Rectangle rec = \textcolor{keyword}{new} AForge.Rectangle(0, 0, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04619}04619                 BitmapData bmd = bmp.LockBits(rec, ImageLockMode.ReadWrite, bmp.PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04620}04620                 \textcolor{comment}{//iterating through all the pixels in y direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04621}04621                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < h; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04622}04622                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04623}04623                     \textcolor{comment}{//getting the pixels of current row}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04624}04624                     \textcolor{keywordtype}{byte}* row = (\textcolor{keywordtype}{byte}*)bmd.Scan0 + (y * bmd.Stride);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04625}04625                     \textcolor{keywordtype}{int} rowRGB = y * w * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04626}04626                     \textcolor{comment}{//iterating through all the pixels in x direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04627}04627                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < w; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04628}04628                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04629}04629                         \textcolor{keywordtype}{int} indexRGB = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04630}04630                         \textcolor{keywordtype}{int} indexRGBA = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04631}04631                         row[indexRGBA + 3] = bts[rowRGB + indexRGB + 3];\textcolor{comment}{//byte A}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04632}04632                         row[indexRGBA + 2] = bts[rowRGB + indexRGB + 2];\textcolor{comment}{//byte R}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04633}04633                         row[indexRGBA + 1] = bts[rowRGB + indexRGB + 1];\textcolor{comment}{//byte G}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04634}04634                         row[indexRGBA] = bts[rowRGB + indexRGB];\textcolor{comment}{//byte B}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04635}04635                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04636}04636                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04637}04637                 \textcolor{comment}{//unlocking bits and disposing image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04638}04638                 bmp.UnlockBits(bmd);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04639}04639                 \textcolor{keywordflow}{return} bmp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04640}04640             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04641}04641             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (px == PixelFormat.Format24bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04642}04642             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04643}04643                 \textcolor{comment}{//opening a 8 bit per pixel jpg image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04644}04644                 Bitmap bmp = \textcolor{keyword}{new} Bitmap(w, h, PixelFormat.Format32bppArgb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04645}04645                 \textcolor{comment}{//creating the bitmapdata and lock bits}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04646}04646                 AForge.Rectangle rec = \textcolor{keyword}{new} AForge.Rectangle(0, 0, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04647}04647                 BitmapData bmd = bmp.LockBits(rec, ImageLockMode.ReadWrite, bmp.PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04648}04648                 \textcolor{comment}{//iterating through all the pixels in y direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04649}04649                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < h; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04650}04650                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04651}04651                     \textcolor{comment}{//getting the pixels of current row}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04652}04652                     \textcolor{keywordtype}{byte}* row = (\textcolor{keywordtype}{byte}*)bmd.Scan0 + (y * bmd.Stride);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04653}04653                     \textcolor{keywordtype}{int} rowRGB = y * w * 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04654}04654                     \textcolor{comment}{//iterating through all the pixels in x direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04655}04655                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < w; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04656}04656                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04657}04657                         \textcolor{keywordtype}{int} indexRGB = x * 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04658}04658                         \textcolor{keywordtype}{int} indexRGBA = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04659}04659                         row[indexRGBA + 3] = \textcolor{keywordtype}{byte}.MaxValue;\textcolor{comment}{//byte A}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04660}04660                         row[indexRGBA + 2] = bts[rowRGB + indexRGB + 2];\textcolor{comment}{//byte R}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04661}04661                         row[indexRGBA + 1] = bts[rowRGB + indexRGB + 1];\textcolor{comment}{//byte G}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04662}04662                         row[indexRGBA] = bts[rowRGB + indexRGB];\textcolor{comment}{//byte B}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04663}04663                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04664}04664                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04665}04665                 \textcolor{comment}{//unlocking bits and disposing image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04666}04666                 bmp.UnlockBits(bmd);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04667}04667                 \textcolor{keywordflow}{return} bmp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04668}04668             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04669}04669             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04670}04670             \textcolor{keywordflow}{if} (px == PixelFormat.Format48bppRgb)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04671}04671             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04672}04672                 \textcolor{comment}{//opening a 8 bit per pixel jpg image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04673}04673                 Bitmap bmp = \textcolor{keyword}{new} Bitmap(w, h, PixelFormat.Format32bppArgb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04674}04674                 \textcolor{comment}{//creating the bitmapdata and lock bits}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04675}04675                 AForge.Rectangle rec = \textcolor{keyword}{new} AForge.Rectangle(0, 0, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04676}04676                 BitmapData bmd = bmp.LockBits(rec, ImageLockMode.ReadWrite, bmp.PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04677}04677                 unsafe}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04678}04678                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04679}04679                     \textcolor{comment}{//iterating through all the pixels in y direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04680}04680                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < h; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04681}04681                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04682}04682                         \textcolor{comment}{//getting the pixels of current row}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04683}04683                         \textcolor{keywordtype}{byte}* row = (\textcolor{keywordtype}{byte}*)bmd.Scan0 + (y * bmd.Stride);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04684}04684                         \textcolor{keywordtype}{int} rowRGB = y * w * 6;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04685}04685                         \textcolor{comment}{//iterating through all the pixels in x direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04686}04686                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < w; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04687}04687                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04688}04688                             \textcolor{keywordtype}{int} indexRGB = x * 6;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04689}04689                             \textcolor{keywordtype}{int} indexRGBA = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04690}04690                             \textcolor{keywordtype}{int} b = (int)((\textcolor{keywordtype}{float})BitConverter.ToUInt16(bts, rowRGB + indexRGB) / 255);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04691}04691                             \textcolor{keywordtype}{int} g = (int)((\textcolor{keywordtype}{float})BitConverter.ToUInt16(bts, rowRGB + indexRGB + 2) / 255);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04692}04692                             \textcolor{keywordtype}{int} r = (int)((\textcolor{keywordtype}{float})BitConverter.ToUInt16(bts, rowRGB + indexRGB + 4) / 255);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04693}04693                             row[indexRGBA + 3] = 255;\textcolor{comment}{//byte A}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04694}04694                             row[indexRGBA + 2] = (byte)(b);\textcolor{comment}{//byte R}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04695}04695                             row[indexRGBA + 1] = (byte)(g);\textcolor{comment}{//byte G}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04696}04696                             row[indexRGBA] = (byte)(r);\textcolor{comment}{//byte B}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04697}04697                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04698}04698                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04699}04699                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04700}04700                 bmp.UnlockBits(bmd);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04701}04701                 \textcolor{keywordflow}{return} bmp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04702}04702             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04703}04703             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04704}04704             \textcolor{keywordflow}{if} (px == PixelFormat.Format8bppIndexed)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04705}04705             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04706}04706                 \textcolor{comment}{//opening a 8 bit per pixel jpg image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04707}04707                 Bitmap bmp = \textcolor{keyword}{new} Bitmap(w, h, PixelFormat.Format32bppArgb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04708}04708                 \textcolor{comment}{//creating the bitmapdata and lock bits}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04709}04709                 AForge.Rectangle rec = \textcolor{keyword}{new} AForge.Rectangle(0, 0, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04710}04710                 BitmapData bmd = bmp.LockBits(rec, ImageLockMode.ReadWrite, bmp.PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04711}04711                 unsafe}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04712}04712                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04713}04713                     \textcolor{comment}{//iterating through all the pixels in y direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04714}04714                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < h; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04715}04715                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04716}04716                         \textcolor{comment}{//getting the pixels of current row}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04717}04717                         \textcolor{keywordtype}{byte}* row = (\textcolor{keywordtype}{byte}*)bmd.Scan0 + (y * bmd.Stride);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04718}04718                         \textcolor{keywordtype}{int} rowRGB = y * w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04719}04719                         \textcolor{comment}{//iterating through all the pixels in x direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04720}04720                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < w; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04721}04721                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04722}04722                             \textcolor{keywordtype}{int} indexRGB = x;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04723}04723                             \textcolor{keywordtype}{int} indexRGBA = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04724}04724                             \textcolor{keywordtype}{byte} b = bts[rowRGB + indexRGB];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04725}04725                             row[indexRGBA + 3] = 255;\textcolor{comment}{//byte A}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04726}04726                             row[indexRGBA + 2] = (byte)(b);\textcolor{comment}{//byte R}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04727}04727                             row[indexRGBA + 1] = (byte)(b);\textcolor{comment}{//byte G}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04728}04728                             row[indexRGBA] = (byte)(b);\textcolor{comment}{//byte B}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04729}04729                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04730}04730                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04731}04731                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04732}04732                 bmp.UnlockBits(bmd);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04733}04733                 \textcolor{keywordflow}{return} bmp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04734}04734             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04735}04735             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04736}04736             \textcolor{keywordflow}{if} (px == PixelFormat.Format16bppGrayScale)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04737}04737             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04738}04738                 \textcolor{comment}{//opening a 8 bit per pixel jpg image}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04739}04739                 Bitmap bmp = \textcolor{keyword}{new} Bitmap(w, h, PixelFormat.Format32bppArgb);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04740}04740                 \textcolor{comment}{//creating the bitmapdata and lock bits}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04741}04741                 AForge.Rectangle rec = \textcolor{keyword}{new} AForge.Rectangle(0, 0, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04742}04742                 BitmapData bmd = bmp.LockBits(rec, ImageLockMode.ReadWrite, bmp.PixelFormat);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04743}04743                 unsafe}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04744}04744                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04745}04745                     \textcolor{comment}{//iterating through all the pixels in y direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04746}04746                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < h; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04747}04747                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04748}04748                         \textcolor{comment}{//getting the pixels of current row}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04749}04749                         \textcolor{keywordtype}{byte}* row = (\textcolor{keywordtype}{byte}*)bmd.Scan0 + (y * bmd.Stride);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04750}04750                         \textcolor{keywordtype}{int} rowRGB = y * w * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04751}04751                         \textcolor{comment}{//iterating through all the pixels in x direction}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04752}04752                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < w; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04753}04753                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04754}04754                             \textcolor{keywordtype}{int} indexRGB = x * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04755}04755                             \textcolor{keywordtype}{int} indexRGBA = x * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04756}04756                             ushort b = (ushort)((\textcolor{keywordtype}{float})BitConverter.ToUInt16(bts, rowRGB + indexRGB) / 255);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04757}04757                             row[indexRGBA + 3] = 255;\textcolor{comment}{//byte A}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04758}04758                             row[indexRGBA + 2] = (byte)(b);\textcolor{comment}{//byte R}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04759}04759                             row[indexRGBA + 1] = (byte)(b);\textcolor{comment}{//byte G}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04760}04760                             row[indexRGBA] = (byte)(b);\textcolor{comment}{//byte B}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04761}04761                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04762}04762                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04763}04763                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04764}04764                 bmp.UnlockBits(bmd);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04765}04765                 \textcolor{keywordflow}{return} bmp;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04766}04766             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04767}04767 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04768}04768             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException(\textcolor{stringliteral}{"{}Pixelformat "{}} + px + \textcolor{stringliteral}{"{} is not supported."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04769}04769         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04770}04770         \textcolor{keyword}{public} \textcolor{keyword}{static} Stopwatch swatch = \textcolor{keyword}{new} Stopwatch();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04771}04771 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04781}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3fb23646bc87d986149dabc74b6425b0}{04781}}         \textcolor{keyword}{public} List<ROI> \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3fb23646bc87d986149dabc74b6425b0}{GetAnnotations}}(ZCT coord)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04782}04782         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04783}04783             List<ROI> annotations = \textcolor{keyword}{new} List<ROI>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04784}04784             \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04785}04785             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04786}04786                 \textcolor{keywordflow}{if} (an == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04787}04787                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04788}04788                 \textcolor{keywordflow}{if} (an.coord == coord)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04789}04789                     annotations.Add(an);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04790}04790             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04791}04791             \textcolor{keywordflow}{return} annotations;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04792}04792         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04793}04793 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04807}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a37d4b8083350e784f006792303ad6ecb}{04807}}         \textcolor{keyword}{public} List<ROI> \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a37d4b8083350e784f006792303ad6ecb}{GetAnnotations}}(\textcolor{keywordtype}{int} Z, \textcolor{keywordtype}{int} C, \textcolor{keywordtype}{int} T)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04808}04808         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04809}04809             List<ROI> annotations = \textcolor{keyword}{new} List<ROI>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04810}04810             \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04811}04811             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04812}04812                 \textcolor{keywordflow}{if} (an.coord.Z == Z \&\& an.coord.Z == Z \&\& an.coord.C == C \&\& an.coord.T == T)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04813}04813                     annotations.Add(an);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04814}04814             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04815}04815             \textcolor{keywordflow}{return} annotations;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04816}04816         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04817}04817 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04818}04818         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} Loading = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04819}04819 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04828}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa160c131d64388b94a05cd8ed76eb00f}{04828}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa160c131d64388b94a05cd8ed76eb00f}{Initialize}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04829}04829         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04830}04830             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04831}04831                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04832}04832             \textcolor{comment}{//We initialize OME on a seperate thread so the user doesn't have to wait for initialization to}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04833}04833             \textcolor{comment}{//view images. }}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04834}04834             System.Threading.Thread t = \textcolor{keyword}{new} System.Threading.Thread(\textcolor{keyword}{new} System.Threading.ThreadStart(InitOME));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04835}04835             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04836}04836         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04841}04841         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} InitOME()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04842}04842         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04843}04843             factory = \textcolor{keyword}{new} ServiceFactory();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04844}04844             service = (OMEXMLService)factory.getInstance(typeof(OMEXMLService));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04845}04845             reader = \textcolor{keyword}{new} ImageReader();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04846}04846             writer = \textcolor{keyword}{new} ImageWriter();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04847}04847             initialized = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04848}04848         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04849}04849 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04857}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a17a9dfbe050b1f6b8ea90e48d62bff0c}{04857}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a17a9dfbe050b1f6b8ea90e48d62bff0c}{SaveFile}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04858}04858         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04859}04859             \textcolor{keywordtype}{string}[] sts = \textcolor{keyword}{new} \textcolor{keywordtype}{string}[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04860}04860             sts[0] = ID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04861}04861             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21bb8b9f3f4aa841e12af097d0f47b0a}{SaveSeries}}(sts, file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04862}04862         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04863}04863 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04872}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21bb8b9f3f4aa841e12af097d0f47b0a}{04872}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a21bb8b9f3f4aa841e12af097d0f47b0a}{SaveSeries}}(\textcolor{keywordtype}{string}[] IDs, \textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04873}04873         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04874}04874             \textcolor{keywordtype}{string} desc = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04875}04875             \textcolor{keywordtype}{int} stride = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04876}04876             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}} j = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04877}04877             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bi = Images.GetImage(IDs[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04878}04878             j.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_aaea5eb8a8f0d2936a957279ac02d8fa2}{FromImage}}(bi);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04879}04879             desc = j.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a769699da2cfbb75de65253396682fc02}{GetString}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04880}04880             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} fi = 0; fi < IDs.Length; fi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04881}04881             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04882}04882                 \textcolor{keywordtype}{string} \textcolor{keywordtype}{id} = IDs[fi];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04883}04883                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04884}04884                 \textcolor{keywordtype}{string} fn = Path.GetFileNameWithoutExtension(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04885}04885                 \textcolor{keywordtype}{string} dir = Path.GetDirectoryName(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04886}04886                 stride = b.Buffers[0].Stride;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04887}04887 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04888}04888                 \textcolor{comment}{//Save ROIs to CSV file.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04889}04889                 \textcolor{keywordflow}{if} (b.Annotations.Count > 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04890}04890                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04891}04891                     \textcolor{keywordtype}{string} f = dir + \textcolor{stringliteral}{"{}//"{}} + fn + \textcolor{stringliteral}{"{}.csv"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04892}04892                     \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3630ab9b3a2e82e6d733b122d8035c89}{ExportROIsCSV}}(f, b.Annotations);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04893}04893                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04894}04894 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04895}04895                 \textcolor{comment}{//Embed ROI's to image description.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04896}04896                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < b.Annotations.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04897}04897                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04898}04898                     desc += \textcolor{stringliteral}{"{}-\/ROI:"{}} + b.series + \textcolor{stringliteral}{"{}:"{}} + \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1bd82ed44eb2ee1b78b02f1f1a97102b}{ROIToString}}(b.Annotations[i]) + NewLine;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04899}04899                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04900}04900                 \textcolor{keywordflow}{foreach} (Channel c \textcolor{keywordflow}{in} b.Channels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04901}04901                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04902}04902                     \textcolor{keywordtype}{string} cj = JsonConvert.SerializeObject(c.info, Formatting.None);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04903}04903                     desc += \textcolor{stringliteral}{"{}-\/Channel:"{}} + fi + \textcolor{stringliteral}{"{}:"{}} + cj + NewLine;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04904}04904                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04905}04905                 \textcolor{keywordtype}{string} json = JsonConvert.SerializeObject(b.imageInfo, Formatting.None);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04906}04906                 desc += \textcolor{stringliteral}{"{}-\/ImageInfo:"{}} + fi + \textcolor{stringliteral}{"{}:"{}} + json + NewLine;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04907}04907             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04908}04908 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04909}04909             Tiff image = Tiff.Open(file, \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04910}04910             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} fi = 0; fi < IDs.Length; fi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04911}04911             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04912}04912                 \textcolor{keywordtype}{int} im = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04913}04913                 \textcolor{keywordtype}{string} \textcolor{keywordtype}{id} = IDs[fi];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04914}04914                 \textcolor{comment}{//Progress pr = new //Progress(file, "{}Saving"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04915}04915                 \textcolor{comment}{//pr.Show();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04916}04916                 \textcolor{comment}{//Application.DoEvents();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04917}04917                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = Images.GetImage(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04918}04918                 \textcolor{keywordtype}{int} sizec = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04919}04919                 \textcolor{keywordflow}{if} (!b.isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04920}04920                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04921}04921                     sizec = b.SizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04922}04922                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04923}04923                 \textcolor{keywordtype}{byte}[] buffer;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04924}04924                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < sizec; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04925}04925                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04926}04926                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z = 0; z < b.SizeZ; z++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04927}04927                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04928}04928                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} t = 0; t < b.SizeT; t++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04929}04929                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04930}04930                             image.SetDirectory((\textcolor{keywordtype}{short})(im + (b.Buffers.Count * fi)));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04931}04931                             image.SetField(TiffTag.IMAGEWIDTH, b.SizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04932}04932                             image.SetField(TiffTag.IMAGEDESCRIPTION, desc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04933}04933                             image.SetField(TiffTag.IMAGELENGTH, b.SizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04934}04934                             image.SetField(TiffTag.BITSPERSAMPLE, b.bitsPerPixel);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04935}04935                             image.SetField(TiffTag.SAMPLESPERPIXEL, b.RGBChannelCount);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04936}04936                             image.SetField(TiffTag.ROWSPERSTRIP, b.SizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04937}04937                             image.SetField(TiffTag.ORIENTATION, BitMiracle.LibTiff.Classic.Orientation.TOPLEFT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04938}04938                             image.SetField(TiffTag.PLANARCONFIG, PlanarConfig.CONTIG);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04939}04939                             image.SetField(TiffTag.PHOTOMETRIC, Photometric.MINISBLACK);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04940}04940                             image.SetField(TiffTag.ROWSPERSTRIP, image.DefaultStripSize(0));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04941}04941                             \textcolor{keywordflow}{if} (b.PhysicalSizeX != -\/1 \&\& b.PhysicalSizeY != -\/1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04942}04942                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04943}04943                                 image.SetField(TiffTag.XRESOLUTION, (b.PhysicalSizeX * b.SizeX) / ((b.PhysicalSizeX * b.SizeX) * b.PhysicalSizeX));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04944}04944                                 image.SetField(TiffTag.YRESOLUTION, (b.PhysicalSizeY * b.SizeY) / ((b.PhysicalSizeY * b.SizeY) * b.PhysicalSizeY));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04945}04945                                 image.SetField(TiffTag.RESOLUTIONUNIT, ResUnit.NONE);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04946}04946                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04947}04947                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04948}04948                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04949}04949                                 image.SetField(TiffTag.XRESOLUTION, 100.0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04950}04950                                 image.SetField(TiffTag.YRESOLUTION, 100.0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04951}04951                                 image.SetField(TiffTag.RESOLUTIONUNIT, ResUnit.INCH);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04952}04952                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04953}04953                             \textcolor{comment}{// specify that it's a page within the multipage file}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04954}04954                             image.SetField(TiffTag.SUBFILETYPE, FileType.PAGE);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04955}04955                             \textcolor{comment}{// specify the page number}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04956}04956                             buffer = b.Buffers[im].GetSaveBytes(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04957}04957                             image.SetField(TiffTag.PAGENUMBER, im + (b.Buffers.Count * fi), b.Buffers.Count * IDs.Length);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04958}04958                             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0, offset = 0; i < b.SizeY; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04959}04959                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04960}04960                                 image.WriteScanline(buffer, offset, i, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04961}04961                                 offset += stride;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04962}04962                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04963}04963                             image.WriteDirectory();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04964}04964                             \textcolor{comment}{//pr.Update//ProgressF((float)im / (float)b.ImageCount);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04965}04965                             \textcolor{comment}{//Application.DoEvents();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04966}04966                             im++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04967}04967                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04968}04968                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04969}04969                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04970}04970                 \textcolor{comment}{//pr.Close();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04971}04971             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04972}04972             image.Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04973}04973 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04974}04974         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04975}04975 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04989}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad712ae2f18b8e4d66bfe801238f29f61}{04989}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad712ae2f18b8e4d66bfe801238f29f61}{OpenSeries}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{bool} tab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04990}04990         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04991}04991             Tiff image = Tiff.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5f6e92d0fe21b2c7882d13646f0e5db}{Open}}(file, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04992}04992             \textcolor{keywordtype}{int} pages = image.NumberOfDirectories();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04993}04993             FieldValue[] f = image.GetField(TiffTag.IMAGEDESCRIPTION);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04994}04994             \textcolor{keywordtype}{int} sp = image.GetField(TiffTag.SAMPLESPERPIXEL)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04995}04995             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}} imDesc = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04996}04996             \textcolor{keywordtype}{int} count = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04997}04997             \textcolor{keywordflow}{if} (f != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04998}04998             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l04999}04999                 \textcolor{keywordtype}{string} desc = f[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05000}05000                 \textcolor{keywordflow}{if} (desc.StartsWith(\textcolor{stringliteral}{"{}ImageJ"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05001}05001                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05002}05002                     imDesc.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a21784c589545287873a2bf687727ab7a}{SetString}}(desc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05003}05003                     \textcolor{keywordflow}{if} (imDesc.channels != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05004}05004                         count = imDesc.channels;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05005}05005                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05006}05006             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05007}05007             \textcolor{keywordtype}{int} scount = (pages * sp) / count;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05008}05008             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bs = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[pages];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05009}05009             image.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05010}05010             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < pages; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05011}05011             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05012}05012                 bs[i] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(file, i, tab, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05013}05013             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05014}05014             \textcolor{keywordflow}{return} bs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05015}05015         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05016}05016 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05026}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{05026}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05027}05027         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05028}05028             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(file, 0, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05029}05029         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05041}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a40903f6e8d4f552c5cb980d30ce19790}{05041}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a40903f6e8d4f552c5cb980d30ce19790}{OpenFile}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{bool} tab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05042}05042         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05043}05043             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(file, 0, tab, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05044}05044         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05045}05045 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05066}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a872c456679e617c5827ff53ea879d933}{05066}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a872c456679e617c5827ff53ea879d933}{OpenFile}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{int} series, \textcolor{keywordtype}{bool} tab, \textcolor{keywordtype}{bool} addToImages)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05067}05067         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05068}05068             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(file, series, tab, addToImages, \textcolor{keyword}{false}, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05069}05069         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05077}05077         \textcolor{keyword}{static} \textcolor{keywordtype}{bool} IsTiffTiled(\textcolor{keywordtype}{string} imagePath)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05078}05078         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05079}05079             \textcolor{keywordflow}{if} (imagePath.EndsWith(\textcolor{stringliteral}{"{}.tif"{}}) || imagePath.EndsWith(\textcolor{stringliteral}{"{}.tiff"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05080}05080             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05081}05081                 \textcolor{keyword}{using} (Tiff tiff = Tiff.Open(imagePath, \textcolor{stringliteral}{"{}r"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05082}05082                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05083}05083                     \textcolor{keywordflow}{if} (tiff == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05084}05084                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05085}05085                         \textcolor{keywordflow}{throw} \textcolor{keyword}{new} Exception(\textcolor{stringliteral}{"{}Failed to open TIFF image."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05086}05086                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05087}05087                     \textcolor{keywordtype}{bool} t = tiff.IsTiled();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05088}05088                     tiff.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05089}05089                     \textcolor{keywordflow}{return} t;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05090}05090                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05091}05091             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05092}05092             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05093}05093         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05105}05105         \textcolor{keyword}{static} \textcolor{keywordtype}{void} InitDirectoryResolution(BioImage b, Tiff image, ImageJDesc jdesc = \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05106}05106         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05107}05107             Resolution res = \textcolor{keyword}{new} Resolution();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05108}05108             FieldValue[] rs = image.GetField(TiffTag.RESOLUTIONUNIT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05109}05109             \textcolor{keywordtype}{string} unit = \textcolor{stringliteral}{"{}NONE"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05110}05110             \textcolor{keywordflow}{if} (rs != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05111}05111                 unit = rs[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05112}05112             \textcolor{keywordflow}{if} (jdesc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05113}05113                 res.PhysicalSizeZ = jdesc.finterval;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05114}05114             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05115}05115                 res.PhysicalSizeZ = 2.54 / 96;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05116}05116             \textcolor{keywordflow}{if} (unit == \textcolor{stringliteral}{"{}CENTIMETER"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05117}05117             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05118}05118                 \textcolor{keywordflow}{if} (image.GetField(TiffTag.XRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05119}05119                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05120}05120                     \textcolor{keywordtype}{double} x = image.GetField(TiffTag.XRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05121}05121                     res.PhysicalSizeX = (1000 / x);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05122}05122                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05123}05123                 \textcolor{keywordflow}{if} (image.GetField(TiffTag.YRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05124}05124                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05125}05125                     \textcolor{keywordtype}{double} y = image.GetField(TiffTag.YRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05126}05126                     res.PhysicalSizeY = (1000 / y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05127}05127                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05128}05128             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05129}05129             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05130}05130             \textcolor{keywordflow}{if} (unit == \textcolor{stringliteral}{"{}INCH"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05131}05131             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05132}05132                 \textcolor{keywordflow}{if} (image.GetField(TiffTag.XRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05133}05133                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05134}05134                     \textcolor{keywordtype}{double} x = image.GetField(TiffTag.XRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05135}05135                     res.PhysicalSizeX = (2.54 / x) / 2.54;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05136}05136                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05137}05137                 \textcolor{keywordflow}{if} (image.GetField(TiffTag.YRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05138}05138                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05139}05139                     \textcolor{keywordtype}{double} y = image.GetField(TiffTag.YRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05140}05140                     res.PhysicalSizeY = (2.54 / y) / 2.54;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05141}05141                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05142}05142             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05143}05143             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05144}05144             \textcolor{keywordflow}{if} (unit == \textcolor{stringliteral}{"{}NONE"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05145}05145             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05146}05146                 \textcolor{keywordflow}{if} (jdesc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05147}05147                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05148}05148                     \textcolor{keywordflow}{if} (jdesc.unit == \textcolor{stringliteral}{"{}micron"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05149}05149                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05150}05150                         \textcolor{keywordflow}{if} (image.GetField(TiffTag.XRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05151}05151                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05152}05152                             \textcolor{keywordtype}{double} x = image.GetField(TiffTag.XRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05153}05153                             res.PhysicalSizeX = (2.54 / x) / 2.54;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05154}05154                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05155}05155                         \textcolor{keywordflow}{if} (image.GetField(TiffTag.YRESOLUTION) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05156}05156                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05157}05157                             \textcolor{keywordtype}{double} y = image.GetField(TiffTag.YRESOLUTION)[0].ToDouble();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05158}05158                             res.PhysicalSizeY = (2.54 / y) / 2.54;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05159}05159                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05160}05160                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05161}05161                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05162}05162                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05163}05163                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05164}05164                     res.PhysicalSizeX = 2.54 / 96;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05165}05165                     res.PhysicalSizeY = 2.54 / 96;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05166}05166                     res.PhysicalSizeZ = 2.54 / 96;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05167}05167                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05168}05168             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05169}05169             res.SizeX = image.GetField(TiffTag.IMAGEWIDTH)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05170}05170             res.SizeY = image.GetField(TiffTag.IMAGELENGTH)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05171}05171             \textcolor{keywordtype}{int} bitsPerPixel = image.GetField(TiffTag.BITSPERSAMPLE)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05172}05172             \textcolor{keywordtype}{int} RGBChannelCount = image.GetField(TiffTag.SAMPLESPERPIXEL)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05173}05173             res.PixelFormat = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(RGBChannelCount, bitsPerPixel);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05174}05174             b.Resolutions.Add(res);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05175}05175         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05176}05176 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05204}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1c9e76f55e54e95589f096fc264e8b54}{05204}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1c9e76f55e54e95589f096fc264e8b54}{OpenFile}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{int} series, \textcolor{keywordtype}{bool} tab, \textcolor{keywordtype}{bool} addToImages, \textcolor{keywordtype}{bool} tile, \textcolor{keywordtype}{int} tileX, \textcolor{keywordtype}{int} tileY, \textcolor{keywordtype}{int} tileSizeX, \textcolor{keywordtype}{int} tileSizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05205}05205         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05206}05206             \textcolor{keywordtype}{string} fs = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05207}05207             vips = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a51b8f8a482fa882cc88917b6e9d3eee3}{VipsSupport}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05208}05208             Console.WriteLine(\textcolor{stringliteral}{"{}Opening BioImage: "{}} + file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05209}05209             \textcolor{keywordtype}{bool} ome = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4107833d24bee6a7958d7f4da239f26f}{isOME}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05210}05210             \textcolor{keywordflow}{if} (ome) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(file, series, tab, addToImages, tile, tileX, tileY, tileSizeX, tileSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05211}05211             \textcolor{keywordtype}{bool} tiled = IsTiffTiled(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05212}05212             Console.WriteLine(\textcolor{stringliteral}{"{}IsTiled="{}} + tiled.ToString());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05213}05213             tile = tiled;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05214}05214 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05215}05215             Stopwatch st = \textcolor{keyword}{new} Stopwatch();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05216}05216             st.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05217}05217             status = \textcolor{stringliteral}{"{}Opening Image"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05218}05218             progFile = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05219}05219             progressValue = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05220}05220             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05221}05221             \textcolor{keywordflow}{if} (tiled \&\& file.EndsWith(\textcolor{stringliteral}{"{}.tif"{}}) \&\& !file.EndsWith(\textcolor{stringliteral}{"{}.ome.tif"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05222}05222             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05223}05223                 \textcolor{comment}{//To open this we need libvips}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05224}05224                 vips = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a51b8f8a482fa882cc88917b6e9d3eee3}{VipsSupport}}(b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05225}05225             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05226}05226             b.series = series;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05227}05227             b.file = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05228}05228             b.ispyramidal = tiled;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05229}05229             \textcolor{keywordtype}{string} fn = Path.GetFileNameWithoutExtension(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05230}05230             \textcolor{keywordtype}{string} dir = Path.GetDirectoryName(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05231}05231             \textcolor{keywordflow}{if} (File.Exists(fn + \textcolor{stringliteral}{"{}.csv"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05232}05232             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05233}05233                 \textcolor{keywordtype}{string} f = dir + \textcolor{stringliteral}{"{}//"{}} + fn + \textcolor{stringliteral}{"{}.csv"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05234}05234                 b.Annotations = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae74e13dfef39281cd92b663a08971131}{ImportROIsCSV}}(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05235}05235             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05236}05236             \textcolor{keywordflow}{if} (file.EndsWith(\textcolor{stringliteral}{"{}tif"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}tiff"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}TIF"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}TIFF"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05237}05237             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05238}05238                 Tiff image = Tiff.Open(file, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05239}05239                 b.tifRead = image;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05240}05240                 \textcolor{keywordtype}{int} SizeX = image.GetField(TiffTag.IMAGEWIDTH)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05241}05241                 \textcolor{keywordtype}{int} SizeY = image.GetField(TiffTag.IMAGELENGTH)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05242}05242                 b.bitsPerPixel = image.GetField(TiffTag.BITSPERSAMPLE)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05243}05243                 b.littleEndian = !image.IsBigEndian();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05244}05244                 \textcolor{keywordtype}{int} RGBChannelCount = image.GetField(TiffTag.SAMPLESPERPIXEL)[0].ToInt();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05245}05245                 \textcolor{keywordtype}{string} desc = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05246}05246 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05247}05247                 FieldValue[] f = image.GetField(TiffTag.IMAGEDESCRIPTION);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05248}05248                 desc = f[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05249}05249                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}} imDesc = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05250}05250                 b.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05251}05251                 b.sizeT = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05252}05252                 b.sizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05253}05253                 \textcolor{keywordflow}{if} (f != \textcolor{keyword}{null} \&\& !tile)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05254}05254                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05255}05255                     imDesc = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc}{ImageJDesc}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05256}05256                     desc = f[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05257}05257                     \textcolor{keywordflow}{if} (desc.StartsWith(\textcolor{stringliteral}{"{}ImageJ"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05258}05258                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05259}05259                         imDesc.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_1_1_image_j_desc_a21784c589545287873a2bf687727ab7a}{SetString}}(desc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05260}05260                         \textcolor{keywordflow}{if} (imDesc.channels != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05261}05261                             b.sizeC = imDesc.channels;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05262}05262                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05263}05263                             b.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05264}05264                         \textcolor{keywordflow}{if} (imDesc.slices != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05265}05265                             b.sizeZ = imDesc.slices;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05266}05266                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05267}05267                             b.sizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05268}05268                         \textcolor{keywordflow}{if} (imDesc.frames != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05269}05269                             b.sizeT = imDesc.frames;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05270}05270                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05271}05271                             b.sizeT = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05272}05272                         \textcolor{keywordflow}{if} (imDesc.finterval != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05273}05273                             b.frameInterval = imDesc.finterval;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05274}05274                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05275}05275                             b.frameInterval = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05276}05276                         \textcolor{keywordflow}{if} (imDesc.spacing != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05277}05277                             b.imageInfo.PhysicalSizeZ = imDesc.spacing;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05278}05278                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05279}05279                             b.imageInfo.PhysicalSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05280}05280                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05281}05281                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05282}05282                 \textcolor{keywordtype}{int} stride = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05283}05283                 PixelFormat PixelFormat;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05284}05284                 \textcolor{keywordflow}{if} (RGBChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05285}05285                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05286}05286                     \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05287}05287                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05288}05288                         PixelFormat = PixelFormat.Format16bppGrayScale;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05289}05289                         stride = SizeX * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05290}05290                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05291}05291                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05292}05292                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05293}05293                         PixelFormat = PixelFormat.Format8bppIndexed;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05294}05294                         stride = SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05295}05295                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05296}05296                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05297}05297                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05298}05298                 \textcolor{keywordflow}{if} (RGBChannelCount == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05299}05299                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05300}05300                     b.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05301}05301                     \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05302}05302                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05303}05303                         PixelFormat = PixelFormat.Format48bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05304}05304                         stride = SizeX * 2 * 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05305}05305                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05306}05306                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05307}05307                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05308}05308                         PixelFormat = PixelFormat.Format24bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05309}05309                         stride = SizeX * 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05310}05310                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05311}05311                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05312}05312                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05313}05313                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05314}05314                     PixelFormat = PixelFormat.Format32bppArgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05315}05315                     stride = SizeX * 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05316}05316                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05317}05317 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05318}05318                 \textcolor{keywordtype}{string}[] sts = desc.Split(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05319}05319                 \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05320}05320                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sts.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05321}05321                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05322}05322                     \textcolor{keywordflow}{if} (sts[i].StartsWith(\textcolor{stringliteral}{"{}-\/Channel"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05323}05323                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05324}05324                         \textcolor{keywordtype}{string} val = sts[i].Substring(9);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05325}05325                         val = val.Substring(0, val.IndexOf(\textcolor{charliteral}{':'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05326}05326                         \textcolor{keywordtype}{int} serie = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05327}05327                         \textcolor{keywordflow}{if} (serie == series \&\& sts[i].Length > 7)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05328}05328                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05329}05329                             \textcolor{keywordtype}{string} cht = sts[i].Substring(sts[i].IndexOf(\textcolor{charliteral}{'\{'}), sts[i].Length -\/ sts[i].IndexOf(\textcolor{charliteral}{'\{'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05330}05330                             Channel.ChannelInfo info = JsonConvert.DeserializeObject<Channel.ChannelInfo>(cht);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05331}05331                             Channel ch = \textcolor{keyword}{new} Channel(index, b.bitsPerPixel, info.SamplesPerPixel);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05332}05332                             ch.info = info;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05333}05333                             b.Channels.Add(ch);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05334}05334                             \textcolor{keywordflow}{if} (index == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05335}05335                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05336}05336                                 b.rgbChannels[0] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05337}05337                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05338}05338                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05339}05339                             \textcolor{keywordflow}{if} (index == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05340}05340                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05341}05341                                 b.rgbChannels[1] = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05342}05342                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05343}05343                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05344}05344                             \textcolor{keywordflow}{if} (index == 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05345}05345                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05346}05346                                 b.rgbChannels[2] = 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05347}05347                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05348}05348                             index++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05349}05349                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05350}05350                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05351}05351                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05352}05352                     \textcolor{keywordflow}{if} (sts[i].StartsWith(\textcolor{stringliteral}{"{}-\/ROI"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05353}05353                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05354}05354                         \textcolor{keywordtype}{string} val = sts[i].Substring(5);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05355}05355                         val = val.Substring(0, val.IndexOf(\textcolor{charliteral}{':'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05356}05356                         \textcolor{keywordtype}{int} serie = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05357}05357                         \textcolor{keywordflow}{if} (serie == series \&\& sts[i].Length > 7)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05358}05358                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05359}05359                             \textcolor{keywordtype}{string} s = sts[i].Substring(sts[i].IndexOf(\textcolor{stringliteral}{"{}ROI:"{}}) + 4, sts[i].Length -\/ (sts[i].IndexOf(\textcolor{stringliteral}{"{}ROI:"{}}) + 4));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05360}05360                             \textcolor{keywordtype}{string} ro = s.Substring(s.IndexOf(\textcolor{stringliteral}{"{}:"{}}) + 1, s.Length -\/ (s.IndexOf(\textcolor{charliteral}{':'}) + 1));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05361}05361                             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} roi = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a616c510a1434e4cbcef43b0f10db3993}{StringToROI}}(ro);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05362}05362                             b.Annotations.Add(roi);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05363}05363                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05364}05364                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05365}05365                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05366}05366                     \textcolor{keywordflow}{if} (sts[i].StartsWith(\textcolor{stringliteral}{"{}-\/ImageInfo"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05367}05367                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05368}05368                         \textcolor{keywordtype}{string} val = sts[i].Substring(11);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05369}05369                         val = val.Substring(0, val.IndexOf(\textcolor{charliteral}{':'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05370}05370                         \textcolor{keywordtype}{int} serie = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05371}05371                         \textcolor{keywordflow}{if} (serie == series \&\& sts[i].Length > 10)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05372}05372                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05373}05373                             \textcolor{keywordtype}{string} cht = sts[i].Substring(sts[i].IndexOf(\textcolor{charliteral}{'\{'}), sts[i].Length -\/ sts[i].IndexOf(\textcolor{charliteral}{'\{'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05374}05374                             b.imageInfo = JsonConvert.DeserializeObject<\mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}}>(cht);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05375}05375                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05376}05376                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05377}05377                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05378}05378                 b.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[b.SizeZ, b.SizeC, b.SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05379}05379                 \textcolor{keywordflow}{if} (tiled \&\& tileSizeX == 0 \&\& tileSizeY == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05380}05380                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05381}05381                     tileSizeX = 1920;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05382}05382                     tileSizeY = 1080;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05383}05383                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05384}05384 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05385}05385                 \textcolor{comment}{//If this is a tiff file not made by Bio we init channels based on RGBChannels.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05386}05386                 \textcolor{keywordflow}{if} (b.Channels.Count == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05387}05387                     b.Channels.Add(\textcolor{keyword}{new} Channel(0, b.bitsPerPixel, RGBChannelCount));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05388}05388 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05389}05389                 \textcolor{comment}{//Lets check to see the channels are correctly defined in this file}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05390}05390                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < b.Channels.Count; ch++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05391}05391                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05392}05392                     \textcolor{keywordflow}{if} (b.Channels[ch].SamplesPerPixel != RGBChannelCount)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05393}05393                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05394}05394                         b.Channels[ch].SamplesPerPixel = RGBChannelCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05395}05395                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05396}05396                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05397}05397 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05398}05398                 b.Buffers = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05399}05399                 \textcolor{keywordtype}{int} pages = image.NumberOfDirectories() / b.seriesCount;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05400}05400                 \textcolor{keywordtype}{int} str = image.ScanlineSize();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05401}05401                 \textcolor{keywordtype}{bool} inter = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05402}05402                 \textcolor{keywordflow}{if} (stride != str)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05403}05403                     inter = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05404}05404                 InitDirectoryResolution(b, image, imDesc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05405}05405                 \textcolor{keywordflow}{if} (tiled)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05406}05406                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05407}05407                     Console.WriteLine(\textcolor{stringliteral}{"{}Opening tiles."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05408}05408                     \textcolor{keywordflow}{if} (vips)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05409}05409                         \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a645e8fe233ade9f382e583b578b5ad18}{OpenVips}}(b, b.Resolutions.Count);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05410}05410                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} t = 0; t < b.SizeT; t++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05411}05411                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05412}05412                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < b.SizeC; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05413}05413                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05414}05414                             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z = 0; z < b.SizeZ; z++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05415}05415                             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05416}05416                                 Bitmap bmp = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a32a9291073b4438858d1854960e4407f}{GetTile}}(b, \textcolor{keyword}{new} ZCT(z, c, t), series, tileX, tileY, tileSizeX, tileSizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05417}05417                                 b.Buffers.Add(bmp);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05418}05418                                 Statistics.CalcStatistics(bmp);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05419}05419                             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05420}05420                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05421}05421                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05422}05422                     Console.WriteLine(\textcolor{stringliteral}{"{}Calculating statisitics."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05423}05423                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05424}05424                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05425}05425                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05426}05426                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} p = series * pages; p < (series + 1) * pages; p++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05427}05427                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05428}05428                         image.SetDirectory((\textcolor{keywordtype}{short})p);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05429}05429 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05430}05430                         \textcolor{keywordtype}{byte}[] bytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[stride * SizeY];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05431}05431                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0, offset = 0; im < SizeY; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05432}05432                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05433}05433                             image.ReadScanline(bytes, offset, im, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05434}05434                             offset += stride;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05435}05435                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05436}05436                         Bitmap inf = \textcolor{keyword}{new} Bitmap(file, SizeX, SizeY, b.Resolutions[series].PixelFormat, bytes, \textcolor{keyword}{new} ZCT(0, 0, 0), p, \textcolor{keyword}{null}, b.littleEndian, inter);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05437}05437                         b.Buffers.Add(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05438}05438                         Statistics.CalcStatistics(inf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05439}05439                         progressValue = (int)(p / (\textcolor{keywordtype}{float})(series + 1) * pages);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05440}05440                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05441}05441                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05442}05442                 image.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05443}05443                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05444}05444             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05445}05445             \textcolor{keywordflow}{if} (b.StageSizeX == -\/1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05446}05446             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05447}05447                 b.imageInfo.Series = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05448}05448                 b.StageSizeX = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05449}05449                 b.StageSizeY = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05450}05450                 b.StageSizeZ = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05451}05451             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05452}05452             b.Volume = \textcolor{keyword}{new} VolumeD(\textcolor{keyword}{new} Point3D(b.StageSizeX, b.StageSizeY, b.StageSizeZ), \textcolor{keyword}{new} Point3D(b.PhysicalSizeX * b.SizeX, b.PhysicalSizeY * b.SizeY, b.PhysicalSizeZ * b.SizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05453}05453 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05454}05454             \textcolor{comment}{//If file is ome and we have OME support then check for annotation in metadata.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05455}05455             \textcolor{keywordflow}{if} (ome \&\& OmeSupport)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05456}05456             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05457}05457                 b.Annotations.AddRange(OpenOMEROIs(file, series));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05458}05458             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05459}05459 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05460}05460             \textcolor{comment}{//We wait for histogram image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05461}05461             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05462}05462             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05463}05463                 Thread.Sleep(50);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05464}05464             \} \textcolor{keywordflow}{while} (b.Buffers[b.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05465}05465             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05466}05466             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(b, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05467}05467             \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05468}05468                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05469}05469             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05470}05470                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05471}05471             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.Open("{} + '"{}' + file + '"{}' + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05472}05472             \textcolor{keywordflow}{if} (addToImages)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05473}05473                 Images.AddImage(b, tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05474}05474             \textcolor{comment}{//pr.Close();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05475}05475             \textcolor{comment}{//pr.Dispose();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05476}05476             st.Stop();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05477}05477             b.loadTimeMS = st.ElapsedMilliseconds;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05478}05478             Console.WriteLine(\textcolor{stringliteral}{"{}BioImage loaded "{}} + b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a46b27bfab51f5ddc76e51a6cf1d70983}{ToString}}());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05479}05479             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05480}05480         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05481}05481 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05491}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a45a04888d897ed939a628f0efae459ae}{05491}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a45a04888d897ed939a628f0efae459ae}{isTiffSeries}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05492}05492         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05493}05493             Tiff image = Tiff.Open(file, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05494}05494             \textcolor{keywordtype}{string} desc = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05495}05495             FieldValue[] f = image.GetField(TiffTag.IMAGEDESCRIPTION);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05496}05496             image.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05497}05497             \textcolor{keywordtype}{string}[] sts = desc.Split(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05498}05498             \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05499}05499             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sts.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05500}05500             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05501}05501                 \textcolor{keywordflow}{if} (sts[i].StartsWith(\textcolor{stringliteral}{"{}-\/ImageInfo"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05502}05502                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05503}05503                     \textcolor{keywordtype}{string} val = sts[i].Substring(11);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05504}05504                     val = val.Substring(0, val.IndexOf(\textcolor{charliteral}{':'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05505}05505                     \textcolor{keywordtype}{int} serie = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05506}05506                     \textcolor{keywordflow}{if} (sts[i].Length > 10)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05507}05507                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05508}05508                         \textcolor{keywordtype}{string} cht = sts[i].Substring(sts[i].IndexOf(\textcolor{charliteral}{'\{'}), sts[i].Length -\/ sts[i].IndexOf(\textcolor{charliteral}{'\{'}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05509}05509                         \mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}} info = JsonConvert.DeserializeObject<\mbox{\hyperlink{class_bio_lib_1_1_image_info}{ImageInfo}}>(cht);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05510}05510                         \textcolor{keywordflow}{if} (info.Series > 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05511}05511                             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05512}05512                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05513}05513                             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05514}05514                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05515}05515                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05516}05516             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05517}05517             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05518}05518         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05528}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4107833d24bee6a7958d7f4da239f26f}{05528}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4107833d24bee6a7958d7f4da239f26f}{isOME}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05529}05529         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05530}05530             \textcolor{keywordflow}{if} (file.EndsWith(\textcolor{stringliteral}{"{}ome.tif"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}ome.tiff"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05531}05531             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05532}05532                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05533}05533             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05534}05534             \textcolor{keywordflow}{if} (file.EndsWith(\textcolor{stringliteral}{"{}.tif"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}.TIF"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}tiff"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}TIFF"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05535}05535             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05536}05536                 Tiff image = Tiff.Open(file, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05537}05537                 \textcolor{keywordtype}{string} desc = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05538}05538                 FieldValue[] f = image.GetField(TiffTag.IMAGEDESCRIPTION);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05539}05539                 desc = f[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05540}05540                 image.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05541}05541                 \textcolor{keywordflow}{if} (desc.Contains(\textcolor{stringliteral}{"{}OME-\/XML"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05542}05542                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05543}05543                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05544}05544                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05545}05545             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05546}05546             \textcolor{keywordflow}{if} (!(file.EndsWith(\textcolor{stringliteral}{"{}png"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}PNG"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}jpg"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}JPG"{}}) ||}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05547}05547                 file.EndsWith(\textcolor{stringliteral}{"{}jpeg"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}JPEG"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}bmp"{}}) || file.EndsWith(\textcolor{stringliteral}{"{}BMP"{}})))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05548}05548             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05549}05549                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05550}05550             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05551}05551             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05552}05552         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05553}05553 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05564}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_adacc7eba3372c4ce6500994d38fd0669}{05564}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_adacc7eba3372c4ce6500994d38fd0669}{isOMESeries}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05565}05565         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05566}05566             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4107833d24bee6a7958d7f4da239f26f}{isOME}}(file))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05567}05567                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05568}05568             ImageReader reader = \textcolor{keyword}{new} ImageReader();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05569}05569             var meta = (IMetadata)((OMEXMLService)\textcolor{keyword}{new} ServiceFactory().getInstance(typeof(OMEXMLService))).createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05570}05570             reader.setMetadataStore((MetadataStore)meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05571}05571             file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05572}05572             reader.setId(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05573}05573             \textcolor{keywordtype}{bool} ser = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05574}05574             \textcolor{keywordflow}{if} (reader.getSeriesCount() > 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05575}05575                 ser = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05576}05576             reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05577}05577             reader = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05578}05578             \textcolor{keywordflow}{return} ser;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05579}05579         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05592}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a82f440ef5e46f4006148a51515f9df82}{05592}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a82f440ef5e46f4006148a51515f9df82}{SaveOME}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05593}05593         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05594}05594             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05595}05595                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05596}05596             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] sts = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05597}05597             sts[0] = Images.GetImage(ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05598}05598             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afbc8fb1cb6b5c382b38610d0588d5a1a}{SaveOMESeries}}(sts, file, \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.Planes);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05599}05599         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05600}05600 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05613}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_abbab8b1e2bb11e051a3c1b1acce4b2b8}{05613}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_abbab8b1e2bb11e051a3c1b1acce4b2b8}{SaveOME}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} image, \textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05614}05614         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05615}05615             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05616}05616                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05617}05617             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] sts = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05618}05618             sts[0] = image;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05619}05619             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afbc8fb1cb6b5c382b38610d0588d5a1a}{SaveOMESeries}}(sts, file, \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.Planes);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05620}05620         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05626}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_afbc8fb1cb6b5c382b38610d0588d5a1a}{05626}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afbc8fb1cb6b5c382b38610d0588d5a1a}{SaveOMESeries}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] files, \textcolor{keywordtype}{string} f, \textcolor{keywordtype}{bool} planes)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05627}05627         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05628}05628             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05629}05629                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05630}05630             \textcolor{keywordflow}{if} (File.Exists(f))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05631}05631                 File.Delete(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05632}05632             loci.formats.meta.IMetadata omexml = service.createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05633}05633             progressValue = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05634}05634             status = \textcolor{stringliteral}{"{}Saving OME Image Metadata."{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05635}05635             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} fi = 0; fi < files.Length; fi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05636}05636             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05637}05637                 \textcolor{keywordtype}{int} serie = fi;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05638}05638                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = files[fi];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05639}05639                 \textcolor{comment}{// create OME-\/XML metadata store}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05640}05640                 omexml.setImageID(\textcolor{stringliteral}{"{}Image:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05641}05641                 omexml.setPixelsID(\textcolor{stringliteral}{"{}Pixels:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05642}05642                 omexml.setPixelsInterleaved(java.lang.Boolean.TRUE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05643}05643                 omexml.setPixelsDimensionOrder(ome.xml.model.enums.DimensionOrder.XYCZT, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05644}05644                 \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05645}05645                     omexml.setPixelsType(ome.xml.model.enums.PixelType.UINT16, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05646}05646                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05647}05647                     omexml.setPixelsType(ome.xml.model.enums.PixelType.UINT8, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05648}05648                 omexml.setPixelsSizeX(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeX)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05649}05649                 omexml.setPixelsSizeY(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeY)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05650}05650                 omexml.setPixelsSizeZ(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeZ)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05651}05651                 \textcolor{keywordtype}{int} samples = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05652}05652                 \textcolor{keywordflow}{if} (b.isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05653}05653                     samples = 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05654}05654                 omexml.setPixelsSizeC(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeC)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05655}05655                 omexml.setPixelsSizeT(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeT)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05656}05656                 \textcolor{keywordflow}{if} (BitConverter.IsLittleEndian)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05657}05657                     omexml.setPixelsBigEndian(java.lang.Boolean.FALSE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05658}05658                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05659}05659                     omexml.setPixelsBigEndian(java.lang.Boolean.TRUE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05660}05660                 ome.units.quantity.Length p1 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeX), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05661}05661                 omexml.setPixelsPhysicalSizeX(p1, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05662}05662                 ome.units.quantity.Length p2 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeY), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05663}05663                 omexml.setPixelsPhysicalSizeY(p2, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05664}05664                 ome.units.quantity.Length p3 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeZ), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05665}05665                 omexml.setPixelsPhysicalSizeZ(p3, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05666}05666                 ome.units.quantity.Length s1 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.X), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05667}05667                 omexml.setStageLabelX(s1, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05668}05668                 ome.units.quantity.Length s2 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.Y), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05669}05669                 omexml.setStageLabelY(s2, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05670}05670                 ome.units.quantity.Length s3 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.Z), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05671}05671                 omexml.setStageLabelZ(s3, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05672}05672                 omexml.setStageLabelName(\textcolor{stringliteral}{"{}StageLabel:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05673}05673 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05674}05674                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} channel = 0; channel < b.Channels.Count; channel++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05675}05675                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05676}05676                     Channel c = b.Channels[channel];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05677}05677                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < c.range.Length; r++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05678}05678                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05679}05679                         omexml.setChannelID(\textcolor{stringliteral}{"{}Channel:"{}} + channel + \textcolor{stringliteral}{"{}:"{}} + serie, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05680}05680                         omexml.setChannelSamplesPerPixel(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(1)), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05681}05681                         \textcolor{keywordflow}{if} (c.LightSourceWavelength != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05682}05682                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05683}05683                             omexml.setChannelLightSourceSettingsID(\textcolor{stringliteral}{"{}LightSourceSettings:"{}} + channel, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05684}05684                             ome.units.quantity.Length lw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.LightSourceWavelength), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05685}05685                             omexml.setChannelLightSourceSettingsWavelength(lw, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05686}05686                             omexml.setChannelLightSourceSettingsAttenuation(PercentFraction.valueOf(c.LightSourceAttenuation), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05687}05687                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05688}05688                         omexml.setChannelName(c.Name, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05689}05689                         \textcolor{keywordflow}{if} (c.Color != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05690}05690                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05691}05691                             ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(c.Color.Value.R, c.Color.Value.G, c.Color.Value.B, c.Color.Value.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05692}05692                             omexml.setChannelColor(col, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05693}05693                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05694}05694                         \textcolor{keywordflow}{if} (c.Emission != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05695}05695                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05696}05696                             ome.units.quantity.Length em = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.Emission), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05697}05697                             omexml.setChannelEmissionWavelength(em, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05698}05698                             ome.units.quantity.Length ex = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.Excitation), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05699}05699                             omexml.setChannelExcitationWavelength(ex, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05700}05700                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05701}05701                         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05702}05702 \textcolor{comment}{                        if (c.ContrastMethod != null)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05703}05703 \textcolor{comment}{                        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05704}05704 \textcolor{comment}{                            ome.xml.model.enums.ContrastMethod cm = (ome.xml.model.enums.ContrastMethod)Enum.Parse(typeof(ome.xml.model.enums.ContrastMethod), c.ContrastMethod);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05705}05705 \textcolor{comment}{                            omexml.setChannelContrastMethod(cm, serie, channel + r);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05706}05706 \textcolor{comment}{                        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05707}05707 \textcolor{comment}{                        if (c.IlluminationType != null)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05708}05708 \textcolor{comment}{                        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05709}05709 \textcolor{comment}{                            ome.xml.model.enums.IlluminationType il = (ome.xml.model.enums.IlluminationType)Enum.Parse(typeof(ome.xml.model.enums.IlluminationType), c.IlluminationType.ToUpper());}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05710}05710 \textcolor{comment}{                            omexml.setChannelIlluminationType(il, serie, channel + r);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05711}05711 \textcolor{comment}{                        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05712}05712 \textcolor{comment}{                        if (c.AcquisitionMode != null)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05713}05713 \textcolor{comment}{                        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05714}05714 \textcolor{comment}{                            ome.xml.model.enums.AcquisitionMode am = (ome.xml.model.enums.AcquisitionMode)Enum.Parse(typeof(ome.xml.model.enums.AcquisitionMode), c.AcquisitionMode.ToUpper());}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05715}05715 \textcolor{comment}{                            omexml.setChannelAcquisitionMode(am, serie, channel + r);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05716}05716 \textcolor{comment}{                        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05717}05717 \textcolor{comment}{                        */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05718}05718                         omexml.setChannelFluor(c.Fluor, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05719}05719                         \textcolor{keywordflow}{if} (c.LightSourceIntensity != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05720}05720                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05721}05721                             ome.units.quantity.Power pw = \textcolor{keyword}{new} ome.units.quantity.Power(java.lang.Double.valueOf(c.LightSourceIntensity), ome.units.UNITS.VOLT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05722}05722                             omexml.setLightEmittingDiodePower(pw, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05723}05723                             omexml.setLightEmittingDiodeID(c.DiodeName, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05724}05724                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05725}05725                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05726}05726                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05727}05727 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05728}05728                 \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05729}05729                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} b.Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05730}05730                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05731}05731                     \textcolor{keywordflow}{if} (an.roiID == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05732}05732                         omexml.setROIID(\textcolor{stringliteral}{"{}ROI:"{}} + i.ToString() + \textcolor{stringliteral}{"{}:"{}} + serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05733}05733                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05734}05734                         omexml.setROIID(an.roiID, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05735}05735                     omexml.setROIName(an.roiName, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05736}05736                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Point)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05737}05737                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05738}05738                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05739}05739                             omexml.setPointID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05740}05740                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05741}05741                             omexml.setPointID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05742}05742                         omexml.setPointX(java.lang.Double.valueOf(b.ToImageSpaceX(an.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05743}05743                         omexml.setPointY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05744}05744                         omexml.setPointTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05745}05745                         omexml.setPointTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05746}05746                         omexml.setPointTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05747}05747                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05748}05748                             omexml.setPointText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05749}05749                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05750}05750                             omexml.setPointText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05751}05751                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05752}05752                         omexml.setPointFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05753}05753                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05754}05754                         omexml.setPointStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05755}05755                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05756}05756                         omexml.setPointStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05757}05757                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05758}05758                         omexml.setPointFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05759}05759                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05760}05760                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05761}05761                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Polygon || an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Freeform)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05762}05762                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05763}05763                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05764}05764                             omexml.setPolygonID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05765}05765                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05766}05766                             omexml.setPolygonID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05767}05767                         omexml.setPolygonPoints(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_af3c1a3d4d37ddbc1c49a89a6ed4c762a}{PointsToString}}(b), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05768}05768                         omexml.setPolygonTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05769}05769                         omexml.setPolygonTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05770}05770                         omexml.setPolygonTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05771}05771                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05772}05772                             omexml.setPolygonText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05773}05773                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05774}05774                             omexml.setPolygonText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05775}05775                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05776}05776                         omexml.setPolygonFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05777}05777                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05778}05778                         omexml.setPolygonStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05779}05779                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05780}05780                         omexml.setPolygonStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05781}05781                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05782}05782                         omexml.setPolygonFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05783}05783                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05784}05784                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05785}05785                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Rectangle)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05786}05786                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05787}05787                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05788}05788                             omexml.setRectangleID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05789}05789                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05790}05790                             omexml.setRectangleID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05791}05791                         omexml.setRectangleWidth(java.lang.Double.valueOf(b.ToImageSizeX(an.W)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05792}05792                         omexml.setRectangleHeight(java.lang.Double.valueOf(b.ToImageSizeY(an.H)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05793}05793                         omexml.setRectangleX(java.lang.Double.valueOf(b.ToImageSpaceX(an.Rect.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05794}05794                         omexml.setRectangleY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Rect.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05795}05795                         omexml.setRectangleTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05796}05796                         omexml.setRectangleTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05797}05797                         omexml.setRectangleTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05798}05798                         omexml.setRectangleText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05799}05799                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05800}05800                             omexml.setRectangleText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05801}05801                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05802}05802                             omexml.setRectangleText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05803}05803                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05804}05804                         omexml.setRectangleFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05805}05805                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05806}05806                         omexml.setRectangleStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05807}05807                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05808}05808                         omexml.setRectangleStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05809}05809                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05810}05810                         omexml.setRectangleFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05811}05811                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05812}05812                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05813}05813                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Line)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05814}05814                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05815}05815                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05816}05816                             omexml.setLineID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05817}05817                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05818}05818                             omexml.setLineID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05819}05819                         omexml.setLineX1(java.lang.Double.valueOf(b.ToImageSpaceX(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{GetPoint}}(0).X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05820}05820                         omexml.setLineY1(java.lang.Double.valueOf(b.ToImageSpaceY(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{GetPoint}}(0).Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05821}05821                         omexml.setLineX2(java.lang.Double.valueOf(b.ToImageSpaceX(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{GetPoint}}(1).X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05822}05822                         omexml.setLineY2(java.lang.Double.valueOf(b.ToImageSpaceY(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_abb1576fd30bbc12357a569d18afe7b2e}{GetPoint}}(1).Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05823}05823                         omexml.setLineTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05824}05824                         omexml.setLineTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05825}05825                         omexml.setLineTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05826}05826                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05827}05827                             omexml.setLineText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05828}05828                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05829}05829                             omexml.setLineText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05830}05830                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05831}05831                         omexml.setLineFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05832}05832                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05833}05833                         omexml.setLineStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05834}05834                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05835}05835                         omexml.setLineStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05836}05836                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05837}05837                         omexml.setLineFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05838}05838                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05839}05839                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05840}05840                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Ellipse)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05841}05841                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05842}05842 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05843}05843                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05844}05844                             omexml.setEllipseID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05845}05845                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05846}05846                             omexml.setEllipseID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05847}05847                         \textcolor{comment}{//We need to change System.Drawing.Rectangle to ellipse radius;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05848}05848                         \textcolor{keywordtype}{double} w = (double)an.W / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05849}05849                         \textcolor{keywordtype}{double} h = (\textcolor{keywordtype}{double})an.H / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05850}05850                         omexml.setEllipseRadiusX(java.lang.Double.valueOf(b.ToImageSizeX(w)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05851}05851                         omexml.setEllipseRadiusY(java.lang.Double.valueOf(b.ToImageSizeY(h)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05852}05852 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05853}05853                         \textcolor{keywordtype}{double} x = an.Point.X + w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05854}05854                         \textcolor{keywordtype}{double} y = an.Point.Y + h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05855}05855                         omexml.setEllipseX(java.lang.Double.valueOf(b.ToImageSpaceX(x)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05856}05856                         omexml.setEllipseY(java.lang.Double.valueOf(b.ToImageSpaceX(y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05857}05857                         omexml.setEllipseTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05858}05858                         omexml.setEllipseTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05859}05859                         omexml.setEllipseTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05860}05860                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05861}05861                             omexml.setEllipseText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05862}05862                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05863}05863                             omexml.setEllipseText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05864}05864                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05865}05865                         omexml.setEllipseFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05866}05866                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05867}05867                         omexml.setEllipseStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05868}05868                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05869}05869                         omexml.setEllipseStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05870}05870                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05871}05871                         omexml.setEllipseFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05872}05872                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05873}05873                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05874}05874                     \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Label)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05875}05875                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05876}05876                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05877}05877                             omexml.setLabelID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05878}05878                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05879}05879                             omexml.setLabelID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05880}05880                         omexml.setLabelX(java.lang.Double.valueOf(b.ToImageSpaceX(an.Rect.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05881}05881                         omexml.setLabelY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Rect.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05882}05882                         omexml.setLabelTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05883}05883                         omexml.setLabelTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05884}05884                         omexml.setLabelTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05885}05885                         omexml.setLabelText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05886}05886                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05887}05887                             omexml.setLabelText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05888}05888                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05889}05889                             omexml.setLabelText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05890}05890                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05891}05891                         omexml.setLabelFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05892}05892                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05893}05893                         omexml.setLabelStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05894}05894                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05895}05895                         omexml.setLabelStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05896}05896                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05897}05897                         omexml.setLabelFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05898}05898                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05899}05899                     i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05900}05900                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05901}05901 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05902}05902                 \textcolor{keywordflow}{if} (b.Buffers[0].Plane != \textcolor{keyword}{null} \&\& planes)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05903}05903                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bu = 0; bu < b.Buffers.Count; bu++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05904}05904                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05905}05905                         \textcolor{comment}{//Correct order of parameters.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05906}05906                         \textcolor{keywordflow}{if} (b.Buffers[bu].Plane.Delta != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05907}05907                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05908}05908                             ome.units.quantity.Time t = \textcolor{keyword}{new} ome.units.quantity.Time(java.lang.Double.valueOf(b.Buffers[bu].Plane.Delta), ome.units.UNITS.MILLISECOND);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05909}05909                             omexml.setPlaneDeltaT(t, serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05910}05910                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05911}05911                         \textcolor{keywordflow}{if} (b.Buffers[bu].Plane.Exposure != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05912}05912                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05913}05913                             ome.units.quantity.Time et = \textcolor{keyword}{new} ome.units.quantity.Time(java.lang.Double.valueOf(b.Buffers[bu].Plane.Exposure), ome.units.UNITS.MILLISECOND);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05914}05914                             omexml.setPlaneExposureTime(et, serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05915}05915                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05916}05916                         ome.units.quantity.Length lx = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.X), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05917}05917                         ome.units.quantity.Length ly = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.Y), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05918}05918                         ome.units.quantity.Length lz = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.Z), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05919}05919                         omexml.setPlanePositionX(lx, serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05920}05920                         omexml.setPlanePositionY(ly, serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05921}05921                         omexml.setPlanePositionZ(lz, serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05922}05922                         omexml.setPlaneTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.C)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05923}05923                         omexml.setPlaneTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.Z)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05924}05924                         omexml.setPlaneTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.T)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05925}05925 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05926}05926                         omexml.setTiffDataPlaneCount(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(1)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05927}05927                         omexml.setTiffDataIFD(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(bu)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05928}05928                         omexml.setTiffDataFirstC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.C)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05929}05929                         omexml.setTiffDataFirstZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.Z)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05930}05930                         omexml.setTiffDataFirstT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.T)), serie, bu);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05931}05931 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05932}05932                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05933}05933 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05934}05934             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05935}05935             writer.setMetadataRetrieve(omexml);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05936}05936             f = f.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05937}05937             writer.setId(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05938}05938             status = \textcolor{stringliteral}{"{}Saving OME Image Planes."{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05939}05939             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < files.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05940}05940             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05941}05941                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = files[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05942}05942                 writer.setSeries(i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05943}05943                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bu = 0; bu < b.Buffers.Count; bu++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05944}05944                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05945}05945                     writer.saveBytes(bu, b.Buffers[bu].GetSaveBytes(BitConverter.IsLittleEndian));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05946}05946                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05947}05947             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05948}05948             \textcolor{keywordtype}{bool} stop = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05949}05949             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05950}05950             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05951}05951                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05952}05952                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05953}05953                     writer.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05954}05954                     stop = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05955}05955                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05956}05956                 \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05957}05957                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05958}05958                     \textcolor{comment}{//Scripting.LogLine(e.Message);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05959}05959                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05960}05960 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05961}05961             \} \textcolor{keywordflow}{while} (!stop);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05962}05962         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05976}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{05976}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{bool} tab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05977}05977         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05978}05978             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05979}05979                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05980}05980             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acbaf3a1430425b5ffb01bdfd878c5fd3}{OpenOMESeries}}(file, tab, \textcolor{keyword}{true})[0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05981}05981         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05982}05982 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05994}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc3aa3f6e5a1e675f91f854bf5901620}{05994}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc3aa3f6e5a1e675f91f854bf5901620}{OpenOME}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{int} serie)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05995}05995         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05996}05996             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05997}05997                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05998}05998             \textcolor{comment}{//Recorder.AddLine("{}Bio.BioImage.OpenOME(\(\backslash\)"{}"{} + file + "{}\(\backslash\)"{},"{} + serie + "{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l05999}05999             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(file, serie, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06000}06000         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06001}06001 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06019}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a82da0454f8fe6e463f3bd9ebdd250868}{06019}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a82da0454f8fe6e463f3bd9ebdd250868}{FilesToStack}}(\textcolor{keywordtype}{string}[] files, \textcolor{keywordtype}{int} sizeZ, \textcolor{keywordtype}{int} sizeC, \textcolor{keywordtype}{int} sizeT)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06020}06020         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06021}06021             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(files[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06022}06022             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < files.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06023}06023             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06024}06024                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bb = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(files[i], \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06025}06025                 b.Buffers.AddRange(bb.Buffers);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06026}06026             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06027}06027             b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(sizeZ, sizeC, sizeT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06028}06028             Images.AddImage(b, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06029}06029             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06030}06030         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06031}06031 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06044}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af0435ef46d10e0fda84ea0cddb364a5a}{06044}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af0435ef46d10e0fda84ea0cddb364a5a}{FolderToStack}}(\textcolor{keywordtype}{string} path, \textcolor{keywordtype}{bool} tab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06045}06045         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06046}06046             \textcolor{keywordtype}{string}[] files = Directory.GetFiles(path);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06047}06047             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}(files[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06048}06048             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06049}06049             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06050}06050             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06051}06051             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bb = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06052}06052             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < files.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06053}06053             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06054}06054                 \textcolor{keywordtype}{string}[] st = files[i].Split(\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06055}06055                 \textcolor{keywordflow}{if} (st.Length > 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06056}06056                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06057}06057                     z = \textcolor{keywordtype}{int}.Parse(st[1].Replace(\textcolor{stringliteral}{"{}Z"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06058}06058                     c = \textcolor{keywordtype}{int}.Parse(st[2].Replace(\textcolor{stringliteral}{"{}C"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06059}06059                     t = \textcolor{keywordtype}{int}.Parse(st[3].Replace(\textcolor{stringliteral}{"{}T"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06060}06060                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06061}06061                 bb = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(files[i], tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06062}06062                 b.Buffers.AddRange(bb.Buffers);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06063}06063             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06064}06064             \textcolor{keywordflow}{if} (z == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06065}06065             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06066}06066                 \textcolor{comment}{/*TO DO}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06067}06067 \textcolor{comment}{                ImagesToStack im = new ImagesToStack();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06068}06068 \textcolor{comment}{                if (im.ShowDialog() != DialogResult.OK)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06069}06069 \textcolor{comment}{                    return null;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06070}06070 \textcolor{comment}{                b.UpdateCoords(im.SizeZ, im.SizeC, im.SizeT);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06071}06071 \textcolor{comment}{                */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06072}06072             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06073}06073             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06074}06074                 b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(z + 1, c + 1, t + 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06075}06075             Images.AddImage(b, tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06076}06076             \textcolor{comment}{//Recorder.AddLine("{}BioImage.FolderToStack(\(\backslash\)"{}"{} + path + "{}\(\backslash\)"{});"{});}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06077}06077             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06078}06078         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06079}06079 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06080}06080         \textcolor{keyword}{static} \textcolor{keywordtype}{bool} vips = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06090}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a645e8fe233ade9f382e583b578b5ad18}{06090}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a645e8fe233ade9f382e583b578b5ad18}{OpenVips}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, \textcolor{keywordtype}{int} pagecount)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06091}06091         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06092}06092             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06093}06093             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06094}06094                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < pagecount; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06095}06095                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06096}06096                     b.vipPages.Add(NetVips.Image.Tiffload(b.file, i));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06097}06097                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06098}06098             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06099}06099             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06100}06100             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06101}06101                 Console.WriteLine(e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06102}06102             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06103}06103 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06104}06104         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06127}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad0e483ab618bb24313e9ac4fb61c4ddf}{06127}}         \textcolor{keyword}{public} \textcolor{keyword}{static} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad0e483ab618bb24313e9ac4fb61c4ddf}{ExtractRegionFromTiledTiff}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{int} res)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06128}06128         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06129}06129             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06130}06130             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06131}06131                 NetVips.Image subImage = b.vipPages[res].Crop(x, y, width, height);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06132}06132                 \textcolor{keywordflow}{if} (b.vipPages[res].Format == Enums.BandFormat.Uchar)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06133}06133                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06134}06134                     Bitmap bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06135}06135                     \textcolor{keywordtype}{byte}[] imageData = subImage.WriteToMemory();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06136}06136                     \textcolor{keywordflow}{if} (b.Resolutions[res].RGBChannelsCount == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06137}06137                         bm = \textcolor{keyword}{new} Bitmap(width, height, PixelFormat.Format24bppRgb, imageData, \textcolor{keyword}{new} ZCT(), b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06138}06138                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06139}06139                         bm = \textcolor{keyword}{new} Bitmap(width, height, PixelFormat.Format8bppIndexed, imageData, \textcolor{keyword}{new} ZCT(), b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06140}06140                     \textcolor{keywordflow}{return} bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06141}06141 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06142}06142                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06143}06143                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b.vipPages[res].Format == Enums.BandFormat.Ushort)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06144}06144                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06145}06145                     Bitmap bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06146}06146                     \textcolor{keywordtype}{byte}[] imageData = subImage.WriteToMemory();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06147}06147                     \textcolor{keywordflow}{if} (b.Resolutions[res].RGBChannelsCount == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06148}06148                         bm = \textcolor{keyword}{new} Bitmap(width, height, PixelFormat.Format48bppRgb, imageData, \textcolor{keyword}{new} ZCT(), b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06149}06149                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06150}06150                         bm = \textcolor{keyword}{new} Bitmap(width, height, PixelFormat.Format16bppGrayScale, imageData, \textcolor{keyword}{new} ZCT(), b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06151}06151                     \textcolor{keywordflow}{return} bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06152}06152                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06153}06153             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06154}06154             \textcolor{keywordflow}{catch} (Exception ex)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06155}06155             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06156}06156                 Console.WriteLine(\$\textcolor{stringliteral}{"{}Error: \{ex.Message\}"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06157}06157                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06158}06158             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06159}06159             \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06160}06160         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06161}06161         \textcolor{comment}{/* Reading the OME-\/XML metadata and creating a BioImage object. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06162}06162         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} OpenOME(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{int} serie, \textcolor{keywordtype}{bool} tab, \textcolor{keywordtype}{bool} addToImages, \textcolor{keywordtype}{bool} tile, \textcolor{keywordtype}{int} tilex, \textcolor{keywordtype}{int} tiley, \textcolor{keywordtype}{int} tileSizeX, \textcolor{keywordtype}{int} tileSizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06163}06163         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06164}06164             \textcolor{keywordflow}{if} (tileSizeX == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06165}06165                 tileSizeX = 1920;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06166}06166             \textcolor{keywordflow}{if} (tileSizeY == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06167}06167                 tileSizeY = 1080;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06168}06168             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06169}06169             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06170}06170                 Thread.Sleep(50);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06171}06171             \} \textcolor{keywordflow}{while} (!initialized);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06172}06172             \textcolor{keywordflow}{if} (file == \textcolor{keyword}{null} || file == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06173}06173                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} InvalidDataException(\textcolor{stringliteral}{"{}File is empty or null"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06174}06174             progressValue = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06175}06175             progFile = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06176}06176             BioImage b = \textcolor{keyword}{new} BioImage(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06177}06177             b.Loading = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06178}06178             \textcolor{keywordflow}{if} (b.meta == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06179}06179                 b.meta = (IMetadata)((OMEXMLService)\textcolor{keyword}{new} ServiceFactory().getInstance(typeof(OMEXMLService))).createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06180}06180             \textcolor{keywordtype}{string} f = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06181}06181             \textcolor{keywordtype}{string} cf = reader.getCurrentFile();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06182}06182             \textcolor{keywordflow}{if} (cf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06183}06183                 cf = cf.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06184}06184             \textcolor{keywordflow}{if} (cf != f)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06185}06185             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06186}06186                 status = \textcolor{stringliteral}{"{}Opening OME Image."{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06187}06187                 reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06188}06188                 reader.setMetadataStore(b.meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06189}06189                 file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06190}06190                 reader.setId(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06191}06191             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06192}06192             status = \textcolor{stringliteral}{"{}Reading OME Metadata."{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06193}06193             reader.setSeries(serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06194}06194             \textcolor{keywordtype}{int} RGBChannelCount = reader.getRGBChannelCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06195}06195             \textcolor{keywordflow}{if} (reader.getOptimalTileWidth() != reader.getSizeX())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06196}06196             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06197}06197                 b.ispyramidal = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06198}06198                 tile = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06199}06199             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06200}06200             \textcolor{comment}{//OME reader.getBitsPerPixel(); sometimes returns incorrect bits per pixel, like when opening ImageJ images.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06201}06201             \textcolor{comment}{//So we check the pixel type from xml metadata and if it fails we use the readers value.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06202}06202             PixelFormat PixelFormat;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06203}06203             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06204}06204             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06205}06205                 PixelFormat = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(RGBChannelCount, b.meta.getPixelsType(serie));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06206}06206             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06207}06207             \textcolor{keywordflow}{catch} (Exception)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06208}06208             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06209}06209                 PixelFormat = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(RGBChannelCount, reader.getBitsPerPixel());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06210}06210             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06211}06211 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06212}06212             b.id = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06213}06213             b.file = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06214}06214             \textcolor{keywordtype}{int} SizeX, SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06215}06215             SizeX = reader.getSizeX();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06216}06216             SizeY = reader.getSizeY();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06217}06217             \textcolor{keywordtype}{int} SizeZ = reader.getSizeZ();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06218}06218             b.sizeC = reader.getSizeC();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06219}06219             b.sizeZ = reader.getSizeZ();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06220}06220             b.sizeT = reader.getSizeT();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06221}06221             b.littleEndian = reader.isLittleEndian();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06222}06222             b.seriesCount = reader.getSeriesCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06223}06223             b.imagesPerSeries = reader.getImageCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06224}06224             b.bitsPerPixel = reader.getBitsPerPixel();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06225}06225             b.series = serie;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06226}06226             \textcolor{keywordtype}{string} order = reader.getDimensionOrder();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06227}06227 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06228}06228             \textcolor{comment}{//Lets get the channels and initialize them}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06229}06229             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06230}06230             \textcolor{keywordflow}{while} (\textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06231}06231             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06232}06232                 Channel ch = \textcolor{keyword}{new} Channel(i, b.bitsPerPixel, 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06233}06233                 \textcolor{keywordtype}{bool} def = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06234}06234                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06235}06235                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06236}06236                     \textcolor{keywordflow}{if} (b.meta.getChannelSamplesPerPixel(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06237}06237                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06238}06238                         \textcolor{keywordtype}{int} s = b.meta.getChannelSamplesPerPixel(serie, i).getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06239}06239                         ch.SamplesPerPixel = s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06240}06240                         def = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06241}06241                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06242}06242                     \textcolor{keywordflow}{if} (b.meta.getChannelName(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06243}06243                         ch.Name = b.meta.getChannelName(serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06244}06244                     \textcolor{keywordflow}{if} (b.meta.getChannelAcquisitionMode(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06245}06245                         ch.AcquisitionMode = b.meta.getChannelAcquisitionMode(serie, i).ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06246}06246                     \textcolor{keywordflow}{if} (b.meta.getChannelID(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06247}06247                         ch.info.ID = b.meta.getChannelID(serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06248}06248                     \textcolor{keywordflow}{if} (b.meta.getChannelFluor(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06249}06249                         ch.Fluor = b.meta.getChannelFluor(serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06250}06250                     \textcolor{keywordflow}{if} (b.meta.getChannelColor(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06251}06251                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06252}06252                         ome.xml.model.primitives.Color cc = b.meta.getChannelColor(serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06253}06253                         ch.Color = Color.FromArgb(cc.getRed(), cc.getGreen(), cc.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06254}06254                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06255}06255                     \textcolor{keywordflow}{if} (b.meta.getChannelIlluminationType(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06256}06256                         ch.IlluminationType = b.meta.getChannelIlluminationType(serie, i).ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06257}06257                     \textcolor{keywordflow}{if} (b.meta.getChannelContrastMethod(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06258}06258                         ch.ContrastMethod = b.meta.getChannelContrastMethod(serie, i).ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06259}06259                     \textcolor{keywordflow}{if} (b.meta.getChannelEmissionWavelength(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06260}06260                         ch.Emission = b.meta.getChannelEmissionWavelength(serie, i).value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06261}06261                     \textcolor{keywordflow}{if} (b.meta.getChannelExcitationWavelength(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06262}06262                         ch.Excitation = b.meta.getChannelExcitationWavelength(serie, i).value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06263}06263                     \textcolor{keywordflow}{if} (b.meta.getLightEmittingDiodePower(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06264}06264                         ch.LightSourceIntensity = b.meta.getLightEmittingDiodePower(serie, i).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06265}06265                     \textcolor{keywordflow}{if} (b.meta.getLightEmittingDiodeID(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06266}06266                         ch.DiodeName = b.meta.getLightEmittingDiodeID(serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06267}06267                     \textcolor{keywordflow}{if} (b.meta.getChannelLightSourceSettingsAttenuation(serie, i) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06268}06268                         ch.LightSourceAttenuation = b.meta.getChannelLightSourceSettingsAttenuation(serie, i).toString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06269}06269 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06270}06270                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06271}06271                 \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06272}06272                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06273}06273                     Console.WriteLine(e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06274}06274                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06275}06275                 \textcolor{comment}{//If this channel is not defined we have loaded all the channels in the file.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06276}06276                 \textcolor{keywordflow}{if} (!def)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06277}06277                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06278}06278                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06279}06279                     b.Channels.Add(ch);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06280}06280                 \textcolor{keywordflow}{if} (i == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06281}06281                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06282}06282                     b.rgbChannels[0] = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06283}06283                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06284}06284                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06285}06285                 \textcolor{keywordflow}{if} (i == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06286}06286                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06287}06287                     b.rgbChannels[1] = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06288}06288                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06289}06289                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06290}06290                 \textcolor{keywordflow}{if} (i == 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06291}06291                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06292}06292                     b.rgbChannels[2] = 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06293}06293                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06294}06294                 i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06295}06295             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06296}06296 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06297}06297             \textcolor{comment}{//If the file doens't have channels we initialize them.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06298}06298             \textcolor{keywordflow}{if} (b.Channels.Count == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06299}06299             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06300}06300                 b.Channels.Add(\textcolor{keyword}{new} Channel(0, b.bitsPerPixel, RGBChannelCount));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06301}06301             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06302}06302 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06303}06303             \textcolor{comment}{//Bioformats gives a size of 3 for C when saved in ImageJ as RGB. We need to correct for this as C should be 1 for RGB.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06304}06304             \textcolor{keywordflow}{if} ((PixelFormat == PixelFormat.Format24bppRgb || PixelFormat == PixelFormat.Format32bppArgb || PixelFormat == PixelFormat.Format48bppRgb) \&\& b.SizeC == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06305}06305             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06306}06306                 b.sizeC = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06307}06307             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06308}06308             b.Coords = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[b.SizeZ, b.SizeC, b.SizeT];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06309}06309 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06310}06310             \textcolor{keywordtype}{int} resc = reader.getResolutionCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06311}06311             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} s = 0; s < b.seriesCount; s++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06312}06312             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06313}06313                 reader.setSeries(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06314}06314                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < reader.getResolutionCount(); r++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06315}06315                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06316}06316                     Resolution res = \textcolor{keyword}{new} Resolution();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06317}06317                     \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06318}06318                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06319}06319                         \textcolor{keywordtype}{int} rgbc = reader.getRGBChannelCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06320}06320                         \textcolor{keywordtype}{int} bps = reader.getBitsPerPixel();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06321}06321                         PixelFormat px;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06322}06322                         \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06323}06323                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06324}06324                             px = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(rgbc, b.meta.getPixelsType(s));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06325}06325                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06326}06326                         \textcolor{keywordflow}{catch} (Exception)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06327}06327                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06328}06328                             px = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(rgbc, bps);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06329}06329                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06330}06330                         res.PixelFormat = px;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06331}06331                         res.SizeX = reader.getSizeX();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06332}06332                         res.SizeY = reader.getSizeY();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06333}06333                         \textcolor{keywordflow}{if} (b.meta.getPixelsPhysicalSizeX(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06334}06334                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06335}06335                             res.PhysicalSizeX = b.meta.getPixelsPhysicalSizeX(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06336}06336                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06337}06337                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06338}06338                             res.PhysicalSizeX = (96 / 2.54) / 1000;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06339}06339                         \textcolor{keywordflow}{if} (b.meta.getPixelsPhysicalSizeY(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06340}06340                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06341}06341                             res.PhysicalSizeY = b.meta.getPixelsPhysicalSizeY(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06342}06342                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06343}06343                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06344}06344                             res.PhysicalSizeY = (96 / 2.54) / 1000;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06345}06345 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06346}06346                         \textcolor{keywordflow}{if} (b.meta.getStageLabelX(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06347}06347                             res.StageSizeX = b.meta.getStageLabelX(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06348}06348                         \textcolor{keywordflow}{if} (b.meta.getStageLabelY(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06349}06349                             res.StageSizeY = b.meta.getStageLabelY(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06350}06350                         \textcolor{keywordflow}{if} (b.meta.getStageLabelZ(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06351}06351                             res.StageSizeZ = b.meta.getStageLabelZ(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06352}06352                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06353}06353                             res.StageSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06354}06354                         \textcolor{keywordflow}{if} (b.meta.getPixelsPhysicalSizeZ(s) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06355}06355                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06356}06356                             res.PhysicalSizeZ = b.meta.getPixelsPhysicalSizeZ(s).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06357}06357                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06358}06358                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06359}06359                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06360}06360                             res.PhysicalSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06361}06361                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06362}06362                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06363}06363                     \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06364}06364                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06365}06365                         Console.WriteLine(\textcolor{stringliteral}{"{}No Stage Coordinates. PhysicalSize:("{}} + res.PhysicalSizeX + \textcolor{stringliteral}{"{},"{}} + res.PhysicalSizeY + \textcolor{stringliteral}{"{},"{}} + res.PhysicalSizeZ + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06366}06366                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06367}06367                     b.Resolutions.Add(res);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06368}06368                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06369}06369             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06370}06370             b.Volume = \textcolor{keyword}{new} VolumeD(\textcolor{keyword}{new} Point3D(b.StageSizeX, b.StageSizeY, b.StageSizeZ), \textcolor{keyword}{new} Point3D(b.PhysicalSizeX * SizeX, b.PhysicalSizeY * SizeY, b.PhysicalSizeZ * SizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06371}06371 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06372}06372             \textcolor{keywordtype}{int} rc = b.meta.getROICount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06373}06373             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < rc; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06374}06374             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06375}06375                 \textcolor{keywordtype}{string} roiID = b.meta.getROIID(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06376}06376                 \textcolor{keywordtype}{string} roiName = b.meta.getROIName(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06377}06377                 ZCT co = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06378}06378                 \textcolor{keywordtype}{int} scount = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06379}06379                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06380}06380                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06381}06381                     scount = b.meta.getShapeCount(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06382}06382                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06383}06383                 \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06384}06384                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06385}06385                     Console.WriteLine(e.Message.ToString());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06386}06386                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06387}06387                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} sc = 0; sc < scount; sc++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06388}06388                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06389}06389                     \textcolor{keywordtype}{string} type = b.meta.getShapeType(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06390}06390                     ROI an = \textcolor{keyword}{new} ROI();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06391}06391                     an.roiID = roiID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06392}06392                     an.roiName = roiName;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06393}06393                     an.shapeIndex = sc;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06394}06394                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Point"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06395}06395                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06396}06396                         an.type = ROI.Type.Point;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06397}06397                         an.id = b.meta.getPointID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06398}06398                         \textcolor{keywordtype}{double} dx = b.meta.getPointX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06399}06399                         \textcolor{keywordtype}{double} dy = b.meta.getPointY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06400}06400                         an.AddPoint(b.ToStageSpace(\textcolor{keyword}{new} PointD(dx, dy)));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06401}06401                         an.coord = \textcolor{keyword}{new} ZCT();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06402}06402                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getPointTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06403}06403                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06404}06404                             an.coord.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06405}06405                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getPointTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06406}06406                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06407}06407                             an.coord.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06408}06408                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getPointTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06409}06409                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06410}06410                             an.coord.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06411}06411                         an.Text = b.meta.getPointText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06412}06412                         ome.units.quantity.Length fl = b.meta.getPointFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06413}06413                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06414}06414                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06415}06415                         ome.xml.model.enums.FontFamily ff = b.meta.getPointFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06416}06416                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06417}06417                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06418}06418                         ome.xml.model.primitives.Color col = b.meta.getPointStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06419}06419                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06420}06420                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06421}06421                         ome.units.quantity.Length fw = b.meta.getPointStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06422}06422                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06423}06423                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06424}06424                         ome.xml.model.primitives.Color colf = b.meta.getPointStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06425}06425                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06426}06426                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06427}06427                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06428}06428                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06429}06429                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06430}06430                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Line"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06431}06431                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06432}06432                         an.type = ROI.Type.Line;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06433}06433                         an.id = b.meta.getLineID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06434}06434                         \textcolor{keywordtype}{double} px1 = b.meta.getLineX1(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06435}06435                         \textcolor{keywordtype}{double} py1 = b.meta.getLineY1(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06436}06436                         \textcolor{keywordtype}{double} px2 = b.meta.getLineX2(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06437}06437                         \textcolor{keywordtype}{double} py2 = b.meta.getLineY2(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06438}06438                         an.AddPoint(b.ToStageSpace(\textcolor{keyword}{new} PointD(px1, py1)));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06439}06439                         an.AddPoint(b.ToStageSpace(\textcolor{keyword}{new} PointD(px2, py2)));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06440}06440                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getLineTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06441}06441                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06442}06442                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06443}06443                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getLineTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06444}06444                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06445}06445                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06446}06446                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getLineTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06447}06447                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06448}06448                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06449}06449                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06450}06450                         an.Text = b.meta.getLineText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06451}06451                         ome.units.quantity.Length fl = b.meta.getLineFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06452}06452                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06453}06453                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06454}06454                         ome.xml.model.enums.FontFamily ff = b.meta.getLineFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06455}06455                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06456}06456                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06457}06457                         ome.xml.model.primitives.Color col = b.meta.getLineStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06458}06458                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06459}06459                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06460}06460                         ome.units.quantity.Length fw = b.meta.getLineStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06461}06461                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06462}06462                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06463}06463                         ome.xml.model.primitives.Color colf = b.meta.getLineFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06464}06464                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06465}06465                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06466}06466                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06467}06467                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06468}06468                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06469}06469                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Rectangle"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06470}06470                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06471}06471                         an.type = ROI.Type.Rectangle;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06472}06472                         an.id = b.meta.getRectangleID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06473}06473                         \textcolor{keywordtype}{double} px = b.meta.getRectangleX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06474}06474                         \textcolor{keywordtype}{double} py = b.meta.getRectangleY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06475}06475                         \textcolor{keywordtype}{double} pw = b.meta.getRectangleWidth(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06476}06476                         \textcolor{keywordtype}{double} ph = b.meta.getRectangleHeight(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06477}06477                         an.Rect = b.ToStageSpace(\textcolor{keyword}{new} RectangleD(px, py, pw, ph));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06478}06478                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getRectangleTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06479}06479                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06480}06480                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06481}06481                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getRectangleTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06482}06482                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06483}06483                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06484}06484                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getRectangleTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06485}06485                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06486}06486                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06487}06487                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06488}06488 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06489}06489                         an.Text = b.meta.getRectangleText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06490}06490                         ome.units.quantity.Length fl = b.meta.getRectangleFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06491}06491                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06492}06492                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06493}06493                         ome.xml.model.enums.FontFamily ff = b.meta.getRectangleFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06494}06494                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06495}06495                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06496}06496                         ome.xml.model.primitives.Color col = b.meta.getRectangleStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06497}06497                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06498}06498                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06499}06499                         ome.units.quantity.Length fw = b.meta.getRectangleStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06500}06500                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06501}06501                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06502}06502                         ome.xml.model.primitives.Color colf = b.meta.getRectangleFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06503}06503                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06504}06504                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06505}06505                         ome.xml.model.enums.FillRule fr = b.meta.getRectangleFillRule(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06506}06506                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06507}06507                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06508}06508                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06509}06509                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Ellipse"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06510}06510                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06511}06511                         an.type = ROI.Type.Ellipse;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06512}06512                         an.id = b.meta.getEllipseID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06513}06513                         \textcolor{keywordtype}{double} px = b.meta.getEllipseX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06514}06514                         \textcolor{keywordtype}{double} py = b.meta.getEllipseY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06515}06515                         \textcolor{keywordtype}{double} ew = b.meta.getEllipseRadiusX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06516}06516                         \textcolor{keywordtype}{double} eh = b.meta.getEllipseRadiusY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06517}06517                         \textcolor{comment}{//We convert the ellipse radius to Rectangle}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06518}06518                         \textcolor{keywordtype}{double} w = ew * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06519}06519                         \textcolor{keywordtype}{double} h = eh * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06520}06520                         \textcolor{keywordtype}{double} x = px -\/ ew;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06521}06521                         \textcolor{keywordtype}{double} y = py -\/ eh;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06522}06522                         an.Rect = b.ToStageSpace(\textcolor{keyword}{new} RectangleD(x, y, w, h));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06523}06523                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getEllipseTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06524}06524                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06525}06525                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06526}06526                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getEllipseTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06527}06527                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06528}06528                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06529}06529                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getEllipseTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06530}06530                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06531}06531                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06532}06532                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06533}06533                         an.Text = b.meta.getEllipseText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06534}06534                         ome.units.quantity.Length fl = b.meta.getEllipseFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06535}06535                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06536}06536                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06537}06537                         ome.xml.model.enums.FontFamily ff = b.meta.getEllipseFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06538}06538                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06539}06539                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06540}06540                         ome.xml.model.primitives.Color col = b.meta.getEllipseStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06541}06541                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06542}06542                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06543}06543                         ome.units.quantity.Length fw = b.meta.getEllipseStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06544}06544                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06545}06545                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06546}06546                         ome.xml.model.primitives.Color colf = b.meta.getEllipseFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06547}06547                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06548}06548                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06549}06549                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06550}06550                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06551}06551                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Polygon"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06552}06552                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06553}06553                         an.type = ROI.Type.Polygon;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06554}06554                         an.id = b.meta.getPolygonID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06555}06555                         an.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06556}06556                         \textcolor{keywordtype}{string} pxs = b.meta.getPolygonPoints(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06557}06557                         PointD[] pts = an.stringToPoints(pxs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06558}06558                         pts = b.ToStageSpace(pts);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06559}06559                         \textcolor{keywordflow}{if} (pts.Length > 100)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06560}06560                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06561}06561                             an.type = ROI.Type.Freeform;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06562}06562                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06563}06563                         an.AddPoints(pts);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06564}06564                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getPolygonTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06565}06565                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06566}06566                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06567}06567                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getPolygonTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06568}06568                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06569}06569                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06570}06570                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getPolygonTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06571}06571                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06572}06572                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06573}06573                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06574}06574                         an.Text = b.meta.getPolygonText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06575}06575                         ome.units.quantity.Length fl = b.meta.getPolygonFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06576}06576                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06577}06577                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06578}06578                         ome.xml.model.enums.FontFamily ff = b.meta.getPolygonFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06579}06579                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06580}06580                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06581}06581                         ome.xml.model.primitives.Color col = b.meta.getPolygonStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06582}06582                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06583}06583                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06584}06584                         ome.units.quantity.Length fw = b.meta.getPolygonStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06585}06585                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06586}06586                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06587}06587                         ome.xml.model.primitives.Color colf = b.meta.getPolygonFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06588}06588                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06589}06589                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06590}06590                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06591}06591                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06592}06592                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Polyline"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06593}06593                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06594}06594                         an.type = ROI.Type.Polyline;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06595}06595                         an.id = b.meta.getPolylineID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06596}06596                         \textcolor{keywordtype}{string} pxs = b.meta.getPolylinePoints(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06597}06597                         PointD[] pts = an.stringToPoints(pxs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06598}06598                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} pi = 0; pi < pts.Length; pi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06599}06599                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06600}06600                             pts[pi] = b.ToStageSpace(pts[pi]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06601}06601                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06602}06602                         an.AddPoints(an.stringToPoints(pxs));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06603}06603                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getPolylineTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06604}06604                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06605}06605                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06606}06606                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getPolylineTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06607}06607                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06608}06608                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06609}06609                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getPolylineTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06610}06610                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06611}06611                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06612}06612                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06613}06613                         an.Text = b.meta.getPolylineText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06614}06614                         ome.units.quantity.Length fl = b.meta.getPolylineFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06615}06615                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06616}06616                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06617}06617                         ome.xml.model.enums.FontFamily ff = b.meta.getPolylineFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06618}06618                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06619}06619                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06620}06620                         ome.xml.model.primitives.Color col = b.meta.getPolylineStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06621}06621                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06622}06622                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06623}06623                         ome.units.quantity.Length fw = b.meta.getPolylineStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06624}06624                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06625}06625                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06626}06626                         ome.xml.model.primitives.Color colf = b.meta.getPolylineFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06627}06627                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06628}06628                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06629}06629                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06630}06630                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06631}06631                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Label"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06632}06632                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06633}06633                         an.type = ROI.Type.Label;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06634}06634                         an.id = b.meta.getLabelID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06635}06635 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06636}06636                         ome.xml.model.primitives.NonNegativeInteger nz = b.meta.getLabelTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06637}06637                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06638}06638                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06639}06639                         ome.xml.model.primitives.NonNegativeInteger nc = b.meta.getLabelTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06640}06640                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06641}06641                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06642}06642                         ome.xml.model.primitives.NonNegativeInteger nt = b.meta.getLabelTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06643}06643                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06644}06644                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06645}06645                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06646}06646 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06647}06647                         ome.units.quantity.Length fl = b.meta.getLabelFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06648}06648                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06649}06649                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06650}06650                         ome.xml.model.enums.FontFamily ff = b.meta.getLabelFontFamily(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06651}06651                         \textcolor{keywordflow}{if} (ff != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06652}06652                             an.family = ff.name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06653}06653                         ome.xml.model.primitives.Color col = b.meta.getLabelStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06654}06654                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06655}06655                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06656}06656                         ome.units.quantity.Length fw = b.meta.getLabelStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06657}06657                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06658}06658                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06659}06659                         ome.xml.model.primitives.Color colf = b.meta.getLabelFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06660}06660                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06661}06661                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06662}06662                         PointD p = \textcolor{keyword}{new} PointD(b.meta.getLabelX(im, sc).doubleValue(), b.meta.getLabelY(im, sc).doubleValue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06663}06663                         an.AddPoint(b.ToStageSpace(p));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06664}06664                         an.Text = b.meta.getLabelText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06665}06665                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06666}06666                     \textcolor{keywordflow}{if} (b.Volume.Intersects(\textcolor{keyword}{new} PointD(an.BoundingBox.X, an.BoundingBox.Y)))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06667}06667                         b.Annotations.Add(an);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06668}06668                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06669}06669             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06670}06670 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06671}06671             List<string> serFiles = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06672}06672             serFiles.AddRange(reader.getSeriesUsedFiles());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06673}06673 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06674}06674             b.Buffers = \textcolor{keyword}{new} List<Bitmap>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06675}06675             \textcolor{comment}{// read the image data bytes}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06676}06676             \textcolor{keywordtype}{int} pages = reader.getImageCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06677}06677             \textcolor{keywordtype}{bool} inter = reader.isInterleaved();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06678}06678             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06679}06679             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06680}06680             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06681}06681             status = \textcolor{stringliteral}{"{}Reading OME Image Planes"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06682}06682             \textcolor{keywordflow}{if} (!tile)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06683}06683                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} p = 0; p < pages; p++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06684}06684                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06685}06685                     Bitmap bf;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06686}06686                     progressValue = (int)p / pages;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06687}06687                     \textcolor{keywordtype}{byte}[] bytes = reader.openBytes(p);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06688}06688                     bf = \textcolor{keyword}{new} Bitmap(file, SizeX, SizeY, PixelFormat, bytes, \textcolor{keyword}{new} ZCT(z, c, t), p, \textcolor{keyword}{null}, b.littleEndian, inter);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06689}06689                     b.Buffers.Add(bf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06690}06690                     Statistics.CalcStatistics(b.Buffers.Last());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06691}06691                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06692}06692             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06693}06693             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06694}06694                 b.Buffers.Add(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a32a9291073b4438858d1854960e4407f}{GetTile}}(b, \textcolor{keyword}{new} ZCT(z, c, t), serie, tilex, tiley, tileSizeX, tileSizeY));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06695}06695                 Statistics.CalcStatistics(b.Buffers.Last());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06696}06696             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06697}06697             \textcolor{keywordtype}{int} pls;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06698}06698             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06699}06699             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06700}06700                 pls = b.meta.getPlaneCount(serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06701}06701             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06702}06702             \textcolor{keywordflow}{catch} (Exception)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06703}06703             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06704}06704                 pls = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06705}06705             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06706}06706             \textcolor{keywordflow}{if} (pls == b.Buffers.Count)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06707}06707                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bi = 0; bi < b.Buffers.Count; bi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06708}06708                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06709}06709                     Plane pl = \textcolor{keyword}{new} Plane();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06710}06710                     pl.Coordinate = \textcolor{keyword}{new} ZCT();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06711}06711                     \textcolor{keywordtype}{double} px = 0; \textcolor{keywordtype}{double} py = 0; \textcolor{keywordtype}{double} pz = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06712}06712                     \textcolor{keywordflow}{if} (b.meta.getPlanePositionX(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06713}06713                         px = b.meta.getPlanePositionX(serie, bi).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06714}06714                     \textcolor{keywordflow}{if} (b.meta.getPlanePositionY(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06715}06715                         py = b.meta.getPlanePositionY(serie, bi).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06716}06716                     \textcolor{keywordflow}{if} (b.meta.getPlanePositionZ(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06717}06717                         pz = b.meta.getPlanePositionZ(serie, bi).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06718}06718                     pl.Location = \textcolor{keyword}{new} AForge.Point3D(px, py, pz);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06719}06719                     \textcolor{keywordtype}{int} cc = 0; \textcolor{keywordtype}{int} zc = 0; \textcolor{keywordtype}{int} tc = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06720}06720                     \textcolor{keywordflow}{if} (b.meta.getPlaneTheC(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06721}06721                         cc = b.meta.getPlaneTheC(serie, bi).getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06722}06722                     \textcolor{keywordflow}{if} (b.meta.getPlaneTheC(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06723}06723                         zc = b.meta.getPlaneTheZ(serie, bi).getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06724}06724                     \textcolor{keywordflow}{if} (b.meta.getPlaneTheC(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06725}06725                         tc = b.meta.getPlaneTheT(serie, bi).getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06726}06726                     pl.Coordinate = \textcolor{keyword}{new} ZCT(zc, cc, tc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06727}06727                     \textcolor{keywordflow}{if} (b.meta.getPlaneDeltaT(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06728}06728                         pl.Delta = b.meta.getPlaneDeltaT(serie, bi).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06729}06729                     \textcolor{keywordflow}{if} (b.meta.getPlaneExposureTime(serie, bi) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06730}06730                         pl.Exposure = b.meta.getPlaneExposureTime(serie, bi).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06731}06731                     b.Buffers[bi].Plane = pl;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06732}06732                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06733}06733 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06734}06734             b.UpdateCoords(b.SizeZ, b.SizeC, b.SizeT, order);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06735}06735             \textcolor{comment}{//We wait for histogram image statistics calculation}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06736}06736             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06737}06737             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06738}06738                 Thread.Sleep(50);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06739}06739             \} \textcolor{keywordflow}{while} (b.Buffers[b.Buffers.Count -\/ 1].Stats == \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06740}06740             Statistics.ClearCalcBuffer();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06741}06741 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06742}06742             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(b, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06743}06743             \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06744}06744                 b.StackThreshold(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06745}06745             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06746}06746                 b.StackThreshold(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06747}06747             \textcolor{keywordflow}{if} (addToImages)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06748}06748                 Images.AddImage(b, tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06749}06749             \textcolor{comment}{//We use a try block to close the reader as sometimes this will cause an error.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06750}06750             \textcolor{keywordtype}{bool} stop = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06751}06751             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06752}06752             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06753}06753                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06754}06754                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06755}06755                     reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06756}06756                     stop = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06757}06757                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06758}06758                 \textcolor{keywordflow}{catch} (Exception)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06759}06759                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06760}06760 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06761}06761                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06762}06762             \} \textcolor{keywordflow}{while} (!stop);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06763}06763             b.Loading = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06764}06764             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06765}06765         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06766}06766         \textcolor{keyword}{public} ImageReader imRead;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06767}06767         \textcolor{keyword}{public} Tiff tifRead;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06768}06768         \textcolor{keyword}{static} Bitmap bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06781}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a32a9291073b4438858d1854960e4407f}{06781}}         \textcolor{keyword}{public} \textcolor{keyword}{static} Bitmap \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a32a9291073b4438858d1854960e4407f}{GetTile}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, ZCT coord, \textcolor{keywordtype}{int} serie, \textcolor{keywordtype}{int} tilex, \textcolor{keywordtype}{int} tiley, \textcolor{keywordtype}{int} tileSizeX, \textcolor{keywordtype}{int} tileSizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06782}06782         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06783}06783             \textcolor{keywordflow}{if} ((!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}() \&\& b.file.EndsWith(\textcolor{stringliteral}{"{}ome.tif"{}}) \&\& vips) || (b.file.EndsWith(\textcolor{stringliteral}{"{}.tif"{}}) \&\& vips))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06784}06784             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06785}06785                 \textcolor{comment}{//We can get a tile faster with libvips rather than bioformats.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06786}06786                 \textcolor{comment}{//and incase we are on mac we can't use bioformats due to IKVM not supporting mac.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06787}06787                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad0e483ab618bb24313e9ac4fb61c4ddf}{ExtractRegionFromTiledTiff}}(b, tilex, tiley, tileSizeX, tileSizeY, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06788}06788             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06789}06789             \textcolor{keywordtype}{string} curfile = reader.getCurrentFile();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06790}06790             \textcolor{keywordflow}{if} (curfile == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06791}06791             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06792}06792                 b.meta = (IMetadata)((OMEXMLService)factory.getInstance(typeof(OMEXMLService))).createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06793}06793                 reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06794}06794                 reader.setMetadataStore(b.meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06795}06795                 b.file = b.file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06796}06796                 reader.setId(b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06797}06797             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06798}06798             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06799}06799             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06800}06800                 \textcolor{keywordflow}{if} (curfile != b.file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06801}06801                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06802}06802                     reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06803}06803                     b.meta = (IMetadata)((OMEXMLService)factory.getInstance(typeof(OMEXMLService))).createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06804}06804                     reader.setMetadataStore(b.meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06805}06805                     b.file = b.file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06806}06806                     reader.setId(b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06807}06807                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06808}06808             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06809}06809             \textcolor{keywordflow}{if} (reader.getSeries() != serie)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06810}06810                 reader.setSeries(serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06811}06811             \textcolor{keywordtype}{int} SizeX = reader.getSizeX();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06812}06812             \textcolor{keywordtype}{int} SizeY = reader.getSizeY();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06813}06813             \textcolor{keywordtype}{int} p = b.Coords[coord.Z, coord.C, coord.T];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06814}06814             \textcolor{keywordtype}{bool} littleEndian = reader.isLittleEndian();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06815}06815             PixelFormat PixelFormat = b.Resolutions[serie].PixelFormat;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06816}06816             \textcolor{keywordflow}{if} (tilex < 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06817}06817                 tilex = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06818}06818             \textcolor{keywordflow}{if} (tiley < 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06819}06819                 tiley = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06820}06820             \textcolor{keywordflow}{if} (tilex >= SizeX)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06821}06821                 tilex = SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06822}06822             \textcolor{keywordflow}{if} (tiley >= SizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06823}06823                 tiley = SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06824}06824             \textcolor{keywordtype}{int} sx = tileSizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06825}06825             \textcolor{keywordflow}{if} (tilex + tileSizeX > SizeX)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06826}06826                 sx -\/= (tilex + tileSizeX) -\/ (SizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06827}06827             \textcolor{keywordtype}{int} sy = tileSizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06828}06828             \textcolor{keywordflow}{if} (tiley + tileSizeY > SizeY)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06829}06829                 sy -\/= (tiley + tileSizeY) -\/ (SizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06830}06830             \textcolor{comment}{//For some reason calling openBytes with 1x1px area causes an exception. }}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06831}06831             \textcolor{keywordflow}{if} (sx <= 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06832}06832                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06833}06833             \textcolor{keywordflow}{if} (sy <= 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06834}06834                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06835}06835             \textcolor{keywordtype}{byte}[] bytesr = reader.openBytes(b.Coords[coord.Z, coord.C, coord.T], tilex, tiley, sx, sy);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06836}06836             \textcolor{keywordtype}{bool} interleaved = reader.isInterleaved();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06837}06837             \textcolor{keywordflow}{if} (bm != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06838}06838                 bm.Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06839}06839             bm = \textcolor{keyword}{new} Bitmap(b.file, sx, sy, PixelFormat, bytesr, coord, p, \textcolor{keyword}{null}, littleEndian, interleaved);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06840}06840             \textcolor{keywordflow}{if} (bm.isRGB \&\& !interleaved)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06841}06841                 bm.SwitchRedBlue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06842}06842             \textcolor{keywordflow}{return} bm;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06843}06843         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06844}06844 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06845}06845         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} SaveOMEStiched(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bms, \textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} compression)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06846}06846         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06847}06847             \textcolor{keywordflow}{if} (File.Exists(file))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06848}06848                 File.Delete(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06849}06849             loci.formats.meta.IMetadata omexml = service.createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06850}06850             \textcolor{comment}{//We need to go through the images and find the ones belonging to each resolution.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06851}06851             \textcolor{comment}{//As well we need to determine the dimensions of the tiles.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06852}06852             Dictionary<double, List<BioImage>> bis = \textcolor{keyword}{new} Dictionary<double, List<BioImage>>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06853}06853             Dictionary<double, Point3D> min = \textcolor{keyword}{new} Dictionary<double, Point3D>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06854}06854             Dictionary<double, Point3D> max = \textcolor{keyword}{new} Dictionary<double, Point3D>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06855}06855             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < bms.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06856}06856             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06857}06857                 \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}} res = bms[i].Resolutions[bms[i].Resolution];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06858}06858                 \textcolor{keywordflow}{if} (bis.ContainsKey(res.PhysicalSizeX))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06859}06859                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06860}06860                     bis[res.PhysicalSizeX].Add(bms[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06861}06861                     \textcolor{keywordflow}{if} (bms[i].StageSizeX < min[res.PhysicalSizeX].X || bms[i].StageSizeY < min[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06862}06862                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06863}06863                         min[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06864}06864                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06865}06865                     \textcolor{keywordflow}{if} (bms[i].StageSizeX > max[res.PhysicalSizeX].X || bms[i].StageSizeY > max[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06866}06866                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06867}06867                         max[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06868}06868                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06869}06869                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06870}06870                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06871}06871                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06872}06872                     bis.Add(res.PhysicalSizeX, \textcolor{keyword}{new} List<BioImage>());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06873}06873                     min.Add(res.PhysicalSizeX, \textcolor{keyword}{new} Point3D(res.StageSizeX, res.StageSizeY, res.StageSizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06874}06874                     max.Add(res.PhysicalSizeX, \textcolor{keyword}{new} Point3D(res.StageSizeX, res.StageSizeY, res.StageSizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06875}06875                     bis[res.PhysicalSizeX].Add(bms[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06876}06876                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06877}06877             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06878}06878             \textcolor{keywordtype}{int} s = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06879}06879             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{double} px \textcolor{keywordflow}{in} bis.Keys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06880}06880             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06881}06881                 \textcolor{keywordtype}{int} xi = 1 + (int)Math.Ceiling((max[px].X -\/ min[px].X) / bis[px][0].Resolutions[bis[px][0].Resolution].VolumeWidth);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06882}06882                 \textcolor{keywordtype}{int} yi = 1 + (int)Math.Ceiling((max[px].Y -\/ min[px].Y) / bis[px][0].Resolutions[bis[px][0].Resolution].VolumeHeight);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06883}06883                 BioImage b = bis[px][0];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06884}06884                 \textcolor{keywordtype}{int} serie = s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06885}06885                 \textcolor{comment}{// create OME-\/XML metadata store.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06886}06886                 omexml.setImageID(\textcolor{stringliteral}{"{}Image:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06887}06887                 omexml.setPixelsID(\textcolor{stringliteral}{"{}Pixels:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06888}06888                 omexml.setPixelsInterleaved(java.lang.Boolean.TRUE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06889}06889                 omexml.setPixelsDimensionOrder(ome.xml.model.enums.DimensionOrder.XYCZT, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06890}06890                 \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06891}06891                     omexml.setPixelsType(ome.xml.model.enums.PixelType.UINT16, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06892}06892                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06893}06893                     omexml.setPixelsType(ome.xml.model.enums.PixelType.UINT8, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06894}06894                 omexml.setPixelsSizeX(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeX * xi)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06895}06895                 omexml.setPixelsSizeY(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeY * yi)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06896}06896                 omexml.setPixelsSizeZ(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeZ)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06897}06897                 omexml.setPixelsSizeC(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeC)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06898}06898                 omexml.setPixelsSizeT(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(b.SizeT)), serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06899}06899                 \textcolor{keywordflow}{if} (BitConverter.IsLittleEndian)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06900}06900                     omexml.setPixelsBigEndian(java.lang.Boolean.FALSE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06901}06901                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06902}06902                     omexml.setPixelsBigEndian(java.lang.Boolean.TRUE, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06903}06903                 ome.units.quantity.Length p1 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeX), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06904}06904                 omexml.setPixelsPhysicalSizeX(p1, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06905}06905                 ome.units.quantity.Length p2 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeY), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06906}06906                 omexml.setPixelsPhysicalSizeY(p2, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06907}06907                 ome.units.quantity.Length p3 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.PhysicalSizeZ), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06908}06908                 omexml.setPixelsPhysicalSizeZ(p3, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06909}06909                 ome.units.quantity.Length s1 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.X), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06910}06910                 omexml.setStageLabelX(s1, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06911}06911                 ome.units.quantity.Length s2 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.Y), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06912}06912                 omexml.setStageLabelY(s2, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06913}06913                 ome.units.quantity.Length s3 = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(b.Volume.Location.Z), ome.units.UNITS.MICROMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06914}06914                 omexml.setStageLabelZ(s3, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06915}06915                 omexml.setStageLabelName(\textcolor{stringliteral}{"{}StageLabel:"{}} + serie, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06916}06916 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06917}06917                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} channel = 0; channel < b.Channels.Count; channel++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06918}06918                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06919}06919                     Channel c = b.Channels[channel];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06920}06920                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < c.range.Length; r++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06921}06921                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06922}06922                         omexml.setChannelID(\textcolor{stringliteral}{"{}Channel:"{}} + channel + \textcolor{stringliteral}{"{}:"{}} + serie, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06923}06923                         omexml.setChannelSamplesPerPixel(\textcolor{keyword}{new} PositiveInteger(java.lang.Integer.valueOf(1)), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06924}06924                         \textcolor{keywordflow}{if} (c.LightSourceWavelength != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06925}06925                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06926}06926                             omexml.setChannelLightSourceSettingsID(\textcolor{stringliteral}{"{}LightSourceSettings:"{}} + channel, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06927}06927                             ome.units.quantity.Length lw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.LightSourceWavelength), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06928}06928                             omexml.setChannelLightSourceSettingsWavelength(lw, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06929}06929                             omexml.setChannelLightSourceSettingsAttenuation(PercentFraction.valueOf(c.LightSourceAttenuation), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06930}06930                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06931}06931                         omexml.setChannelName(c.Name, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06932}06932                         \textcolor{keywordflow}{if} (c.Color != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06933}06933                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06934}06934                             ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(c.Color.Value.R, c.Color.Value.G, c.Color.Value.B, c.Color.Value.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06935}06935                             omexml.setChannelColor(col, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06936}06936                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06937}06937                         \textcolor{keywordflow}{if} (c.Emission != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06938}06938                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06939}06939                             ome.units.quantity.Length em = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.Emission), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06940}06940                             omexml.setChannelEmissionWavelength(em, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06941}06941                             ome.units.quantity.Length ex = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(c.Excitation), ome.units.UNITS.NANOMETER);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06942}06942                             omexml.setChannelExcitationWavelength(ex, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06943}06943                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06944}06944                         omexml.setChannelContrastMethod((ome.xml.model.enums.ContrastMethod)Enum.Parse(typeof(ome.xml.model.enums.ContrastMethod), c.ContrastMethod), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06945}06945                         omexml.setChannelFluor(c.Fluor, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06946}06946                         omexml.setChannelIlluminationType((ome.xml.model.enums.IlluminationType)Enum.Parse(typeof(ome.xml.model.enums.IlluminationType), c.IlluminationType), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06947}06947 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06948}06948                         \textcolor{keywordflow}{if} (c.LightSourceIntensity != 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06949}06949                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06950}06950                             ome.units.quantity.Power pw = \textcolor{keyword}{new} ome.units.quantity.Power(java.lang.Double.valueOf(c.LightSourceIntensity), ome.units.UNITS.VOLT);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06951}06951                             omexml.setLightEmittingDiodePower(pw, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06952}06952                             omexml.setLightEmittingDiodeID(c.DiodeName, serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06953}06953                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06954}06954                         \textcolor{keywordflow}{if} (c.AcquisitionMode != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06955}06955                             omexml.setChannelAcquisitionMode((ome.xml.model.enums.AcquisitionMode)Enum.Parse(typeof(ome.xml.model.enums.AcquisitionMode),c.AcquisitionMode), serie, channel + r);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06956}06956                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06957}06957                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06958}06958 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06959}06959                 \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06960}06960                 \textcolor{keywordflow}{foreach} (ROI an \textcolor{keywordflow}{in} b.Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06961}06961                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06962}06962                     \textcolor{keywordflow}{if} (an.roiID == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06963}06963                         omexml.setROIID(\textcolor{stringliteral}{"{}ROI:"{}} + i.ToString() + \textcolor{stringliteral}{"{}:"{}} + serie, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06964}06964                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06965}06965                         omexml.setROIID(an.roiID, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06966}06966                     omexml.setROIName(an.roiName, i);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06967}06967                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Point)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06968}06968                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06969}06969                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06970}06970                             omexml.setPointID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06971}06971                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06972}06972                             omexml.setPointID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06973}06973                         omexml.setPointX(java.lang.Double.valueOf(b.ToImageSpaceX(an.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06974}06974                         omexml.setPointY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06975}06975                         omexml.setPointTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06976}06976                         omexml.setPointTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06977}06977                         omexml.setPointTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06978}06978                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06979}06979                             omexml.setPointText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06980}06980                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06981}06981                             omexml.setPointText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06982}06982                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06983}06983                         omexml.setPointFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06984}06984                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06985}06985                         omexml.setPointStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06986}06986                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06987}06987                         omexml.setPointStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06988}06988                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06989}06989                         omexml.setPointFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06990}06990                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06991}06991                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06992}06992                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Polygon || an.type == ROI.Type.Freeform)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06993}06993                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06994}06994                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06995}06995                             omexml.setPolygonID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06996}06996                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06997}06997                             omexml.setPolygonID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06998}06998                         omexml.setPolygonPoints(an.PointsToString(b), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l06999}06999                         omexml.setPolygonTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07000}07000                         omexml.setPolygonTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07001}07001                         omexml.setPolygonTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07002}07002                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07003}07003                             omexml.setPolygonText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07004}07004                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07005}07005                             omexml.setPolygonText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07006}07006                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07007}07007                         omexml.setPolygonFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07008}07008                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07009}07009                         omexml.setPolygonStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07010}07010                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07011}07011                         omexml.setPolygonStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07012}07012                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07013}07013                         omexml.setPolygonFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07014}07014                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07015}07015                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07016}07016                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Rectangle)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07017}07017                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07018}07018                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07019}07019                             omexml.setRectangleID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07020}07020                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07021}07021                             omexml.setRectangleID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07022}07022                         omexml.setRectangleWidth(java.lang.Double.valueOf(b.ToImageSizeX(an.W)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07023}07023                         omexml.setRectangleHeight(java.lang.Double.valueOf(b.ToImageSizeY(an.H)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07024}07024                         omexml.setRectangleX(java.lang.Double.valueOf(b.ToImageSpaceX(an.Rect.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07025}07025                         omexml.setRectangleY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Rect.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07026}07026                         omexml.setRectangleTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07027}07027                         omexml.setRectangleTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07028}07028                         omexml.setRectangleTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07029}07029                         omexml.setRectangleText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07030}07030                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07031}07031                             omexml.setRectangleText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07032}07032                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07033}07033                             omexml.setRectangleText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07034}07034                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07035}07035                         omexml.setRectangleFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07036}07036                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07037}07037                         omexml.setRectangleStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07038}07038                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07039}07039                         omexml.setRectangleStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07040}07040                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07041}07041                         omexml.setRectangleFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07042}07042                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07043}07043                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07044}07044                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Line)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07045}07045                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07046}07046                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07047}07047                             omexml.setLineID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07048}07048                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07049}07049                             omexml.setLineID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07050}07050                         omexml.setLineX1(java.lang.Double.valueOf(b.ToImageSpaceX(an.GetPoint(0).X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07051}07051                         omexml.setLineY1(java.lang.Double.valueOf(b.ToImageSpaceY(an.GetPoint(0).Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07052}07052                         omexml.setLineX2(java.lang.Double.valueOf(b.ToImageSpaceX(an.GetPoint(1).X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07053}07053                         omexml.setLineY2(java.lang.Double.valueOf(b.ToImageSpaceY(an.GetPoint(1).Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07054}07054                         omexml.setLineTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07055}07055                         omexml.setLineTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07056}07056                         omexml.setLineTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07057}07057                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07058}07058                             omexml.setLineText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07059}07059                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07060}07060                             omexml.setLineText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07061}07061                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07062}07062                         omexml.setLineFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07063}07063                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07064}07064                         omexml.setLineStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07065}07065                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07066}07066                         omexml.setLineStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07067}07067                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07068}07068                         omexml.setLineFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07069}07069                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07070}07070                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07071}07071                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Ellipse)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07072}07072                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07073}07073 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07074}07074                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07075}07075                             omexml.setEllipseID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07076}07076                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07077}07077                             omexml.setEllipseID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07078}07078                         \textcolor{comment}{//We need to change System.Drawing.Rectangle to ellipse radius;}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07079}07079                         \textcolor{keywordtype}{double} w = (double)an.W / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07080}07080                         \textcolor{keywordtype}{double} h = (\textcolor{keywordtype}{double})an.H / 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07081}07081                         omexml.setEllipseRadiusX(java.lang.Double.valueOf(b.ToImageSizeX(w)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07082}07082                         omexml.setEllipseRadiusY(java.lang.Double.valueOf(b.ToImageSizeY(h)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07083}07083 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07084}07084                         \textcolor{keywordtype}{double} x = an.Point.X + w;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07085}07085                         \textcolor{keywordtype}{double} y = an.Point.Y + h;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07086}07086                         omexml.setEllipseX(java.lang.Double.valueOf(b.ToImageSpaceX(x)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07087}07087                         omexml.setEllipseY(java.lang.Double.valueOf(b.ToImageSpaceX(y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07088}07088                         omexml.setEllipseTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07089}07089                         omexml.setEllipseTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07090}07090                         omexml.setEllipseTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07091}07091                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07092}07092                             omexml.setEllipseText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07093}07093                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07094}07094                             omexml.setEllipseText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07095}07095                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07096}07096                         omexml.setEllipseFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07097}07097                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07098}07098                         omexml.setEllipseStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07099}07099                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07100}07100                         omexml.setEllipseStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07101}07101                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07102}07102                         omexml.setEllipseFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07103}07103                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07104}07104                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07105}07105                     \textcolor{keywordflow}{if} (an.type == ROI.Type.Label)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07106}07106                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07107}07107                         \textcolor{keywordflow}{if} (an.id != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07108}07108                             omexml.setLabelID(an.id, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07109}07109                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07110}07110                             omexml.setLabelID(\textcolor{stringliteral}{"{}Shape:"{}} + i + \textcolor{stringliteral}{"{}:"{}} + serie, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07111}07111                         omexml.setLabelX(java.lang.Double.valueOf(b.ToImageSpaceX(an.Rect.X)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07112}07112                         omexml.setLabelY(java.lang.Double.valueOf(b.ToImageSpaceY(an.Rect.Y)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07113}07113                         omexml.setLabelTheZ(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.Z)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07114}07114                         omexml.setLabelTheC(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.C)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07115}07115                         omexml.setLabelTheT(\textcolor{keyword}{new} NonNegativeInteger(java.lang.Integer.valueOf(an.coord.T)), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07116}07116                         omexml.setLabelText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07117}07117                         \textcolor{keywordflow}{if} (an.Text != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07118}07118                             omexml.setLabelText(an.Text, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07119}07119                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07120}07120                             omexml.setLabelText(i.ToString(), i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07121}07121                         ome.units.quantity.Length fl = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.fontSize), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07122}07122                         omexml.setLabelFontSize(fl, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07123}07123                         ome.xml.model.primitives.Color col = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.strokeColor.R, an.strokeColor.G, an.strokeColor.B, an.strokeColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07124}07124                         omexml.setLabelStrokeColor(col, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07125}07125                         ome.units.quantity.Length sw = \textcolor{keyword}{new} ome.units.quantity.Length(java.lang.Double.valueOf(an.strokeWidth), ome.units.UNITS.PIXEL);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07126}07126                         omexml.setLabelStrokeWidth(sw, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07127}07127                         ome.xml.model.primitives.Color colf = \textcolor{keyword}{new} ome.xml.model.primitives.Color(an.fillColor.R, an.fillColor.G, an.fillColor.B, an.fillColor.A);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07128}07128                         omexml.setLabelFillColor(colf, i, serie);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07129}07129                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07130}07130                     i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07131}07131                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07132}07132                 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07133}07133 \textcolor{comment}{                if (b.Buffers[0].Plane != null)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07134}07134 \textcolor{comment}{                    for (int bu = 0; bu < b.Buffers.Count; bu++)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07135}07135 \textcolor{comment}{                    \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07136}07136 \textcolor{comment}{                        //Correct order of parameters.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07137}07137 \textcolor{comment}{                        if (b.Buffers[bu].Plane.Delta != 0)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07138}07138 \textcolor{comment}{                        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07139}07139 \textcolor{comment}{                            ome.units.quantity.Time t = new ome.units.quantity.Time(java.lang.Double.valueOf(b.Buffers[bu].Plane.Delta), ome.units.UNITS.MILLISECOND);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07140}07140 \textcolor{comment}{                            omexml.setPlaneDeltaT(t, bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07141}07141 \textcolor{comment}{                        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07142}07142 \textcolor{comment}{                        if (b.Buffers[bu].Plane.Exposure != 0)}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07143}07143 \textcolor{comment}{                        \{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07144}07144 \textcolor{comment}{                            ome.units.quantity.Time et = new ome.units.quantity.Time(java.lang.Double.valueOf(b.Buffers[bu].Plane.Exposure), ome.units.UNITS.MILLISECOND);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07145}07145 \textcolor{comment}{                            omexml.setPlaneExposureTime(et, bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07146}07146 \textcolor{comment}{                        \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07147}07147 \textcolor{comment}{                        ome.units.quantity.Length lx = new ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.X), ome.units.UNITS.MICROMETER);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07148}07148 \textcolor{comment}{                        ome.units.quantity.Length ly = new ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.Y), ome.units.UNITS.MICROMETER);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07149}07149 \textcolor{comment}{                        ome.units.quantity.Length lz = new ome.units.quantity.Length(java.lang.Double.valueOf(b.Buffers[bu].Plane.Location.Z), ome.units.UNITS.MICROMETER);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07150}07150 \textcolor{comment}{                        omexml.setPlanePositionX(lx, bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07151}07151 \textcolor{comment}{                        omexml.setPlanePositionY(ly, bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07152}07152 \textcolor{comment}{                        omexml.setPlanePositionZ(lz, bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07153}07153 \textcolor{comment}{                        omexml.setPlaneTheC(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.C)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07154}07154 \textcolor{comment}{                        omexml.setPlaneTheZ(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.Z)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07155}07155 \textcolor{comment}{                        omexml.setPlaneTheT(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.T)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07156}07156 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07157}07157 \textcolor{comment}{                        omexml.setTiffDataPlaneCount(new NonNegativeInteger(java.lang.Integer.valueOf(1)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07158}07158 \textcolor{comment}{                        omexml.setTiffDataIFD(new NonNegativeInteger(java.lang.Integer.valueOf(bu)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07159}07159 \textcolor{comment}{                        omexml.setTiffDataFirstC(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.C)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07160}07160 \textcolor{comment}{                        omexml.setTiffDataFirstZ(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.Z)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07161}07161 \textcolor{comment}{                        omexml.setTiffDataFirstT(new NonNegativeInteger(java.lang.Integer.valueOf(b.Buffers[bu].Plane.Coordinate.T)), bu, serie);}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07162}07162 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07163}07163 \textcolor{comment}{                    \}}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07164}07164 \textcolor{comment}{                */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07165}07165                 s++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07166}07166             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07167}07167             writer.setMetadataRetrieve(omexml);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07168}07168             file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07169}07169             writer.setId(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07170}07170             writer.setCompression(compression);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07171}07171             s = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07172}07172             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{double} px \textcolor{keywordflow}{in} bis.Keys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07173}07173             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07174}07174                 writer.setSeries(s);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07175}07175                 PointD p = \textcolor{keyword}{new} PointD(max[px].X -\/ min[px].X, max[px].Y -\/ min[px].Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07176}07176                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < bis[px].Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07177}07177                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07178}07178                     BioImage b = bis[px][i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07179}07179                     writer.setTileSizeX(b.SizeX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07180}07180                     writer.setTileSizeY(b.SizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07181}07181                     \textcolor{keywordtype}{double} dx = Math.Ceiling((bis[px][i].StageSizeX -\/ min[px].X) / bis[px][i].Resolutions[bis[px][i].Resolution].VolumeWidth);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07182}07182                     \textcolor{keywordtype}{double} dy = Math.Ceiling((bis[px][i].StageSizeY -\/ min[px].Y) / bis[px][i].Resolutions[bis[px][i].Resolution].VolumeHeight);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07183}07183                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bu = 0; bu < b.Buffers.Count; bu++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07184}07184                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07185}07185                         \textcolor{keywordtype}{byte}[] bt = b.Buffers[bu].GetSaveBytes(BitConverter.IsLittleEndian);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07186}07186                         writer.saveBytes(bu, bt, (\textcolor{keywordtype}{int})dx * b.SizeX, (\textcolor{keywordtype}{int})dy * b.SizeY, b.SizeX, b.SizeY);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07187}07187                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07188}07188                     progress = (int)((\textcolor{keywordtype}{float})i / bis[px].Count)*100;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07189}07189                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07190}07190             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07191}07191             \textcolor{keywordtype}{bool} stop = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07192}07192             \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07193}07193             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07194}07194                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07195}07195                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07196}07196                     writer.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07197}07197                     stop = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07198}07198                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07199}07199                 \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07200}07200                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07201}07201                     Console.WriteLine(e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07202}07202                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07203}07203             \} \textcolor{keywordflow}{while} (!stop);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07204}07204         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07216}07216         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{int} GetBands(PixelFormat format)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07217}07217         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07218}07218             \textcolor{keywordflow}{switch} (format)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07219}07219             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07220}07220                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format8bppIndexed: \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07221}07221                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format16bppGrayScale: \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07222}07222                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format24bppRgb: \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07223}07223                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format32bppArgb:}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07224}07224                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format32bppPArgb:}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07225}07225                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format32bppRgb:}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07226}07226                     \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07227}07227                 \textcolor{keywordflow}{case} AForge.PixelFormat.Format48bppRgb:}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07228}07228                     \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07229}07229                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07230}07230                     \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException(\$\textcolor{stringliteral}{"{}Unsupported pixel format: \{format\}"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07231}07231             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07232}07232         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07243}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a8b4ee308c1ea43cb385cc1ecc8ff837e}{07243}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a8b4ee308c1ea43cb385cc1ecc8ff837e}{SaveOMEPyramidal}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bms, \textcolor{keywordtype}{string} file, Enums.ForeignTiffCompression compression, \textcolor{keywordtype}{int} compressionLevel)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07244}07244         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07245}07245             \textcolor{keywordflow}{if} (File.Exists(file))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07246}07246                 File.Delete(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07247}07247             \textcolor{comment}{//We need to go through the images and find the ones belonging to each resolution.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07248}07248             \textcolor{comment}{//As well we need to determine the dimensions of the tiles.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07249}07249             Dictionary<double, List<BioImage>> bis = \textcolor{keyword}{new} Dictionary<double, List<BioImage>>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07250}07250             Dictionary<double, Point3D> min = \textcolor{keyword}{new} Dictionary<double, Point3D>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07251}07251             Dictionary<double, Point3D> max = \textcolor{keyword}{new} Dictionary<double, Point3D>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07252}07252             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < bms.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07253}07253             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07254}07254                 \mbox{\hyperlink{struct_bio_lib_1_1_resolution}{Resolution}} res = bms[i].Resolutions[bms[i].Resolution];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07255}07255                 \textcolor{keywordflow}{if} (bis.ContainsKey(res.PhysicalSizeX))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07256}07256                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07257}07257                     bis[res.PhysicalSizeX].Add(bms[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07258}07258                     \textcolor{keywordflow}{if} (bms[i].StageSizeX < min[res.PhysicalSizeX].X || bms[i].StageSizeY < min[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07259}07259                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07260}07260                         min[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07261}07261                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07262}07262                     \textcolor{keywordflow}{if} (bms[i].StageSizeX > max[res.PhysicalSizeX].X || bms[i].StageSizeY > max[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07263}07263                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07264}07264                         max[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07265}07265                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07266}07266                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07267}07267                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07268}07268                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07269}07269                     bis.Add(res.PhysicalSizeX, \textcolor{keyword}{new} List<BioImage>());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07270}07270                     min.Add(res.PhysicalSizeX, \textcolor{keyword}{new} Point3D(\textcolor{keywordtype}{double}.MaxValue, \textcolor{keywordtype}{double}.MaxValue, \textcolor{keywordtype}{double}.MaxValue));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07271}07271                     max.Add(res.PhysicalSizeX, \textcolor{keyword}{new} Point3D(\textcolor{keywordtype}{double}.MinValue, \textcolor{keywordtype}{double}.MinValue, \textcolor{keywordtype}{double}.MinValue));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07272}07272                     \textcolor{keywordflow}{if} (bms[i].StageSizeX < min[res.PhysicalSizeX].X || bms[i].StageSizeY < min[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07273}07273                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07274}07274                         min[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07275}07275                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07276}07276                     \textcolor{keywordflow}{if} (bms[i].StageSizeX > max[res.PhysicalSizeX].X || bms[i].StageSizeY > max[res.PhysicalSizeX].Y)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07277}07277                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07278}07278                         max[res.PhysicalSizeX] = bms[i].Volume.Location;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07279}07279                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07280}07280                     bis[res.PhysicalSizeX].Add(bms[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07281}07281                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07282}07282             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07283}07283             \textcolor{keywordtype}{int} s = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07284}07284             \textcolor{comment}{//We determine the sizes of each resolution.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07285}07285             Dictionary<double, AForge.Size> ss = \textcolor{keyword}{new} Dictionary<double, AForge.Size>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07286}07286             \textcolor{keywordtype}{int} minx = \textcolor{keywordtype}{int}.MaxValue;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07287}07287             \textcolor{keywordtype}{int} miny = \textcolor{keywordtype}{int}.MaxValue;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07288}07288             \textcolor{keywordtype}{double} last = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07289}07289             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{double} px \textcolor{keywordflow}{in} bis.Keys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07290}07290             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07291}07291                 \textcolor{keywordtype}{int} xs = (1 + (int)Math.Ceiling((max[px].X -\/ min[px].X) / bis[px][0].Resolutions[0].VolumeWidth)) * bis[px][0].SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07292}07292                 \textcolor{keywordtype}{int} ys = (1 + (int)Math.Ceiling((max[px].Y -\/ min[px].Y) / bis[px][0].Resolutions[0].VolumeHeight)) * bis[px][0].SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07293}07293                 \textcolor{keywordflow}{if} (minx > xs)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07294}07294                     minx = xs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07295}07295                 \textcolor{keywordflow}{if} (miny > ys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07296}07296                     miny = ys;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07297}07297                 ss.Add(px, \textcolor{keyword}{new} AForge.Size(xs, ys));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07298}07298                 last = px;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07299}07299             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07300}07300             s = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07301}07301             \textcolor{keywordtype}{string} met = \textcolor{stringliteral}{"{}<?xml version=\(\backslash\)"{}1.0\(\backslash\)"{} encoding=\(\backslash\)"{}UTF-\/8\(\backslash\)"{} standalone=\(\backslash\)"{}no\(\backslash\)"{}?>"{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07302}07302                 \textcolor{stringliteral}{"{}<OME xmlns=\(\backslash\)"{}http://www.openmicroscopy.org/Schemas/OME/2016-\/06\(\backslash\)"{} "{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07303}07303                 \textcolor{stringliteral}{"{}xmlns:xsi=\(\backslash\)"{}http://www.w3.org/2001/XMLSchema-\/instance\(\backslash\)"{} "{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07304}07304                 \textcolor{stringliteral}{"{}xsi:schemaLocation=\(\backslash\)"{}http://www.openmicroscopy.org/Schemas/OME/2016-\/06 http://www.openmicroscopy.org/Schemas/OME/2016-\/06/ome.xsd\(\backslash\)"{}>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07305}07305             NetVips.Image img = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07306}07306             \textcolor{keywordtype}{int} ib = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07307}07307 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07308}07308             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{double} px \textcolor{keywordflow}{in} bis.Keys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07309}07309             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07310}07310                 \textcolor{keywordtype}{int} c = bis[px][s].SizeC;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07311}07311                 \textcolor{keywordflow}{if} (bis[px][s].Buffers[0].isRGB)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07312}07312                     c = 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07313}07313                 \textcolor{keywordtype}{string} endian = (bis[px][s].Buffers[0].LittleEndian).\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a46b27bfab51f5ddc76e51a6cf1d70983}{ToString}}().ToLower();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07314}07314                 met +=}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07315}07315                 \textcolor{stringliteral}{"{}<Image ID=\(\backslash\)"{}Image:"{}} + ib + \textcolor{stringliteral}{"{}\(\backslash\)"{}>"{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07316}07316                 \textcolor{stringliteral}{"{}<Pixels BigEndian=\(\backslash\)"{}"{}} + endian + \textcolor{stringliteral}{"{}\(\backslash\)"{} DimensionOrder= \(\backslash\)"{}XYCZT\(\backslash\)"{} ID= \(\backslash\)"{}Pixels:0\(\backslash\)"{} Interleaved=\(\backslash\)"{}true\(\backslash\)"{} "{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07317}07317                 \textcolor{stringliteral}{"{}PhysicalSizeX=\(\backslash\)"{}"{}} + bis[px][s].PhysicalSizeX + \textcolor{stringliteral}{"{}\(\backslash\)"{} PhysicalSizeXUnit=\(\backslash\)"{}m\(\backslash\)"{} PhysicalSizeY=\(\backslash\)"{}"{}} + bis[px][s].PhysicalSizeY + \textcolor{stringliteral}{"{}\(\backslash\)"{} PhysicalSizeYUnit=\(\backslash\)"{}m\(\backslash\)"{} SignificantBits=\(\backslash\)"{}"{}} + bis[px][s].bitsPerPixel + \textcolor{stringliteral}{"{}\(\backslash\)"{} "{}} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07318}07318                 \textcolor{stringliteral}{"{}SizeC = \(\backslash\)"{}"{}} + c + \textcolor{stringliteral}{"{}\(\backslash\)"{} SizeT = \(\backslash\)"{}"{}} + bis[px][s].SizeT + \textcolor{stringliteral}{"{}\(\backslash\)"{} SizeX =\(\backslash\)"{}"{}} + ss[px].Width +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07319}07319                 \textcolor{stringliteral}{"{}\(\backslash\)"{} SizeY= \(\backslash\)"{}"{}} + ss[px].Height + \textcolor{stringliteral}{"{}\(\backslash\)"{} SizeZ=\(\backslash\)"{}"{}} + bis[px][s].SizeZ;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07320}07320                 \textcolor{keywordflow}{if} (bis[px][s].bitsPerPixel > 8) met += \textcolor{stringliteral}{"{}\(\backslash\)"{} Type= \(\backslash\)"{}uint16\(\backslash\)"{}>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07321}07321                 \textcolor{keywordflow}{else} met += \textcolor{stringliteral}{"{}\(\backslash\)"{} Type= \(\backslash\)"{}uint8\(\backslash\)"{}>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07322}07322                 \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07323}07323                 \textcolor{keywordflow}{foreach} (Channel ch \textcolor{keywordflow}{in} bis[px][s].Channels)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07324}07324                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07325}07325                     met += \textcolor{stringliteral}{"{}<Channel ID=\(\backslash\)"{}Channel:"{}} + ib + \textcolor{stringliteral}{"{}:"{}} + i + \textcolor{stringliteral}{"{}\(\backslash\)"{} SamplesPerPixel=\(\backslash\)"{}1\(\backslash\)"{}></Channel>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07326}07326                     i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07327}07327                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07328}07328                 met += \textcolor{stringliteral}{"{}</Pixels></Image>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07329}07329                 ib++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07330}07330             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07331}07331             met += \textcolor{stringliteral}{"{}</OME>"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07332}07332             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{double} px \textcolor{keywordflow}{in} bis.Keys)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07333}07333             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07334}07334                 PixelFormat pf = bis[px][0].Buffers[0].PixelFormat;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07335}07335                 Bitmap level = \textcolor{keyword}{new} Bitmap(ss[px].Width, ss[px].Height, pf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07336}07336                 \textcolor{keywordtype}{int} bands = GetBands(pf);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07337}07337                 \textcolor{keywordflow}{if} (bis[px][0].bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07338}07338                     img = NetVips.Image.NewFromMemory(level.Data, (ulong)level.Length, level.Width, level.Height, bands, Enums.BandFormat.Ushort);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07339}07339                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07340}07340                     img = NetVips.Image.NewFromMemory(level.Data, (ulong)level.Length, level.Width, level.Height, bands, Enums.BandFormat.Uchar);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07341}07341                 \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07342}07342                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b \textcolor{keywordflow}{in} bis[px])}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07343}07343                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07344}07344                     AForge.Size si = ss[px];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07345}07345                     \textcolor{keywordtype}{double} xs = (-\/(min[px].X -\/ bis[px][i].Volume.Location.X) / bis[px][i].Resolutions[0].VolumeWidth) * bis[px][i].SizeX;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07346}07346                     \textcolor{keywordtype}{double} ys = (-\/(min[px].Y -\/ bis[px][i].Volume.Location.Y) / bis[px][i].Resolutions[0].VolumeHeight) * bis[px][i].SizeY;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07347}07347                     NetVips.Image tile;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07348}07348                     \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07349}07349                         tile = NetVips.Image.NewFromMemory(bis[px][i].Buffers[0].Data, (ulong)bis[px][i].Buffers[0].Length, bis[px][i].Buffers[0].Width, bis[px][i].Buffers[0].Height, bands, Enums.BandFormat.Ushort);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07350}07350                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07351}07351                         tile = NetVips.Image.NewFromMemory(bis[px][i].Buffers[0].Data, (ulong)bis[px][i].Buffers[0].Length, bis[px][i].Buffers[0].Width, bis[px][i].Buffers[0].Height, bands, Enums.BandFormat.Uchar);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07352}07352                     img = img.Insert(tile, (\textcolor{keywordtype}{int})xs, (int)ys);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07353}07353                     i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07354}07354                 \};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07355}07355                 \textcolor{keyword}{using }var mutated = img.Mutate(\textcolor{keyword}{mutable} =>}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07356}07356                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07357}07357                     \textcolor{comment}{// Set the ImageDescription tag}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07358}07358                     \textcolor{keyword}{mutable}.Set(GValue.GStrType, \textcolor{stringliteral}{"{}image-\/description"{}}, met);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07359}07359                     \textcolor{keyword}{mutable}.Set(GValue.GIntType, \textcolor{stringliteral}{"{}page-\/height"{}}, ss[last].Height);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07360}07360                 \});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07361}07361                 \textcolor{keywordflow}{if} (bis[px][0].bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07362}07362                     mutated.Tiffsave(file, compression, 1, Enums.ForeignTiffPredictor.None, \textcolor{keyword}{null}, \textcolor{keyword}{true}, ss[px].Width, ss[px].Height, \textcolor{keyword}{true}, \textcolor{keyword}{false}, 16,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07363}07363                     Enums.ForeignTiffResunit.Cm, 1000 * bis[px][0].PhysicalSizeX, 1000 * bis[px][0].PhysicalSizeY, \textcolor{keyword}{true}, \textcolor{keyword}{null}, Enums.RegionShrink.Nearest,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07364}07364                     compressionLevel, \textcolor{keyword}{true}, Enums.ForeignDzDepth.One, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{null}, \textcolor{keyword}{null}, ss[px].Height);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07365}07365                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07366}07366                     mutated.Tiffsave(file, compression, 1, Enums.ForeignTiffPredictor.None, \textcolor{keyword}{null}, \textcolor{keyword}{true}, ss[px].Width, ss[px].Height, \textcolor{keyword}{true}, \textcolor{keyword}{false}, 8,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07367}07367                     Enums.ForeignTiffResunit.Cm, 1000 * bis[px][0].PhysicalSizeX, 1000 * bis[px][0].PhysicalSizeY, \textcolor{keyword}{true}, \textcolor{keyword}{null}, Enums.RegionShrink.Nearest,}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07368}07368                     compressionLevel, \textcolor{keyword}{true}, Enums.ForeignDzDepth.One, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{null}, \textcolor{keyword}{null}, ss[px].Height);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07369}07369                 s++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07370}07370             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07371}07371 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07372}07372         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07373}07373 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07383}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{07383}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa484c8e1eec04537e72f34cd7554046c}{StackThreshold}}(\textcolor{keywordtype}{bool} bit16)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07384}07384         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07385}07385             \textcolor{keywordflow}{if} (bit16)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07386}07386             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07387}07387                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < Channels.Count; ch++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07388}07388                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07389}07389                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[ch].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07390}07390                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07391}07391                         Channels[ch].range[i].Min = (int)Channels[ch].stats[i].StackMin;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07392}07392                         Channels[ch].range[i].Max = (int)Channels[ch].stats[i].StackMax;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07393}07393                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07394}07394                     Channels[ch].BitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07395}07395                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07396}07396                 bitsPerPixel = 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07397}07397             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07398}07398             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07399}07399             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07400}07400                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < Channels.Count; ch++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07401}07401                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07402}07402                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels[ch].range.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07403}07403                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07404}07404                         Channels[ch].range[i].Min = (int)Channels[ch].stats[i].StackMin;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07405}07405                         Channels[ch].range[i].Max = (int)Channels[ch].stats[i].StackMax;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07406}07406                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07407}07407                     Channels[ch].BitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07408}07408                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07409}07409                 bitsPerPixel = 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07410}07410             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07411}07411         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07412}07412 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07421}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5100ffee874ca29bbc164810275c146}{07421}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5100ffee874ca29bbc164810275c146}{GetBitsPerPixel}}(\textcolor{keywordtype}{int} bt)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07422}07422         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07423}07423             \textcolor{keywordflow}{if} (bt <= 255)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07424}07424                 \textcolor{keywordflow}{return} 8;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07425}07425             \textcolor{keywordflow}{if} (bt <= 512)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07426}07426                 \textcolor{keywordflow}{return} 9;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07427}07427             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 1023)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07428}07428                 \textcolor{keywordflow}{return} 10;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07429}07429             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 2047)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07430}07430                 \textcolor{keywordflow}{return} 11;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07431}07431             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 4095)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07432}07432                 \textcolor{keywordflow}{return} 12;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07433}07433             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 8191)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07434}07434                 \textcolor{keywordflow}{return} 13;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07435}07435             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 16383)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07436}07436                 \textcolor{keywordflow}{return} 14;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07437}07437             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt <= 32767)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07438}07438                 \textcolor{keywordflow}{return} 15;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07439}07439             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07440}07440                 \textcolor{keywordflow}{return} 16;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07441}07441         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07442}07442 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07450}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1a656542fbd8feccdbd7cb9b8aca7e71}{07450}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1a656542fbd8feccdbd7cb9b8aca7e71}{GetBitMaxValue}}(\textcolor{keywordtype}{int} bt)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07451}07451         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07452}07452             \textcolor{keywordflow}{if} (bt == 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07453}07453                 \textcolor{keywordflow}{return} 255;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07454}07454             \textcolor{keywordflow}{if} (bt == 9)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07455}07455                 \textcolor{keywordflow}{return} 512;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07456}07456             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 10)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07457}07457                 \textcolor{keywordflow}{return} 1023;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07458}07458             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 11)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07459}07459                 \textcolor{keywordflow}{return} 2047;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07460}07460             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 12)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07461}07461                 \textcolor{keywordflow}{return} 4095;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07462}07462             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 13)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07463}07463                 \textcolor{keywordflow}{return} 8191;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07464}07464             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 14)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07465}07465                 \textcolor{keywordflow}{return} 16383;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07466}07466             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bt == 15)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07467}07467                 \textcolor{keywordflow}{return} 32767;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07468}07468             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07469}07469                 \textcolor{keywordflow}{return} 65535;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07470}07470         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07471}07471 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07484}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{07484}}         \textcolor{keyword}{public} \textcolor{keyword}{static} PixelFormat \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a4e94761f4b2be4fc0bf74be45353598d}{GetPixelFormat}}(\textcolor{keywordtype}{int} rgbChannelCount, \textcolor{keywordtype}{int} bitsPerPixel)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07485}07485         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07486}07486             \textcolor{keywordflow}{if} (bitsPerPixel == 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07487}07487             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07488}07488                 \textcolor{keywordflow}{if} (rgbChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07489}07489                     \textcolor{keywordflow}{return} PixelFormat.Format8bppIndexed;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07490}07490                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rgbChannelCount == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07491}07491                     \textcolor{keywordflow}{return} PixelFormat.Format24bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07492}07492                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rgbChannelCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07493}07493                     \textcolor{keywordflow}{return} PixelFormat.Format32bppArgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07494}07494             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07495}07495             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07496}07496             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07497}07497                 \textcolor{keywordflow}{if} (rgbChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07498}07498                     \textcolor{keywordflow}{return} PixelFormat.Format16bppGrayScale;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07499}07499                 \textcolor{keywordflow}{if} (rgbChannelCount == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07500}07500                     \textcolor{keywordflow}{return} PixelFormat.Format48bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07501}07501             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07502}07502             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException(\textcolor{stringliteral}{"{}Not supported pixel format."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07503}07503         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07517}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa4923dd1886a7b52c6e07744147a79dc}{07517}}         \textcolor{keyword}{public} \textcolor{keyword}{static} PixelFormat \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa4923dd1886a7b52c6e07744147a79dc}{GetPixelFormat}}(\textcolor{keywordtype}{int} rgbChannelCount, ome.xml.model.enums.PixelType px)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07518}07518         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07519}07519             \textcolor{keywordflow}{if} (rgbChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07520}07520             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07521}07521                 \textcolor{keywordflow}{if} (px == ome.xml.model.enums.PixelType.INT8 || px == ome.xml.model.enums.PixelType.UINT8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07522}07522                     \textcolor{keywordflow}{return} PixelFormat.Format8bppIndexed;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07523}07523                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (px == ome.xml.model.enums.PixelType.INT16 || px == ome.xml.model.enums.PixelType.UINT16)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07524}07524                     \textcolor{keywordflow}{return} PixelFormat.Format16bppGrayScale;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07525}07525             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07526}07526             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07527}07527             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07528}07528                 \textcolor{keywordflow}{if} (px == ome.xml.model.enums.PixelType.INT8 || px == ome.xml.model.enums.PixelType.UINT8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07529}07529                     \textcolor{keywordflow}{return} PixelFormat.Format24bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07530}07530                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (px == ome.xml.model.enums.PixelType.INT16 || px == ome.xml.model.enums.PixelType.UINT16)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07531}07531                     \textcolor{keywordflow}{return} PixelFormat.Format48bppRgb;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07532}07532             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07533}07533             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException(\textcolor{stringliteral}{"{}Not supported pixel format."{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07534}07534         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07535}07535 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07551}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_acbaf3a1430425b5ffb01bdfd878c5fd3}{07551}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acbaf3a1430425b5ffb01bdfd878c5fd3}{OpenOMESeries}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{bool} tab, \textcolor{keywordtype}{bool} addToImages)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07552}07552         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07553}07553             \textcolor{comment}{//We wait incase OME has not initialized yet.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07554}07554             \textcolor{keywordflow}{if} (!initialized)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07555}07555                 \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07556}07556                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07557}07557                     Thread.Sleep(100);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07558}07558                     \textcolor{comment}{//Application.DoEvents();}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07559}07559                 \} \textcolor{keywordflow}{while} (!Initialized);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07560}07560             var meta = (IMetadata)((OMEXMLService)\textcolor{keyword}{new} ServiceFactory().getInstance(typeof(OMEXMLService))).createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07561}07561             reader.setMetadataStore((MetadataStore)meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07562}07562             file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07563}07563             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07564}07564             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07565}07565                 \textcolor{keywordflow}{if} (reader.getCurrentFile() != file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07566}07566                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07567}07567                     status = \textcolor{stringliteral}{"{}Opening OME Image."{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07568}07568                     file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07569}07569                     reader.setId(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07570}07570                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07571}07571             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07572}07572             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07573}07573             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07574}07574                 Console.WriteLine(e.Message);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07575}07575                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07576}07576             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07577}07577 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07578}07578             \textcolor{keywordtype}{bool} tile = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07579}07579             \textcolor{keywordflow}{if} (reader.getOptimalTileWidth() != reader.getSizeX())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07580}07580                 tile = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07581}07581             \textcolor{keywordtype}{int} count = reader.getSeriesCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07582}07582             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bs = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07583}07583             \textcolor{keywordflow}{if} (tile)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07584}07584             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07585}07585                 bs = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[1];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07586}07586                 bs[0] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(file, 0, tab, addToImages, \textcolor{keyword}{true}, 0, 0, 1920, 1080);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07587}07587                 bs[0].isPyramidal = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07588}07588                 Images.AddImage(bs[0], tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07589}07589                 \textcolor{keywordflow}{return} bs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07590}07590             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07591}07591             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07592}07592                 bs = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[count];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07593}07593             reader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07594}07594             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07595}07595             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07596}07596                 bs[i] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(file, i, tab, addToImages, \textcolor{keyword}{false}, 0, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07597}07597                 \textcolor{keywordflow}{if} (bs[i] == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07598}07598                     \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07599}07599             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07600}07600             \textcolor{keywordflow}{return} bs;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07601}07601         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07602}07602 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07608}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a218d41dbefd44104b9bbe972c85d46ce}{07608}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a218d41dbefd44104b9bbe972c85d46ce}{OpenAsync}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07609}07609         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07610}07610             Thread t = \textcolor{keyword}{new} Thread(OpenThread);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07611}07611             t.Name = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07612}07612             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07613}07613         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07614}07614 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07621}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a8a501db39ef0ea0984a46d2663a82a}{07621}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a8a501db39ef0ea0984a46d2663a82a}{OpenAsync}}(\textcolor{keywordtype}{string}[] files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07622}07622         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07623}07623             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} file \textcolor{keywordflow}{in} files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07624}07624             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07625}07625                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a218d41dbefd44104b9bbe972c85d46ce}{OpenAsync}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07626}07626             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07627}07627         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07628}07628 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07635}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a9451a880098a4ca72a96b2c4587614}{07635}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a9a9451a880098a4ca72a96b2c4587614}{AddAsync}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07636}07636         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07637}07637             Thread t = \textcolor{keyword}{new} Thread(OpenThread);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07638}07638             t.Name = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07639}07639             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07640}07640         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07641}07641 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07647}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af7fd4ba22fd606ee218ec6a9e3fdfcc3}{07647}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af7fd4ba22fd606ee218ec6a9e3fdfcc3}{AddAsync}}(\textcolor{keywordtype}{string}[] files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07648}07648         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07649}07649             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} file \textcolor{keywordflow}{in} files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07650}07650             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07651}07651                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a218d41dbefd44104b9bbe972c85d46ce}{OpenAsync}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07652}07652             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07653}07653         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07654}07654 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07660}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5f6e92d0fe21b2c7882d13646f0e5db}{07660}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5f6e92d0fe21b2c7882d13646f0e5db}{Open}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07661}07661         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07662}07662             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07663}07663         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07664}07664 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07670}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5369673313e80a7624b3f988f07eea17}{07670}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a5369673313e80a7624b3f988f07eea17}{Open}}(\textcolor{keywordtype}{string}[] files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07671}07671         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07672}07672             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} file \textcolor{keywordflow}{in} files)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07673}07673             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07674}07674                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af5f6e92d0fe21b2c7882d13646f0e5db}{Open}}(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07675}07675             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07676}07676         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07677}07677 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07691}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac8c2c28b1ee8c2678900dc269e063546}{07691}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac8c2c28b1ee8c2678900dc269e063546}{ImagesToStack}}(\textcolor{keywordtype}{string}[] files, \textcolor{keywordtype}{bool} tab)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07692}07692         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07693}07693             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[] bs = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}[files.Length];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07694}07694             \textcolor{keywordtype}{int} z = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07695}07695             \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07696}07696             \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07697}07697             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < files.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07698}07698             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07699}07699                 \textcolor{keywordtype}{string} str = Path.GetFileNameWithoutExtension(files[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07700}07700                 str = str.Replace(\textcolor{stringliteral}{"{}.ome"{}}, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07701}07701                 \textcolor{keywordtype}{string}[] st = str.Split(\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07702}07702                 \textcolor{keywordflow}{if} (st.Length > 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07703}07703                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07704}07704                     z = \textcolor{keywordtype}{int}.Parse(st[1].Replace(\textcolor{stringliteral}{"{}Z"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07705}07705                     c = \textcolor{keywordtype}{int}.Parse(st[2].Replace(\textcolor{stringliteral}{"{}C"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07706}07706                     t = \textcolor{keywordtype}{int}.Parse(st[3].Replace(\textcolor{stringliteral}{"{}T"{}}, \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07707}07707                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07708}07708                 \textcolor{keywordflow}{if} (i == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07709}07709                     bs[0] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}}(files[i], tab);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07710}07710                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07711}07711                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07712}07712                     bs[i] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(files[i], 0, tab, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07713}07713                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07714}07714             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07715}07715             \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b = \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}}.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ac6abc9f77df241d78612b3a79563475b}{CopyInfo}}(bs[0], \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07716}07716             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < files.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07717}07717             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07718}07718                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bc = 0; bc < bs[i].Buffers.Count; bc++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07719}07719                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07720}07720                     b.Buffers.Add(bs[i].Buffers[bc]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07721}07721                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07722}07722             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07723}07723             b.\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a321eb92615dc029875c49746b48dcd18}{UpdateCoords}}(z + 1, c + 1, t + 1);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07724}07724             b.Volume = \textcolor{keyword}{new} VolumeD(bs[0].Volume.Location, \textcolor{keyword}{new} Point3D(bs[0].SizeX * bs[0].PhysicalSizeX, bs[0].SizeY * bs[0].PhysicalSizeY, (z + 1) * bs[0].PhysicalSizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07725}07725             \textcolor{keywordflow}{return} b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07726}07726         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07734}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad83eb85b0ff068a12c0bea3f6c7de9cb}{07734}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ad83eb85b0ff068a12c0bea3f6c7de9cb}{Update}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07735}07735         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07736}07736             b = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(b.file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07737}07737         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07740}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a76239b6b9b3c540c5cfd72e7fb7675ce}{07740}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a76239b6b9b3c540c5cfd72e7fb7675ce}{Update}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07741}07741         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07742}07742             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a76239b6b9b3c540c5cfd72e7fb7675ce}{Update}}(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07743}07743         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07744}07744         \textcolor{comment}{/* Creating a list of strings called openfile. */}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07745}07745         \textcolor{keyword}{private} \textcolor{keyword}{static} List<string> openfile = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07749}07749         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} OpenThread()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07750}07750         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07751}07751             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(Thread.CurrentThread.Name);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07752}07752         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07756}07756         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} AddThread()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07757}07757         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07758}07758             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0b4596d690f6d8c9bc38580b15ce8de5}{OpenFile}}(Thread.CurrentThread.Name, \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07759}07759         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07760}07760 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07769}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7f729299c6581a3ef98fb0ee1bd60d41}{07769}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7f729299c6581a3ef98fb0ee1bd60d41}{SaveAsync}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07770}07770         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07771}07771             saveid.Add(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07772}07772             savefile.Add(ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07773}07773             Thread t = \textcolor{keyword}{new} Thread(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a50f4eb5c50c82f55fc60dce341e42773}{Save}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07774}07774             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07775}07775         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07783}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a50f4eb5c50c82f55fc60dce341e42773}{07783}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a50f4eb5c50c82f55fc60dce341e42773}{Save}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07784}07784         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07785}07785             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a17a9dfbe050b1f6b8ea90e48d62bff0c}{SaveFile}}(file, ID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07786}07786         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07787}07787         \textcolor{keyword}{private} \textcolor{keyword}{static} List<string> savefile = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07788}07788         \textcolor{keyword}{private} \textcolor{keyword}{static} List<string> saveid = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07793}07793         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} Save()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07794}07794         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07795}07795             List<string> sts = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07796}07796             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < savefile.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07797}07797             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07798}07798                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a7f729299c6581a3ef98fb0ee1bd60d41}{SaveAsync}}(savefile[i], saveid[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07799}07799                 sts.Add(savefile[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07800}07800             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07801}07801             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sts.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07802}07802             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07803}07803                 savefile.Remove(sts[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07804}07804                 saveid.Remove(sts[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07805}07805             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07806}07806         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07807}07807 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07808}07808         \textcolor{keyword}{private} \textcolor{keyword}{static} List<string> openOMEfile = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07819}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a37e8a27dd6aaac208163ddf6933d637e}{07819}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a37e8a27dd6aaac208163ddf6933d637e}{OpenOMEThread}}(\textcolor{keywordtype}{string}[] file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07820}07820         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07821}07821             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07822}07822                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07823}07823             openOMEfile.AddRange(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07824}07824             Thread t = \textcolor{keyword}{new} Thread(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a69033204d904c06f11952bbef3228977}{OpenOME}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07825}07825             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07826}07826         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07835}07835         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} OpenOME()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07836}07836         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07837}07837             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07838}07838                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07839}07839             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} f \textcolor{keywordflow}{in} openOMEfile)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07840}07840             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07841}07841                 OpenOME(f, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07842}07842             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07843}07843             openOMEfile.Clear();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07844}07844         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07845}07845 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07859}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6530a5dc009d3133dcf97ec3c129ec89}{07859}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a6530a5dc009d3133dcf97ec3c129ec89}{SaveOMEThread}}(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{string} ID)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07860}07860         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07861}07861             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07862}07862                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07863}07863             saveOMEID = ID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07864}07864             saveOMEfile = file;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07865}07865             Thread t = \textcolor{keyword}{new} Thread(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a82f440ef5e46f4006148a51515f9df82}{SaveOME}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07866}07866             t.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07867}07867         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07868}07868         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{string} saveOMEfile;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07869}07869         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{string} saveOMEID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07870}07870 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07875}07875         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} SaveOME()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07876}07876         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07877}07877             SaveOME(saveOMEfile, saveOMEID);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07878}07878         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07879}07879         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} OmeSupport = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07880}07880         \textcolor{keyword}{static} \textcolor{keywordtype}{bool} supportDialog = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07890}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{07890}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07891}07891         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07892}07892             \textcolor{keywordtype}{bool} isMacOS = RuntimeInformation.IsOSPlatform(OSPlatform.OSX);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07893}07893             \textcolor{keywordflow}{if} (RuntimeInformation.OSArchitecture == Architecture.Arm64 \&\& isMacOS)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07894}07894             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07895}07895                 OmeSupport = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07896}07896                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07897}07897             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07898}07898             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07899}07899             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07900}07900                 OmeSupport = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07901}07901                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07902}07902             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07903}07903         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07904}07904         \textcolor{keyword}{static} NetVips.Image netim;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07915}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a51b8f8a482fa882cc88917b6e9d3eee3}{07915}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a51b8f8a482fa882cc88917b6e9d3eee3}{VipsSupport}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07916}07916         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07917}07917             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07918}07918             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07919}07919                 netim = NetVips.Image.Tiffload(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07920}07920                 Settings.AddSettings(\textcolor{stringliteral}{"{}VipsSupport"{}}, \textcolor{stringliteral}{"{}true"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07921}07921             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07922}07922             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07923}07923             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07924}07924                 Console.WriteLine(e.ToString());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07925}07925                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07926}07926             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07927}07927             netim.Close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07928}07928             netim.Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07929}07929             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07930}07930         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07931}07931         \textcolor{keyword}{private} \textcolor{keyword}{static} Stopwatch st = \textcolor{keyword}{new} Stopwatch();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07932}07932         \textcolor{keyword}{private} \textcolor{keyword}{static} ServiceFactory factory;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07933}07933         \textcolor{keyword}{private} \textcolor{keyword}{static} OMEXMLService service;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07934}07934         \textcolor{keyword}{private} \textcolor{keyword}{static} ImageReader reader;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07935}07935         \textcolor{keyword}{private} \textcolor{keyword}{static} ImageWriter writer;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07936}07936         \textcolor{keyword}{private} loci.formats.meta.IMetadata meta;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07937}07937 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07938}07938         \textcolor{comment}{//We use UNIX type line endings since they are supported by ImageJ \& Bio.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07939}07939         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{char} NewLine = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07940}07940         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{string} columns = \textcolor{stringliteral}{"{}ROIID,ROINAME,TYPE,ID,SHAPEINDEX,TEXT,S,C,Z,T,X,Y,W,H,POINTS,STROKECOLOR,STROKECOLORW,FILLCOLOR,FONTSIZE\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07941}07941 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07950}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1d657e6a06da2033f15bed33a408268f}{07950}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1d657e6a06da2033f15bed33a408268f}{OpenXML}}(\textcolor{keywordtype}{string} file)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07951}07951         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07952}07952             \textcolor{keywordflow}{if} (!file.EndsWith(\textcolor{stringliteral}{"{}.tif"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07953}07953                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07954}07954             Tiff image = Tiff.Open(file, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07955}07955             FieldValue[] f = image.GetField(TiffTag.IMAGEDESCRIPTION);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07956}07956             \textcolor{keywordflow}{return} f[0].ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07957}07957         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07958}07958 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07959}07959         \textcolor{keyword}{public} \textcolor{keyword}{static} List<ROI> OpenOMEROIs(\textcolor{keywordtype}{string} file, \textcolor{keywordtype}{int} series)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07960}07960         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07961}07961             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07962}07962                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07963}07963             List<ROI> Annotations = \textcolor{keyword}{new} List<ROI>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07964}07964             \textcolor{comment}{// create OME-\/XML metadata store}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07965}07965             ServiceFactory factory = \textcolor{keyword}{new} ServiceFactory();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07966}07966             OMEXMLService service = (OMEXMLService)factory.getInstance(typeof(OMEXMLService));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07967}07967             loci.formats.ome.OMEXMLMetadata meta = service.createOMEXMLMetadata();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07968}07968             \textcolor{comment}{// create format reader}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07969}07969             ImageReader imageReader = \textcolor{keyword}{new} ImageReader();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07970}07970             imageReader.setMetadataStore(meta);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07971}07971             \textcolor{comment}{// initialize file}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07972}07972             file = file.Replace(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07973}07973             imageReader.setId(file);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07974}07974             \textcolor{keywordtype}{int} imageCount = imageReader.getImageCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07975}07975             \textcolor{keywordtype}{int} seriesCount = imageReader.getSeriesCount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07976}07976             \textcolor{keywordtype}{double} physicalSizeX = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07977}07977             \textcolor{keywordtype}{double} physicalSizeY = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07978}07978             \textcolor{keywordtype}{double} physicalSizeZ = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07979}07979             \textcolor{keywordtype}{double} stageSizeX = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07980}07980             \textcolor{keywordtype}{double} stageSizeY = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07981}07981             \textcolor{keywordtype}{double} stageSizeZ = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07982}07982             \textcolor{keywordtype}{int} SizeX = imageReader.getSizeX();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07983}07983             \textcolor{keywordtype}{int} SizeY = imageReader.getSizeY();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07984}07984             \textcolor{keywordtype}{int} SizeZ = imageReader.getSizeY();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07985}07985             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07986}07986             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07987}07987                 \textcolor{keywordtype}{bool} hasPhysical = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07988}07988                 \textcolor{keywordflow}{if} (meta.getPixelsPhysicalSizeX(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07989}07989                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07990}07990                     physicalSizeX = meta.getPixelsPhysicalSizeX(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07991}07991                     hasPhysical = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07992}07992                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07993}07993                 \textcolor{keywordflow}{if} (meta.getPixelsPhysicalSizeY(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07994}07994                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07995}07995                     physicalSizeY = meta.getPixelsPhysicalSizeY(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07996}07996                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07997}07997                 \textcolor{keywordflow}{if} (meta.getPixelsPhysicalSizeZ(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07998}07998                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l07999}07999                     physicalSizeZ = meta.getPixelsPhysicalSizeZ(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08000}08000                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08001}08001                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08002}08002                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08003}08003                     physicalSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08004}08004                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08005}08005                 \textcolor{keywordflow}{if} (meta.getStageLabelX(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08006}08006                     stageSizeX = meta.getStageLabelX(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08007}08007                 \textcolor{keywordflow}{if} (meta.getStageLabelY(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08008}08008                     stageSizeY = meta.getStageLabelY(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08009}08009                 \textcolor{keywordflow}{if} (meta.getStageLabelZ(series) != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08010}08010                     stageSizeZ = meta.getStageLabelZ(series).value().doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08011}08011                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08012}08012                     stageSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08013}08013             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08014}08014             \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08015}08015             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08016}08016                 stageSizeX = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08017}08017                 stageSizeY = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08018}08018                 stageSizeZ = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08019}08019             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08020}08020             VolumeD volume = \textcolor{keyword}{new} VolumeD(\textcolor{keyword}{new} Point3D(stageSizeX, stageSizeY, stageSizeZ), \textcolor{keyword}{new} Point3D(physicalSizeX * SizeX, physicalSizeY * SizeY, physicalSizeZ * SizeZ));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08021}08021             \textcolor{keywordtype}{int} rc = meta.getROICount();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08022}08022             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im = 0; im < rc; im++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08023}08023             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08024}08024                 \textcolor{keywordtype}{string} roiID = meta.getROIID(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08025}08025                 \textcolor{keywordtype}{string} roiName = meta.getROIName(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08026}08026                 ZCT co = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08027}08027                 \textcolor{keywordtype}{int} scount = 1;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08028}08028                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08029}08029                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08030}08030                     scount = meta.getShapeCount(im);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08031}08031                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08032}08032                 \textcolor{keywordflow}{catch} (Exception e)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08033}08033                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08034}08034                     Console.WriteLine(e.Message.ToString());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08035}08035                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08036}08036                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} sc = 0; sc < scount; sc++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08037}08037                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08038}08038                     \textcolor{keywordtype}{string} type = meta.getShapeType(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08039}08039                     ROI an = \textcolor{keyword}{new} ROI();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08040}08040                     an.roiID = roiID;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08041}08041                     an.roiName = roiName;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08042}08042                     an.shapeIndex = sc;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08043}08043                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Point"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08044}08044                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08045}08045                         an.type = ROI.Type.Point;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08046}08046                         an.id = meta.getPointID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08047}08047                         \textcolor{keywordtype}{double} dx = meta.getPointX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08048}08048                         \textcolor{keywordtype}{double} dy = meta.getPointY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08049}08049                         an.AddPoint(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(\textcolor{keyword}{new} PointD(dx, dy), physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08050}08050                         an.coord = \textcolor{keyword}{new} ZCT();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08051}08051                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getPointTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08052}08052                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08053}08053                             an.coord.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08054}08054                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getPointTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08055}08055                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08056}08056                             an.coord.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08057}08057                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getPointTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08058}08058                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08059}08059                             an.coord.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08060}08060                         an.Text = meta.getPointText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08061}08061                         ome.units.quantity.Length fl = meta.getPointFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08062}08062                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08063}08063                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08064}08064                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08065}08065                         ome.xml.model.primitives.Color col = meta.getPointStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08066}08066                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08067}08067                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08068}08068                         ome.units.quantity.Length fw = meta.getPointStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08069}08069                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08070}08070                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08071}08071                         ome.xml.model.primitives.Color colf = meta.getPointStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08072}08072                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08073}08073                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08074}08074                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08075}08075                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08076}08076                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Line"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08077}08077                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08078}08078                         an.type = ROI.Type.Line;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08079}08079                         an.id = meta.getLineID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08080}08080                         \textcolor{keywordtype}{double} px1 = meta.getLineX1(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08081}08081                         \textcolor{keywordtype}{double} py1 = meta.getLineY1(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08082}08082                         \textcolor{keywordtype}{double} px2 = meta.getLineX2(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08083}08083                         \textcolor{keywordtype}{double} py2 = meta.getLineY2(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08084}08084                         an.AddPoint(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(\textcolor{keyword}{new} PointD(px1, py1), physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08085}08085                         an.AddPoint(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(\textcolor{keyword}{new} PointD(px2, py2), physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08086}08086                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getLineTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08087}08087                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08088}08088                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08089}08089                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getLineTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08090}08090                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08091}08091                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08092}08092                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getLineTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08093}08093                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08094}08094                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08095}08095                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08096}08096                         an.Text = meta.getLineText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08097}08097                         ome.units.quantity.Length fl = meta.getLineFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08098}08098                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08099}08099                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08100}08100                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08101}08101                         ome.xml.model.primitives.Color col = meta.getLineStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08102}08102                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08103}08103                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08104}08104                         ome.units.quantity.Length fw = meta.getLineStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08105}08105                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08106}08106                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08107}08107                         ome.xml.model.primitives.Color colf = meta.getLineFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08108}08108                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08109}08109                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08110}08110                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08111}08111                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08112}08112                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Rectangle"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08113}08113                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08114}08114                         an.type = ROI.Type.Rectangle;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08115}08115                         an.id = meta.getRectangleID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08116}08116                         \textcolor{keywordtype}{double} px = meta.getRectangleX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08117}08117                         \textcolor{keywordtype}{double} py = meta.getRectangleY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08118}08118                         \textcolor{keywordtype}{double} pw = meta.getRectangleWidth(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08119}08119                         \textcolor{keywordtype}{double} ph = meta.getRectangleHeight(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08120}08120                         an.Rect = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(\textcolor{keyword}{new} RectangleD(px, py, pw, ph), physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08121}08121                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getRectangleTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08122}08122                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08123}08123                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08124}08124                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getRectangleTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08125}08125                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08126}08126                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08127}08127                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getRectangleTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08128}08128                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08129}08129                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08130}08130                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08131}08131 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08132}08132                         an.Text = meta.getRectangleText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08133}08133                         ome.units.quantity.Length fl = meta.getRectangleFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08134}08134                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08135}08135                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08136}08136                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08137}08137                         ome.xml.model.primitives.Color col = meta.getRectangleStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08138}08138                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08139}08139                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08140}08140                         ome.units.quantity.Length fw = meta.getRectangleStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08141}08141                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08142}08142                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08143}08143                         ome.xml.model.primitives.Color colf = meta.getRectangleFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08144}08144                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08145}08145                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08146}08146                         ome.xml.model.enums.FillRule fr = meta.getRectangleFillRule(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08147}08147                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08148}08148                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08149}08149                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Ellipse"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08150}08150                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08151}08151                         an.type = ROI.Type.Ellipse;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08152}08152                         an.id = meta.getEllipseID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08153}08153                         \textcolor{keywordtype}{double} px = meta.getEllipseX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08154}08154                         \textcolor{keywordtype}{double} py = meta.getEllipseY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08155}08155                         \textcolor{keywordtype}{double} ew = meta.getEllipseRadiusX(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08156}08156                         \textcolor{keywordtype}{double} eh = meta.getEllipseRadiusY(im, sc).doubleValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08157}08157                         \textcolor{comment}{//We convert the ellipse radius to Rectangle}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08158}08158                         \textcolor{keywordtype}{double} w = ew * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08159}08159                         \textcolor{keywordtype}{double} h = eh * 2;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08160}08160                         \textcolor{keywordtype}{double} x = px -\/ ew;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08161}08161                         \textcolor{keywordtype}{double} y = py -\/ eh;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08162}08162                         an.Rect = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(\textcolor{keyword}{new} RectangleD(px, py, w, h), physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08163}08163                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getEllipseTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08164}08164                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08165}08165                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08166}08166                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getEllipseTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08167}08167                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08168}08168                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08169}08169                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getEllipseTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08170}08170                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08171}08171                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08172}08172                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08173}08173                         an.Text = meta.getEllipseText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08174}08174                         ome.units.quantity.Length fl = meta.getEllipseFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08175}08175                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08176}08176                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08177}08177                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08178}08178                         ome.xml.model.primitives.Color col = meta.getEllipseStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08179}08179                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08180}08180                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08181}08181                         ome.units.quantity.Length fw = meta.getEllipseStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08182}08182                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08183}08183                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08184}08184                         ome.xml.model.primitives.Color colf = meta.getEllipseFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08185}08185                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08186}08186                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08187}08187                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08188}08188                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08189}08189                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Polygon"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08190}08190                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08191}08191                         an.type = ROI.Type.Polygon;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08192}08192                         an.id = meta.getPolygonID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08193}08193                         an.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08194}08194                         \textcolor{keywordtype}{string} pxs = meta.getPolygonPoints(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08195}08195                         PointD[] pts = an.stringToPoints(pxs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08196}08196                         pts = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(pts, physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08197}08197                         \textcolor{keywordflow}{if} (pts.Length > 100)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08198}08198                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08199}08199                             an.type = ROI.Type.Freeform;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08200}08200                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08201}08201                         an.AddPoints(pts);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08202}08202                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getPolygonTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08203}08203                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08204}08204                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08205}08205                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getPolygonTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08206}08206                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08207}08207                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08208}08208                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getPolygonTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08209}08209                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08210}08210                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08211}08211                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08212}08212                         an.Text = meta.getPolygonText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08213}08213                         ome.units.quantity.Length fl = meta.getPolygonFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08214}08214                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08215}08215                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08216}08216                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08217}08217                         ome.xml.model.primitives.Color col = meta.getPolygonStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08218}08218                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08219}08219                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08220}08220                         ome.units.quantity.Length fw = meta.getPolygonStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08221}08221                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08222}08222                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08223}08223                         ome.xml.model.primitives.Color colf = meta.getPolygonFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08224}08224                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08225}08225                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08226}08226                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08227}08227                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08228}08228                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Polyline"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08229}08229                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08230}08230                         an.type = ROI.Type.Polyline;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08231}08231                         an.id = meta.getPolylineID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08232}08232                         \textcolor{keywordtype}{string} pxs = meta.getPolylinePoints(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08233}08233                         PointD[] pts = an.stringToPoints(pxs);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08234}08234                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} pi = 0; pi < pts.Length; pi++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08235}08235                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08236}08236                             pts[pi] = \mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(pts[pi], physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08237}08237                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08238}08238                         an.AddPoints(an.stringToPoints(pxs));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08239}08239                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getPolylineTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08240}08240                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08241}08241                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08242}08242                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getPolylineTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08243}08243                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08244}08244                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08245}08245                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getPolylineTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08246}08246                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08247}08247                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08248}08248                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08249}08249                         an.Text = meta.getPolylineText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08250}08250                         ome.units.quantity.Length fl = meta.getPolylineFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08251}08251                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08252}08252                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08253}08253                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08254}08254                         ome.xml.model.primitives.Color col = meta.getPolylineStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08255}08255                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08256}08256                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08257}08257                         ome.units.quantity.Length fw = meta.getPolylineStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08258}08258                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08259}08259                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08260}08260                         ome.xml.model.primitives.Color colf = meta.getPolylineFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08261}08261                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08262}08262                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08263}08263                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08264}08264                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08265}08265                     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}Label"{}})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08266}08266                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08267}08267                         an.type = ROI.Type.Label;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08268}08268                         an.id = meta.getLabelID(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08269}08269 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08270}08270                         ome.xml.model.primitives.NonNegativeInteger nz = meta.getLabelTheZ(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08271}08271                         \textcolor{keywordflow}{if} (nz != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08272}08272                             co.Z = nz.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08273}08273                         ome.xml.model.primitives.NonNegativeInteger nc = meta.getLabelTheC(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08274}08274                         \textcolor{keywordflow}{if} (nc != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08275}08275                             co.C = nc.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08276}08276                         ome.xml.model.primitives.NonNegativeInteger nt = meta.getLabelTheT(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08277}08277                         \textcolor{keywordflow}{if} (nt != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08278}08278                             co.T = nt.getNumberValue().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08279}08279                         an.coord = co;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08280}08280 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08281}08281                         ome.units.quantity.Length fl = meta.getLabelFontSize(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08282}08282                         \textcolor{keywordflow}{if} (fl != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08283}08283                             an.fontSize = fl.value().intValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08284}08284                         an.family = meta.getPointFontFamily(im, sc).name();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08285}08285                         ome.xml.model.primitives.Color col = meta.getLabelStrokeColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08286}08286                         \textcolor{keywordflow}{if} (col != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08287}08287                             an.strokeColor = Color.FromArgb(col.getAlpha(), col.getRed(), col.getGreen(), col.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08288}08288                         ome.units.quantity.Length fw = meta.getLabelStrokeWidth(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08289}08289                         \textcolor{keywordflow}{if} (fw != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08290}08290                             an.strokeWidth = (float)fw.value().floatValue();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08291}08291                         ome.xml.model.primitives.Color colf = meta.getLabelFillColor(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08292}08292                         \textcolor{keywordflow}{if} (colf != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08293}08293                             an.fillColor = Color.FromArgb(colf.getAlpha(), colf.getRed(), colf.getGreen(), colf.getBlue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08294}08294                         PointD p = \textcolor{keyword}{new} PointD(meta.getLabelX(im, sc).doubleValue(), meta.getLabelY(im, sc).doubleValue());}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08295}08295                         an.AddPoint(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aa8f5cb51957438be6c15d0cb79dc36fe}{ToStageSpace}}(p, physicalSizeX, physicalSizeY, volume.Location.X, volume.Location.Y));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08296}08296                         an.Text = meta.getLabelText(im, sc);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08297}08297                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08298}08298                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08299}08299             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08300}08300 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08301}08301             imageReader.close();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08302}08302             \textcolor{keywordflow}{return} Annotations;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08303}08303         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08304}08304 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08312}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc1cc8dfbef8164e1345098a7151a1bc}{08312}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc1cc8dfbef8164e1345098a7151a1bc}{ROIsToString}}(List<ROI> Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08313}08313         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08314}08314             \textcolor{keywordtype}{string} s = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08315}08315             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Annotations.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08316}08316             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08317}08317                 s += \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1bd82ed44eb2ee1b78b02f1f1a97102b}{ROIToString}}(Annotations[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08318}08318             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08319}08319             \textcolor{keywordflow}{return} s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08320}08320         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08321}08321 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08332}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1bd82ed44eb2ee1b78b02f1f1a97102b}{08332}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1bd82ed44eb2ee1b78b02f1f1a97102b}{ROIToString}}(\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08333}08333         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08334}08334             PointD[] points = an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a46ac91df835d2cfa668e6c6b1fb25382}{GetPoints}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08335}08335             \textcolor{keywordtype}{string} pts = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08336}08336             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < points.Length; j++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08337}08337             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08338}08338                 \textcolor{keywordflow}{if} (j == points.Length -\/ 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08339}08339                     pts += points[j].X.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{},"{}} + points[j].Y.ToString(CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08340}08340                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08341}08341                     pts += points[j].X.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{},"{}} + points[j].Y.ToString(CultureInfo.InvariantCulture) + \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08342}08342             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08343}08343             \textcolor{keywordtype}{char} sep = (char)34;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08344}08344             \textcolor{keywordtype}{string} sColor = sep.ToString() + an.strokeColor.A.ToString() + \textcolor{charliteral}{','} + an.strokeColor.R.ToString() + \textcolor{charliteral}{','} + an.strokeColor.G.ToString() + \textcolor{charliteral}{','} + an.strokeColor.B.ToString() + sep.ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08345}08345             \textcolor{keywordtype}{string} bColor = sep.ToString() + an.fillColor.A.ToString() + \textcolor{charliteral}{','} + an.fillColor.R.ToString() + \textcolor{charliteral}{','} + an.fillColor.G.ToString() + \textcolor{charliteral}{','} + an.fillColor.B.ToString() + sep.ToString();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08346}08346 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08347}08347             \textcolor{keywordtype}{string} line = an.roiID + \textcolor{charliteral}{','} + an.roiName + \textcolor{charliteral}{','} + an.type.ToString() + \textcolor{charliteral}{','} + an.id + \textcolor{charliteral}{','} + an.shapeIndex.ToString() + \textcolor{charliteral}{','} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08348}08348                 an.Text + \textcolor{charliteral}{','} + an.serie + \textcolor{charliteral}{','} + an.coord.Z.ToString() + \textcolor{charliteral}{','} + an.coord.C.ToString() + \textcolor{charliteral}{','} + an.coord.T.ToString() + \textcolor{charliteral}{','} + an.X.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} + an.Y.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} +}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08349}08349                 an.W.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} + an.H.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} + sep.ToString() + pts + sep.ToString() + \textcolor{charliteral}{','} + sColor + \textcolor{charliteral}{','} + an.strokeWidth.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} + bColor + \textcolor{charliteral}{','} + an.fontSize.ToString(CultureInfo.InvariantCulture) + \textcolor{charliteral}{','} + NewLine;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08350}08350             \textcolor{keywordflow}{return} line;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08351}08351         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08362}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a616c510a1434e4cbcef43b0f10db3993}{08362}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a616c510a1434e4cbcef43b0f10db3993}{StringToROI}}(\textcolor{keywordtype}{string} sts)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08363}08363         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08364}08364             \textcolor{comment}{//Works with either comma or tab separated values.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08365}08365             \textcolor{keywordflow}{if} (sts.StartsWith(\textcolor{stringliteral}{"{}<?xml"{}}) || sts.StartsWith(\textcolor{stringliteral}{"{}\{"{}}))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08366}08366                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08367}08367             \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08368}08368             \textcolor{keywordtype}{string} val = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08369}08369             \textcolor{keywordtype}{bool} inSep = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08370}08370             \textcolor{keywordtype}{int} col = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08371}08371             \textcolor{keywordtype}{double} x = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08372}08372             \textcolor{keywordtype}{double} y = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08373}08373             \textcolor{keywordtype}{double} w = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08374}08374             \textcolor{keywordtype}{double} h = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08375}08375             \textcolor{keywordtype}{string} line = sts;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08376}08376             \textcolor{keywordtype}{bool} points = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08377}08377             \textcolor{keywordtype}{char} sep = \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08378}08378             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < line.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08379}08379             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08380}08380                 \textcolor{keywordtype}{char} c = line[i];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08381}08381                 \textcolor{keywordflow}{if} (c == sep)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08382}08382                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08383}08383                     \textcolor{keywordflow}{if} (!inSep)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08384}08384                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08385}08385                         inSep = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08386}08386                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08387}08387                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08388}08388                         inSep = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08389}08389                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08390}08390                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08391}08391 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08392}08392                 \textcolor{keywordflow}{if} ((c == \textcolor{charliteral}{','} || c == \textcolor{charliteral}{'\(\backslash\)t'}) \&\& (!inSep || points))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08393}08393                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08394}08394                     \textcolor{comment}{//ROIID,ROINAME,TYPE,ID,SHAPEINDEX,TEXT,C,Z,T,X,Y,W,H,POINTS,STROKECOLOR,STROKECOLORW,FILLCOLOR,FONTSIZE}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08395}08395                     \textcolor{keywordflow}{if} (col == 0)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08396}08396                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08397}08397                         \textcolor{comment}{//ROIID}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08398}08398                         an.roiID = val;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08399}08399                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08400}08400                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08401}08401                     \textcolor{keywordflow}{if} (col == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08402}08402                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08403}08403                         \textcolor{comment}{//ROINAME}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08404}08404                         an.roiName = val;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08405}08405                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08406}08406                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08407}08407                     \textcolor{keywordflow}{if} (col == 2)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08408}08408                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08409}08409                         \textcolor{comment}{//TYPE}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08410}08410                         an.type = (\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type)Enum.Parse(typeof(\mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type), val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08411}08411                         \textcolor{keywordflow}{if} (an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Freeform || an.type == \mbox{\hyperlink{class_bio_lib_1_1_r_o_i}{ROI}}.Type.Polygon)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08412}08412                             an.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08413}08413                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08414}08414                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08415}08415                     \textcolor{keywordflow}{if} (col == 3)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08416}08416                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08417}08417                         \textcolor{comment}{//ID}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08418}08418                         an.id = val;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08419}08419                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08420}08420                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08421}08421                     \textcolor{keywordflow}{if} (col == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08422}08422                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08423}08423                         \textcolor{comment}{//SHAPEINDEX/}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08424}08424                         an.shapeIndex = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08425}08425                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08426}08426                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08427}08427                     \textcolor{keywordflow}{if} (col == 5)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08428}08428                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08429}08429                         \textcolor{comment}{//TEXT/}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08430}08430                         an.Text = val;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08431}08431                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08432}08432                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08433}08433                     \textcolor{keywordflow}{if} (col == 6)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08434}08434                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08435}08435                         an.serie = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08436}08436                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08437}08437                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08438}08438                     \textcolor{keywordflow}{if} (col == 7)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08439}08439                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08440}08440                         an.coord.Z = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08441}08441                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08442}08442                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08443}08443                     \textcolor{keywordflow}{if} (col == 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08444}08444                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08445}08445                         an.coord.C = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08446}08446                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08447}08447                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08448}08448                     \textcolor{keywordflow}{if} (col == 9)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08449}08449                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08450}08450                         an.coord.T = \textcolor{keywordtype}{int}.Parse(val);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08451}08451                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08452}08452                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08453}08453                     \textcolor{keywordflow}{if} (col == 10)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08454}08454                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08455}08455                         x = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08456}08456                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08457}08457                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08458}08458                     \textcolor{keywordflow}{if} (col == 11)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08459}08459                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08460}08460                         y = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08461}08461                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08462}08462                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08463}08463                     \textcolor{keywordflow}{if} (col == 12)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08464}08464                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08465}08465                         w = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08466}08466                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08467}08467                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08468}08468                     \textcolor{keywordflow}{if} (col == 13)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08469}08469                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08470}08470                         h = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08471}08471                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08472}08472                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08473}08473                     \textcolor{keywordflow}{if} (col == 14)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08474}08474                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08475}08475                         \textcolor{comment}{//POINTS}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08476}08476                         an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_adf4c7167c4ac9a63e0177e97a6ee030a}{AddPoints}}(an.\mbox{\hyperlink{class_bio_lib_1_1_r_o_i_a6b33717a4c97372d0a94d7c5c8080169}{stringToPoints}}(val));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08477}08477                         points = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08478}08478                         an.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{struct_bio_lib_1_1_rectangle_d}{RectangleD}}(x, y, w, h);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08479}08479                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08480}08480                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08481}08481                     \textcolor{keywordflow}{if} (col == 15)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08482}08482                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08483}08483                         \textcolor{comment}{//STROKECOLOR}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08484}08484                         \textcolor{keywordtype}{string}[] st = val.Split(\textcolor{charliteral}{','});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08485}08485                         an.strokeColor = Color.FromArgb(\textcolor{keywordtype}{int}.Parse(st[0]), \textcolor{keywordtype}{int}.Parse(st[1]), \textcolor{keywordtype}{int}.Parse(st[2]), \textcolor{keywordtype}{int}.Parse(st[3]));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08486}08486                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08487}08487                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08488}08488                     \textcolor{keywordflow}{if} (col == 16)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08489}08489                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08490}08490                         \textcolor{comment}{//STROKECOLORW}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08491}08491                         an.strokeWidth = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08492}08492                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08493}08493                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08494}08494                     \textcolor{keywordflow}{if} (col == 17)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08495}08495                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08496}08496                         \textcolor{comment}{//FILLCOLOR}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08497}08497                         \textcolor{keywordtype}{string}[] st = val.Split(\textcolor{charliteral}{','});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08498}08498                         an.fillColor = Color.FromArgb(\textcolor{keywordtype}{int}.Parse(st[0]), \textcolor{keywordtype}{int}.Parse(st[1]), \textcolor{keywordtype}{int}.Parse(st[2]), \textcolor{keywordtype}{int}.Parse(st[3]));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08499}08499                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08500}08500                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08501}08501                     \textcolor{keywordflow}{if} (col == 18)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08502}08502                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08503}08503                         \textcolor{comment}{//FONTSIZE}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08504}08504                         \textcolor{keywordtype}{double} s = \textcolor{keywordtype}{double}.Parse(val, CultureInfo.InvariantCulture);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08505}08505                         an.fontSize = (float)s;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08506}08506                         an.family = \textcolor{stringliteral}{"{}Times New Roman"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08507}08507                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08508}08508                     col++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08509}08509                     val = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08510}08510                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08511}08511                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08512}08512                     val += c;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08513}08513             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08514}08514 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08515}08515             \textcolor{keywordflow}{return} an;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08516}08516         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08517}08517 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08525}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3630ab9b3a2e82e6d733b122d8035c89}{08525}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3630ab9b3a2e82e6d733b122d8035c89}{ExportROIsCSV}}(\textcolor{keywordtype}{string} filename, List<ROI> Annotations)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08526}08526         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08527}08527             \textcolor{keywordtype}{string} con = columns;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08528}08528             con += \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acc1cc8dfbef8164e1345098a7151a1bc}{ROIsToString}}(Annotations);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08529}08529             File.WriteAllText(filename, con);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08530}08530         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08531}08531 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08541}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae74e13dfef39281cd92b663a08971131}{08541}}         \textcolor{keyword}{public} \textcolor{keyword}{static} List<ROI> \mbox{\hyperlink{class_bio_lib_1_1_bio_image_ae74e13dfef39281cd92b663a08971131}{ImportROIsCSV}}(\textcolor{keywordtype}{string} filename)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08542}08542         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08543}08543             List<ROI> list = \textcolor{keyword}{new} List<ROI>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08544}08544             \textcolor{keywordflow}{if} (!File.Exists(filename))}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08545}08545                 \textcolor{keywordflow}{return} list;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08546}08546             \textcolor{keywordtype}{string}[] sts = File.ReadAllLines(filename);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08547}08547             \textcolor{comment}{//We start reading from line 1.}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08548}08548             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < sts.Length; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08549}08549             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08550}08550                 list.Add(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a616c510a1434e4cbcef43b0f10db3993}{StringToROI}}(sts[i]));}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08551}08551             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08552}08552             \textcolor{keywordflow}{return} list;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08553}08553         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08554}08554 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08566}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a20a36586911ac7de046cf4b1365e25a9}{08566}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a20a36586911ac7de046cf4b1365e25a9}{ExportROIFolder}}(\textcolor{keywordtype}{string} path, \textcolor{keywordtype}{string} filename)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08567}08567         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08568}08568             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aced4701731fa1ab8467ca36935c9276e}{OMESupport}}())}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08569}08569                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08570}08570             \textcolor{keywordtype}{string}[] fs = Directory.GetFiles(path);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08571}08571             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08572}08572             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} f \textcolor{keywordflow}{in} fs)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08573}08573             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08574}08574                 List<ROI> annotations = OpenOMEROIs(f, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08575}08575                 \textcolor{keywordtype}{string} ff = Path.GetFileNameWithoutExtension(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08576}08576                 \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a3630ab9b3a2e82e6d733b122d8035c89}{ExportROIsCSV}}(path + \textcolor{stringliteral}{"{}//"{}} + ff + \textcolor{stringliteral}{"{}-\/"{}} + i.ToString() + \textcolor{stringliteral}{"{}.csv"{}}, annotations);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08577}08577                 i++;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08578}08578             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08579}08579         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08580}08580 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08581}08581         \textcolor{keyword}{private} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} bstats = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08582}08582         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} update = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08583}08583 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08595}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a33fd20434c7967adf57ef56ca1f959e0}{08595}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a33fd20434c7967adf57ef56ca1f959e0}{AutoThreshold}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b, \textcolor{keywordtype}{bool} updateImageStats)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08596}08596         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08597}08597             bstats = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08598}08598             Statistics statistics = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08599}08599             \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08600}08600                 statistics = \textcolor{keyword}{new} Statistics(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08601}08601             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08602}08602                 statistics = \textcolor{keyword}{new} Statistics(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08603}08603             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < b.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08604}08604             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08605}08605                 \textcolor{keywordflow}{if} (b.Buffers[i].Stats == \textcolor{keyword}{null} || updateImageStats)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08606}08606                     b.Buffers[i].Stats = Statistics.FromBytes(b.Buffers[i]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08607}08607                 \textcolor{keywordflow}{if} (b.Buffers[i].RGBChannelsCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08608}08608                     statistics.AddStatistics(b.Buffers[i].Stats[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08609}08609                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08610}08610                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08611}08611                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < b.Buffers[i].RGBChannelsCount; r++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08612}08612                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08613}08613                         statistics.AddStatistics(b.Buffers[i].Stats[r]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08614}08614                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08615}08615                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08616}08616             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08617}08617 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08618}08618             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < b.Channels.Count; c++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08619}08619             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08620}08620                 Statistics[] sts = \textcolor{keyword}{new} Statistics[b.Buffers[0].RGBChannelsCount];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08621}08621                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < b.Buffers[0].RGBChannelsCount; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08622}08622                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08623}08623                     \textcolor{keywordflow}{if} (b.bitsPerPixel > 8)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08624}08624                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08625}08625                         sts[i] = \textcolor{keyword}{new} Statistics(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08626}08626                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08627}08627                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08628}08628                         sts[i] = \textcolor{keyword}{new} Statistics(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08629}08629                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08630}08630                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z = 0; z < b.SizeZ; z++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08631}08631                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08632}08632                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} t = 0; t < b.SizeT; t++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08633}08633                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08634}08634                         \textcolor{keywordtype}{int} ind = b.Coords[z, c, t];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08635}08635                         \textcolor{keywordflow}{if} (b.Buffers[ind].RGBChannelsCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08636}08636                             sts[0].AddStatistics(b.Buffers[ind].Stats[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08637}08637                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08638}08638                         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08639}08639                             sts[0].AddStatistics(b.Buffers[ind].Stats[0]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08640}08640                             sts[1].AddStatistics(b.Buffers[ind].Stats[1]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08641}08641                             sts[2].AddStatistics(b.Buffers[ind].Stats[2]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08642}08642                             \textcolor{keywordflow}{if} (b.Buffers[ind].RGBChannelsCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08643}08643                                 sts[3].AddStatistics(b.Buffers[ind].Stats[3]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08644}08644                         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08645}08645                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08646}08646                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08647}08647                 \textcolor{keywordflow}{if} (b.RGBChannelCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08648}08648                     sts[0].MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08649}08649                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08650}08650                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08651}08651                     sts[0].MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08652}08652                     sts[1].MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08653}08653                     sts[2].MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08654}08654                     \textcolor{keywordflow}{if} (b.Buffers[0].RGBChannelsCount == 4)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08655}08655                         sts[3].MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08656}08656                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08657}08657                 b.Channels[c].stats = sts;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08658}08658             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08659}08659             statistics.MeanHistogram();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08660}08660             b.statistics = statistics;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08661}08661 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08662}08662         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08663}08663 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08668}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{08668}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08669}08669         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08670}08670             \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}}(bstats, update);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08671}08671         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08672}08672 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08680}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af34c9265b442f65661297c8d63c2bf6b}{08680}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af34c9265b442f65661297c8d63c2bf6b}{AutoThresholdThread}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08681}08681         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08682}08682             bstats = b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08683}08683             Thread th = \textcolor{keyword}{new} Thread(\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a2b70a64cf4a28cfb9a72417dfe8732d0}{AutoThreshold}});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08684}08684             th.Start();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08685}08685         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08686}08686 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08705}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_afe55cc7945c8d19b0b6bc05e0222faad}{08705}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_afe55cc7945c8d19b0b6bc05e0222faad}{FindFocus}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} im, \textcolor{keywordtype}{int} Channel, \textcolor{keywordtype}{int} Time)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08706}08706         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08707}08707             \textcolor{keywordtype}{long} mf = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08708}08708             \textcolor{keywordtype}{int} fr = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08709}08709             List<double> dt = \textcolor{keyword}{new} List<double>();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08710}08710             ZCT c = \textcolor{keyword}{new} ZCT(0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08711}08711             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < im.SizeZ; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08712}08712             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08713}08713                 \textcolor{keywordtype}{long} f = CalculateFocusQuality(im.Buffers[im.Coords[i, Channel, Time]]);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08714}08714                 dt.Add(f);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08715}08715                 \textcolor{keywordflow}{if} (f > mf)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08716}08716                 \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08717}08717                     mf = f;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08718}08718                     fr = im.Coords[i, Channel, Time];}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08719}08719                 \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08720}08720             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08721}08721             \textcolor{keywordflow}{return} fr;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08722}08722         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08723}08723 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08732}08732         \textcolor{keyword}{static} \textcolor{keywordtype}{long} CalculateFocusQuality(Bitmap b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08733}08733         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08734}08734             \textcolor{keywordflow}{if} (b.RGBChannelsCount == 1)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08735}08735             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08736}08736                 \textcolor{keywordtype}{long} sum = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08737}08737                 \textcolor{keywordtype}{long} sumOfSquaresR = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08738}08738                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < b.SizeY; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08739}08739                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < b.SizeX; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08740}08740                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08741}08741                         ColorS pixel = b.GetPixel(x, y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08742}08742                         sum += pixel.R;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08743}08743                         sumOfSquaresR += pixel.R * pixel.R;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08744}08744                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08745}08745                 \textcolor{keywordflow}{return} sumOfSquaresR * b.SizeX * b.SizeY -\/ sum * sum;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08746}08746             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08747}08747             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08748}08748             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08749}08749                 \textcolor{keywordtype}{long} sum = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08750}08750                 \textcolor{keywordtype}{long} sumOfSquares = 0;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08751}08751                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < b.SizeY; y++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08752}08752                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < b.SizeX; x++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08753}08753                     \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08754}08754                         ColorS pixel = b.GetPixel(x, y);}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08755}08755                         \textcolor{keywordtype}{int} p = (pixel.R + pixel.G + pixel.B) / 3;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08756}08756                         sum += p;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08757}08757                         sumOfSquares += p * p;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08758}08758                     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08759}08759                 \textcolor{keywordflow}{return} sumOfSquares * b.SizeX * b.SizeY -\/ sum * sum;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08760}08760             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08761}08761         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08762}08762 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08767}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a25e327efa091538fe722d4de62a61e37}{08767}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a25e327efa091538fe722d4de62a61e37}{Dispose}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08768}08768         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08769}08769             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08770}08770             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08771}08771                 Buffers[i].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08772}08772             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08773}08773             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Channels.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08774}08774             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08775}08775                 Channels[i].Dispose();}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08776}08776             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08777}08777             Images.RemoveImage(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08778}08778         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08779}08779 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08787}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a46b27bfab51f5ddc76e51a6cf1d70983}{08787}}         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a46b27bfab51f5ddc76e51a6cf1d70983}{ToString}}()}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08788}08788         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08789}08789             \textcolor{keywordflow}{return} Filename.ToString() + \textcolor{stringliteral}{"{}, ("{}} + Volume.Location.X + \textcolor{stringliteral}{"{}, "{}} + Volume.Location.Y + \textcolor{stringliteral}{"{}, "{}} + Volume.Location.Z + \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08790}08790         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08791}08791 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08792}08792         }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08804}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a64ee8b6f7d8f5d14cd31705cdb110c19}{08804}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a64ee8b6f7d8f5d14cd31705cdb110c19}{operator /}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, \textcolor{keywordtype}{float} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08805}08805         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08806}08806             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08807}08807             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08808}08808                 a.Buffers[i] = a.Buffers[i] / b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08809}08809             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08810}08810             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08811}08811         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08812}08812 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08813}08813         }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08825}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1f93a9cfa2e8f95647ece05a826f8cf5}{08825}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1f93a9cfa2e8f95647ece05a826f8cf5}{operator +}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, \textcolor{keywordtype}{float} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08826}08826         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08827}08827             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08828}08828             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08829}08829                 a.Buffers[i] = a.Buffers[i] + b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08830}08830             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08831}08831             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08832}08832         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08844}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_af649f6dc9490d2fcd8cfa51b55166b9a}{08844}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af649f6dc9490d2fcd8cfa51b55166b9a}{operator -\/}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, \textcolor{keywordtype}{float} b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08845}08845         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08846}08846             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08847}08847             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08848}08848                 a.Buffers[i] = a.Buffers[i] -\/ b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08849}08849             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08850}08850             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08851}08851         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08852}08852 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08866}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_afbdce8df32c1359ef624a871914c7f4d}{08866}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a64ee8b6f7d8f5d14cd31705cdb110c19}{operator /}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, ColorS b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08867}08867         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08868}08868             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08869}08869             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08870}08870                 a.Buffers[i] = a.Buffers[i] / b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08871}08871             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08872}08872             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08873}08873         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08874}08874 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08888}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_acb065299b64687505b2e5a07a6d6d78a}{08888}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_acb065299b64687505b2e5a07a6d6d78a}{operator *}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, ColorS b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08889}08889         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08890}08890             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08891}08891             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08892}08892                 a.Buffers[i] = a.Buffers[i] * b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08893}08893             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08894}08894             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08895}08895         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08896}08896 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08910}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_a0869ed6d91aa56fe71e1692a90ec9698}{08910}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_a1f93a9cfa2e8f95647ece05a826f8cf5}{operator +}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, ColorS b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08911}08911         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08912}08912             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08913}08913             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08914}08914                 a.Buffers[i] = a.Buffers[i] + b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08915}08915             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08916}08916             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08917}08917         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08918}08918 }
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08931}\mbox{\hyperlink{class_bio_lib_1_1_bio_image_aeb1c0490bd76c5c882ca210af6a5fbfc}{08931}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} \mbox{\hyperlink{class_bio_lib_1_1_bio_image_af649f6dc9490d2fcd8cfa51b55166b9a}{operator -\/}}(\mbox{\hyperlink{class_bio_lib_1_1_bio_image}{BioImage}} a, ColorS b)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08932}08932         \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08933}08933             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < a.Buffers.Count; i++)}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08934}08934             \{}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08935}08935                 a.Buffers[i] = a.Buffers[i] -\/ b;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08936}08936             \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08937}08937             \textcolor{keywordflow}{return} a;}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08938}08938         \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08939}08939     \}}
\DoxyCodeLine{\Hypertarget{_bio_8cs_source_l08940}08940 \}}

\end{DoxyCode}
